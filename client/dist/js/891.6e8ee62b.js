"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[891],{6313:function(a,s,e){e.d(s,{A:function(){return d}});var l=e(6768),t=e(4232);const i={class:"app-footer"};function o(a,s,e,o,n,r){return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("span",null,"© IPPC "+(0,t.v_)((new Date).getFullYear())+" Todos os direitos reservados",1)])}var n={name:"Footer_Comp"},r=e(1241);const u=(0,r.A)(n,[["render",o]]);var d=u},8808:function(a,s,e){e.d(s,{A:function(){return D}});var l=e(6768),t=e(4232),i=e(7303);const o={class:"page-header"},n=(0,l.Lk)("div",{class:"toggle-sidebar",id:"toggle-sidebar"},[(0,l.Lk)("i",{class:"bi bi-list"})],-1),r=(0,l.Lk)("img",{src:i,class:"logo-sm",alt:"Bootstrap Gallery"},null,-1),u={class:"breadcrumb d-lg-flex d-none"},d={class:"breadcrumb-item"},c=(0,l.Lk)("i",{class:"bi bi-house fs-5"},null,-1),m={class:"breadcrumb-item breadcrumb-active","aria-current":"page"},b={class:"header-actions-container"},h=(0,l.Lk)("span",{class:"lead-icon text-dark"},[(0,l.Lk)("i",{class:"bi bi-person-fill text-secondary"})],-1),p={class:"header-actions"},f={class:"dropdown"},k={id:"userSettings",class:"user-settings","data-toggle":"dropdown","aria-haspopup":"true"},g={class:"user-name d-none d-md-block"},L={class:"avatar"},v=["src"],S=(0,l.Lk)("span",{class:"status online"},null,-1),x={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userSettings"},I={class:"header-profile-actions"},C=(0,l.Lk)("span",{class:"fas fa-user",style:{"margin-right":"10px"}},null,-1),F=(0,l.Lk)("span",{class:"fas fa-bell",style:{"margin-right":"10px"}},null,-1),w=(0,l.Lk)("span",{class:"fas fa-cog",style:{"margin-right":"10px"}},null,-1),A=(0,l.Lk)("span",{class:"fas fa-sign-out-alt",style:{"margin-right":"10px"}},null,-1);function _(a,s,e,i,_,y){const E=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",o,[n,(0,l.bF)(E,{to:"/dashboard",class:"d-lg-none d-md-block"},{default:(0,l.k6)((()=>[r])),_:1}),(0,l.Lk)("ol",u,[(0,l.Lk)("li",d,[c,(0,l.bF)(E,{to:"/dashboard"},{default:(0,l.k6)((()=>[(0,l.eW)("IPPC")])),_:1})]),(0,l.Lk)("li",m,(0,t.v_)(e.page),1)]),(0,l.Lk)("div",b,[(0,l.bF)(E,{to:"/admin/autenticacao/profile",class:"leads d-none d-xl-flex"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,(0,t.v_)(a.user.nivel),1),h])),_:1}),(0,l.Lk)("ul",p,[(0,l.Lk)("li",f,[(0,l.Lk)("a",k,[(0,l.Lk)("span",g,(0,t.v_)(a.user.nome),1),(0,l.Lk)("span",L,[(0,l.Lk)("img",{src:_.url+"/api/mediafiles/"+a.user.foto,alt:"Admin Templates"},null,8,v),S])]),(0,l.Lk)("div",x,[(0,l.Lk)("div",I,[(0,l.bF)(E,{class:"d-flex align-items-center",to:"/admin/autenticacao/profile"},{default:(0,l.k6)((()=>[C,(0,l.eW)(" Meu Perfil")])),_:1}),"Administrador"===a.user.nivel||"IT"===a.user.nivel?((0,l.uX)(),(0,l.Wv)(E,{key:0,class:"d-flex align-items-center",to:"/admin/auth/security-logs"},{default:(0,l.k6)((()=>[F,(0,l.eW)("Reg. de Atividades")])),_:1})):(0,l.Q3)("",!0),"Administrador"===a.user.nivel||"IT"===a.user.nivel?((0,l.uX)(),(0,l.Wv)(E,{key:1,class:"d-flex align-items-center",to:"/admin/configuracao"},{default:(0,l.k6)((()=>[w,(0,l.eW)(" Configuração")])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(E,{class:"d-flex align-items-center",to:"/admin/autenticacao/logout"},{default:(0,l.k6)((()=>[A,(0,l.eW)(" Terminar Sessão")])),_:1})])])])])])])}var y=e(9715),E=e(782),R={name:"Navbar_Comp",props:{page:String},data(){return{userData:{},url:""}},created(){this.url=y.OZ},computed:{...(0,E.aH)(["user"])}},U=e(1241);const $=(0,U.A)(R,[["render",_]]);var D=$},7417:function(a,s,e){e.d(s,{A:function(){return w}});var l=e(6768),t=e(5130),i=e(4232),o=e(7303);const n={class:"sidebar-wrapper"},r={class:"sidebar-brand"},u=(0,l.Lk)("img",{src:o,alt:"IPPC"},null,-1),d={class:"sidebar-menu"},c={class:"sidebarMenuScroll",style:{"overflow-y":"auto"}},m={class:"nav-link"},b=(0,l.Lk)("i",{class:"fas fa-home"},null,-1),h={class:"menu-text"},p={class:"sidebar-submenu"};function f(a,s,e,o,f,k){const g=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("nav",n,[(0,l.Lk)("div",r,[(0,l.bF)(g,{to:"/dashboard",class:"logo"},{default:(0,l.k6)((()=>[u])),_:1})]),(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[(0,l.Lk)("ul",null,[(0,l.Lk)("li",m,[(0,l.bF)(g,{to:"/dashboard"},{default:(0,l.k6)((()=>[b,(0,l.eW)(" PÁGINA INICIAL ")])),_:1})]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(f.items,(a=>((0,l.uX)(),(0,l.CE)("li",{key:a.id,class:"sidebar-dropdown"},[(0,l.Lk)("a",{href:"#",onClick:s[0]||(s[0]=(0,t.D$)((a=>k.toggleSubMenu(a)),["prevent"]))},[(0,l.Lk)("i",{class:(0,i.C4)(a.icon)},null,2),(0,l.Lk)("span",h,(0,i.v_)(a.label),1)]),(0,l.Lk)("div",p,[(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.subItems,(a=>((0,l.uX)(),(0,l.CE)("li",{key:a.id},[(0,l.bF)(g,{to:a.path},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(a.label),1)])),_:2},1032,["to"])])))),128))])])])))),128))])])])])}const k={id:1,label:"AUTENTICAÇÃO",icon:"fas fa-users",subItems:[{id:1,path:"/admin/autenticacao/users",label:"Utilizadores"}]},g={id:1,label:"TESOURARIA",icon:"fas fa-cash-register",subItems:[{id:0,path:"/admin/finances/emolumento-preco",label:"Emolumentos"},{id:2,path:"/admin/finances/despesas",label:"Depesas"},{id:3,path:"/admin/finances/devedores",label:"Devedores"}]},L={id:1,label:"GERIR ALUNOS",icon:"fas fa-users",subItems:[{id:1,path:"/admin/estudantes/lista-geral-estudantes",label:"Estudantes"},{id:2,path:"/admin/estudantes/matriculados",label:"Matriculas"}]},v={id:1,label:"GERIR ALUNOS",icon:"fas fa-users",subItems:[{id:1,path:"/admin/estudantes/lista-geral-estudantes",label:"Estudantes"}]},S={id:1,label:"R.HUMANOS",icon:"fas fa-user-tie",subItems:[{id:1,path:"/admin/rh/lista-geral-funcionarios",label:"Funcionários"},{id:2,path:"/admin/rh/contrato-docente",label:"C.Docentes"},{id:3,path:"/admin/rh/contrato-administrativo",label:"C.Administrativos"},{id:4,path:"/admin/rh/contrato-auxiliar",label:"C.Auxiliares"},{id:5,path:"/admin/rh/salarios",label:"Salários"}]};var x=e(782),I={name:"sidebar_comp",data(){return{items:[]}},methods:{toggleSubMenu(a){a.currentTarget.parentElement.classList.toggle("active"),a.currentTarget.nextElementSibling.classList.toggle("active")}},computed:{...(0,x.aH)(["user"])},mounted(){"Administrador"===this.$store.state.user.nivel&&(this.items=[L,g,S,k]),"IT"===this.$store.state.user.nivel?this.items=[L,g,S,k]:"Secretaria"===this.$store.state.user.nivel?this.items=[L]:"Tesouraria"===this.$store.state.user.nivel?this.items=[v,g]:"D.Pedagógico"===this.$store.state.user.nivel&&(this.items=[L])}},C=e(1241);const F=(0,C.A)(I,[["render",f]]);var w=F},8272:function(a,s,e){e.r(s),e.d(s,{default:function(){return K}});var l=e(6768),t=e(4232),i=e(5130);const o={class:"page-wrapper"},n={class:"main-container"},r={class:"content-wrapper-scroll"},u={class:"content-wrapper"},d={class:"row"},c={class:"col-12"},m={class:"card"},b={class:"d-flex p-3"},h=(0,l.Lk)("span",{class:"fas fa-chevron-left mx-1 fs-5"},null,-1),p=(0,l.Lk)("span",{class:"fa fa-file-pdf mx-1 fs-5"},null,-1),f=(0,l.Lk)("span",{class:"fa fa-print mx-1 fs-5"},null,-1),k={class:"card-body pt-0"},g={class:"row"},L={class:"col-md-6"},v=(0,l.Lk)("label",null,"Ano letivo",-1),S=(0,l.Lk)("br",null,null,-1),x=["value"],I={class:"col-md-6"},C=(0,l.Lk)("label",null,"Mês",-1),F=(0,l.Lk)("br",null,null,-1),w=["value"],A={class:"table table-striped table-bordered mt-2"},_=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"FUNCIONÁRIO"),(0,l.Lk)("th",null,"S.BASE"),(0,l.Lk)("th",null,"INSS"),(0,l.Lk)("th",null,"IRT"),(0,l.Lk)("th",null,"FALTAS"),(0,l.Lk)("th",null,"SUBSÍDIOS"),(0,l.Lk)("th",null,"S.LÍQUIDO"),(0,l.Lk)("th",null,"OPÇÕES")])],-1),y={class:"pt-3"},E=["onUpdate:modelValue","onInput"],R=["onUpdate:modelValue","onInput"],U=["onUpdate:modelValue","onInput"],$=["onUpdate:modelValue","onInput"],D={class:"pt-3"},N=["onClick"],T=(0,l.Lk)("span",{class:"fas fa-trash"},null,-1),X=[T],W=(0,l.Lk)("div",{class:"d-flex float-end"},[(0,l.Lk)("button",{type:"submit",class:"btn btn-sm btn-success mx-2 fw-bold text-uppercase"},[(0,l.Lk)("span",{class:"fas fa-database"}),(0,l.eW)(" Atualizar Dados ")])],-1);function O(a,s,e,T,O,P){const V=(0,l.g2)("Sidebar"),B=(0,l.g2)("Navbar"),H=(0,l.g2)("Footer");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(V),(0,l.Lk)("div",n,[(0,l.bF)(B,{page:"Recursos Humanos / Detalhes da Folha Salarial"}),(0,l.Lk)("div",r,[(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[(0,l.Lk)("div",m,[(0,l.Lk)("div",b,[(0,l.Lk)("button",{style:{background:"black"},onClick:s[0]||(s[0]=(...a)=>P.goBack&&P.goBack(...a)),class:"btn text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[h,(0,l.eW)(" Voltar ")]),(0,l.Lk)("button",{onClick:s[1]||(s[1]=(...s)=>a.selectRow&&a.selectRow(...s)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-success text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[p,(0,l.eW)(" Processar ")]),(0,l.Lk)("button",{onClick:s[2]||(s[2]=(...s)=>a.selectRow&&a.selectRow(...s)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[f,(0,l.eW)(" Imprimir ")])]),(0,l.Lk)("div",k,[(0,l.Lk)("div",g,[(0,l.Lk)("div",L,[v,S,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=a=>O.salario.ano_lectivo_id=a),readonly:"",disabled:""},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(O.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,t.v_)(a.nome),9,x)))),128))],512),[[i.u1,O.salario.ano_lectivo_id]])]),(0,l.Lk)("div",I,[C,F,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=a=>O.salario.mes=a),readonly:"",disabled:""},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(O.meses,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a,value:a},(0,t.v_)(a),9,w)))),128))],512),[[i.u1,O.salario.mes]])])]),(0,l.Lk)("form",{onSubmit:s[5]||(s[5]=(0,i.D$)(((...a)=>P.sendData&&P.sendData(...a)),["prevent"]))},[(0,l.Lk)("table",A,[_,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(O.folhasSalariais,((a,s)=>((0,l.uX)(),(0,l.CE)("tr",{key:s},[(0,l.Lk)("td",null,(0,t.v_)(a.Funcionario.nome),1),(0,l.Lk)("td",y,[(0,l.Lk)("h6",null,(0,t.v_)(P.numberFormat(O.folhasSalariais[s].salario_base,2,",",".")),1)]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>O.folhasSalariais[s].inss=a,type:"number",class:"form-control",onInput:a=>P.onInputChange(s)},null,40,E),[[i.Jo,O.folhasSalariais[s].inss]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>O.folhasSalariais[s].irt=a,type:"number",class:"form-control",onInput:a=>P.onInputChange(s)},null,40,R),[[i.Jo,O.folhasSalariais[s].irt]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>O.folhasSalariais[s].faltas=a,type:"number",class:"form-control",onInput:a=>P.onInputChange(s)},null,40,U),[[i.Jo,O.folhasSalariais[s].faltas]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>O.folhasSalariais[s].subsidios=a,type:"number",class:"form-control",onInput:a=>P.onInputChange(s)},null,40,$),[[i.Jo,O.folhasSalariais[s].subsidios]])]),(0,l.Lk)("td",D,[(0,l.Lk)("h6",null,(0,t.v_)(P.numberFormat(O.folhasSalariais[s].salario_liquido,2,",",".")),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("button",{type:"button",onClick:a=>P.removeRow(s),class:"btn btn-danger"},X,8,N)])])))),128))])]),W],32)])])])])]),(0,l.bF)(H)])])])}var P=e(7417),V=e(8808),B=e(6313),H=e(9715),M=e(782),J={name:"salary_sheet_detail_view",components:{Sidebar:P.A,Navbar:V.A,Footer:B.A},data(){return{title:"Detalhes da Folha",selectedRow:null,folhasSalariais:[],anos:[],meses:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],salario:{}}},computed:{...(0,M.aH)(["user"])},mounted(){this.getFolhasSalariais(),this.getSalarios(),this.getAnos()},methods:{goBack(){this.$router.go(-1)},removeRow(a){this.$swal.fire({title:"Notificação",text:"Deseja Remover este item da lista",icon:"warning",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não"}).then((s=>{s.isConfirmed&&this.deleteForm(this.folhasSalariais[a].id,a)}))},numberFormat:H.jq,getAnos(){H.FH.get("/anos/").then((a=>{this.anos=a.data})).catch((a=>{console.log(a)}))},getSalarios(){H.FH.get(`/salarios/${this.$route.params.id}`).then((a=>{this.salario=a.data})).catch((a=>{console.log(a)}))},getFolhasSalariais(){H.FH.get(`/salarios/salario/${this.$route.params.id}`).then((a=>{this.folhasSalariais=a.data,this.folhasSalariais.forEach(((a,s)=>{this.calcularSalarioLiquido(s)}))})).catch((a=>{console.log(a)}))},deleteForm(a,s){H.FH.delete(`/salarios/folha-salarial/${a}`).then((a=>{!0===a.data.title?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.folhasSalariais.splice(s,1),this.getFolhasSalariais()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((a=>{console.log(a)}))},calcularSalarioLiquido(a){const s=this.folhasSalariais[a].salario_base,e=this.folhasSalariais[a].inss/100,l=this.folhasSalariais[a].irt/100,t=this.folhasSalariais[a].faltas,i=this.folhasSalariais[a].subsidios,o=s-t+i,n=o*e,r=o*l,u=o-n-r;this.folhasSalariais[a].salario_liquido=u},onInputChange(a){this.calcularSalarioLiquido(a)},sendData(){const a={itens:this.folhasSalariais};H.FH.put("/salarios/folha-salarial/update-salarios/all",a).then((a=>{!0===a.data.title?this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}):this.$swal.fire({title:"Erro",text:"Não foi possível atualizar",icon:"error"})})).catch((()=>{this.$swal.fire({title:"Erro",text:"Não foi possível atualizar",icon:"error"})}))}}},q=e(1241);const z=(0,q.A)(J,[["render",O]]);var K=z},7303:function(a,s,e){a.exports=e.p+"img/castro.e2f36cae.jpeg"}}]);
//# sourceMappingURL=891.6e8ee62b.js.map