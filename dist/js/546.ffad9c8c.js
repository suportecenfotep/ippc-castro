(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[546],{6543:function(t){(function(e,s){t.exports=s()})(0,(function(){"use strict";var t=function(){},e=Object.prototype.hasOwnProperty,s=Array.prototype.slice;function a(e,s){var a;return"function"===typeof Object.create?a=Object.create(e):(t.prototype=e,a=new t,t.prototype=null),s&&i(!0,a,s),a}function n(t,e,s,n){var o=this;return"string"!==typeof t&&(n=s,s=e,e=t,t=null),"function"!==typeof e&&(n=s,s=e,e=function(){return o.apply(this,arguments)}),i(!1,e,o,n),e.prototype=a(o.prototype,s),e.prototype.constructor=e,e.class_=t||o.class_,e.super_=o,e}function i(t,a,n){var i,o;n=s.call(arguments,2);for(var r=0,l=n.length;r<l;r++)for(i in o=n[r],o)t&&!e.call(o,i)||(a[i]=o[i])}var o=n;function r(){}r.class_="Nevis",r.super_=Object,r.extend=o;var l=r,c=l,u=c.extend((function(t,e,s){this.qrious=t,this.element=e,this.element.qrious=t,this.enabled=Boolean(s)}),{draw:function(t){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(t){var e=this.qrious,s=e.padding||0,a=Math.floor((e.size-2*s)/t.width);return Math.max(1,a)},getOffset:function(t){var e=this.qrious,s=e.padding;if(null!=s)return s;var a=this.getModuleSize(t),n=Math.floor((e.size-a*t.width)/2);return Math.max(0,n)},render:function(t){this.enabled&&(this.resize(),this.reset(),this.draw(t))},reset:function(){},resize:function(){}}),d=u,h=d.extend({draw:function(t){var e,s,a=this.qrious,n=this.getModuleSize(t),i=this.getOffset(t),o=this.element.getContext("2d");for(o.fillStyle=a.foreground,o.globalAlpha=a.foregroundAlpha,e=0;e<t.width;e++)for(s=0;s<t.width;s++)t.buffer[s*t.width+e]&&o.fillRect(n*e+i,n*s+i,n,n)},reset:function(){var t=this.qrious,e=this.element.getContext("2d"),s=t.size;e.lineWidth=1,e.clearRect(0,0,s,s),e.fillStyle=t.background,e.globalAlpha=t.backgroundAlpha,e.fillRect(0,0,s,s)},resize:function(){var t=this.element;t.width=t.height=this.qrious.size}}),m=h,f=c.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),p=f,_=c.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),g=_,k=c.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),v=k,b=c.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),L=b,w=c.extend((function(t){var e,s,a,n,i,o=t.value.length;this._badness=[],this._level=g.LEVELS[t.level],this._polynomial=[],this._value=t.value,this._version=0,this._stringBuffer=[];while(this._version<40)if(this._version++,a=4*(this._level-1)+16*(this._version-1),n=g.BLOCKS[a++],i=g.BLOCKS[a++],e=g.BLOCKS[a++],s=g.BLOCKS[a],a=e*(n+i)+i-3+(this._version<=9),o<=a)break;this._dataBlock=e,this._eccBlock=s,this._neccBlock1=n,this._neccBlock2=i;var r=this.width=17+4*this._version;this.buffer=w._createArray(r*r),this._ecc=w._createArray(e+(e+s)*(n+i)+i),this._mask=w._createArray((r*(r+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+r*(r-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(o),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()}),{_addAlignment:function(t,e){var s,a=this.buffer,n=this.width;for(a[t+n*e]=1,s=-2;s<2;s++)a[t+s+n*(e-2)]=1,a[t-2+n*(e+s+1)]=1,a[t+2+n*(e+s)]=1,a[t+s+1+n*(e+2)]=1;for(s=0;s<2;s++)this._setMask(t-1,e+s),this._setMask(t+1,e-s),this._setMask(t-s,e-1),this._setMask(t+s,e+1)},_appendData:function(t,e,s,a){var n,i,o,r=this._polynomial,l=this._stringBuffer;for(i=0;i<a;i++)l[s+i]=0;for(i=0;i<e;i++){if(n=v.LOG[l[t+i]^l[s]],255!==n)for(o=1;o<a;o++)l[s+o-1]=l[s+o]^v.EXPONENT[w._modN(n+r[a-o])];else for(o=s;o<s+a;o++)l[o]=l[o+1];l[s+a-1]=255===n?0:v.EXPONENT[w._modN(n+r[0])]}},_appendEccToData:function(){var t,e=0,s=this._dataBlock,a=this._calculateMaxLength(),n=this._eccBlock;for(t=0;t<this._neccBlock1;t++)this._appendData(e,s,a,n),e+=s,a+=n;for(t=0;t<this._neccBlock2;t++)this._appendData(e,s+1,a,n),e+=s+1,a+=n},_applyMask:function(t){var e,s,a,n,i=this.buffer,o=this.width;switch(t){case 0:for(n=0;n<o;n++)for(a=0;a<o;a++)a+n&1||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 1:for(n=0;n<o;n++)for(a=0;a<o;a++)1&n||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 2:for(n=0;n<o;n++)for(e=0,a=0;a<o;a++,e++)3===e&&(e=0),e||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 3:for(s=0,n=0;n<o;n++,s++)for(3===s&&(s=0),e=s,a=0;a<o;a++,e++)3===e&&(e=0),e||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 4:for(n=0;n<o;n++)for(e=0,s=n>>1&1,a=0;a<o;a++,e++)3===e&&(e=0,s=!s),s||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 5:for(s=0,n=0;n<o;n++,s++)for(3===s&&(s=0),e=0,a=0;a<o;a++,e++)3===e&&(e=0),(a&n&1)+!(!e|!s)||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 6:for(s=0,n=0;n<o;n++,s++)for(3===s&&(s=0),e=0,a=0;a<o;a++,e++)3===e&&(e=0),(a&n&1)+(e&&e===s)&1||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 7:for(s=0,n=0;n<o;n++,s++)for(3===s&&(s=0),e=0,a=0;a<o;a++,e++)3===e&&(e=0),(e&&e===s)+(a+n&1)&1||this._isMasked(a,n)||(i[a+n*o]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var t,e,s=this._eccBlock,a=this._polynomial;for(a[0]=1,t=0;t<s;t++){for(a[t+1]=1,e=t;e>0;e--)a[e]=a[e]?a[e-1]^v.EXPONENT[w._modN(v.LOG[a[e]]+t)]:a[e-1];a[0]=v.EXPONENT[w._modN(v.LOG[a[0]]+t)]}for(t=0;t<=s;t++)a[t]=v.LOG[a[t]]},_checkBadness:function(){var t,e,s,a,n,i=0,o=this._badness,r=this.buffer,l=this.width;for(n=0;n<l-1;n++)for(a=0;a<l-1;a++)(r[a+l*n]&&r[a+1+l*n]&&r[a+l*(n+1)]&&r[a+1+l*(n+1)]||!(r[a+l*n]||r[a+1+l*n]||r[a+l*(n+1)]||r[a+1+l*(n+1)]))&&(i+=w.N2);var c=0;for(n=0;n<l;n++){for(s=0,o[0]=0,t=0,a=0;a<l;a++)e=r[a+l*n],t===e?o[s]++:o[++s]=1,t=e,c+=t?1:-1;i+=this._getBadness(s)}c<0&&(c=-c);var u=0,d=c;d+=d<<2,d<<=1;while(d>l*l)d-=l*l,u++;for(i+=u*w.N4,a=0;a<l;a++){for(s=0,o[0]=0,t=0,n=0;n<l;n++)e=r[a+l*n],t===e?o[s]++:o[++s]=1,t=e;i+=this._getBadness(s)}return i},_convertBitStream:function(t){var e,s,a=this._ecc,n=this._version;for(s=0;s<t;s++)a[s]=this._value.charCodeAt(s);var i=this._stringBuffer=a.slice(),o=this._calculateMaxLength();t>=o-2&&(t=o-2,n>9&&t--);var r=t;if(n>9){i[r+2]=0,i[r+3]=0;while(r--)e=i[r],i[r+3]|=255&e<<4,i[r+2]=e>>4;i[2]|=255&t<<4,i[1]=t>>4,i[0]=64|t>>12}else{i[r+1]=0,i[r+2]=0;while(r--)e=i[r],i[r+2]|=255&e<<4,i[r+1]=e>>4;i[1]|=255&t<<4,i[0]=64|t>>4}r=t+3-(n<10);while(r<o)i[r++]=236,i[r++]=17},_getBadness:function(t){var e,s=0,a=this._badness;for(e=0;e<=t;e++)a[e]>=5&&(s+=w.N1+a[e]-5);for(e=3;e<t-1;e+=2)a[e-2]===a[e+2]&&a[e+2]===a[e-1]&&a[e-1]===a[e+1]&&3*a[e-1]===a[e]&&(0===a[e-3]||e+3>t||3*a[e-3]>=4*a[e]||3*a[e+3]>=4*a[e])&&(s+=w.N3);return s},_finish:function(){var t,e;this._stringBuffer=this.buffer.slice();var s=0,a=3e4;for(e=0;e<8;e++){if(this._applyMask(e),t=this._checkBadness(),t<a&&(a=t,s=e),7===s)break;this.buffer=this._stringBuffer.slice()}s!==e&&this._applyMask(s),a=g.FINAL_FORMAT[s+(this._level-1<<3)];var n=this.buffer,i=this.width;for(e=0;e<8;e++,a>>=1)1&a&&(n[i-1-e+8*i]=1,e<6?n[8+i*e]=1:n[8+i*(e+1)]=1);for(e=0;e<7;e++,a>>=1)1&a&&(n[8+i*(i-7+e)]=1,e?n[6-e+8*i]=1:n[7+8*i]=1)},_interleaveBlocks:function(){var t,e,s=this._dataBlock,a=this._ecc,n=this._eccBlock,i=0,o=this._calculateMaxLength(),r=this._neccBlock1,l=this._neccBlock2,c=this._stringBuffer;for(t=0;t<s;t++){for(e=0;e<r;e++)a[i++]=c[t+e*s];for(e=0;e<l;e++)a[i++]=c[r*s+t+e*(s+1)]}for(e=0;e<l;e++)a[i++]=c[r*s+t+e*(s+1)];for(t=0;t<n;t++)for(e=0;e<r+l;e++)a[i++]=c[o+t+e*n];this._stringBuffer=a},_insertAlignments:function(){var t,e,s,a=this._version,n=this.width;if(a>1)for(t=p.BLOCK[a],s=n-7;;){e=n-7;while(e>t-3){if(this._addAlignment(e,s),e<t)break;e-=t}if(s<=t+9)break;s-=t,this._addAlignment(6,s),this._addAlignment(s,6)}},_insertFinders:function(){var t,e,s,a,n=this.buffer,i=this.width;for(t=0;t<3;t++){for(e=0,a=0,1===t&&(e=i-7),2===t&&(a=i-7),n[a+3+i*(e+3)]=1,s=0;s<6;s++)n[a+s+i*e]=1,n[a+i*(e+s+1)]=1,n[a+6+i*(e+s)]=1,n[a+s+1+i*(e+6)]=1;for(s=1;s<5;s++)this._setMask(a+s,e+1),this._setMask(a+1,e+s+1),this._setMask(a+5,e+s),this._setMask(a+s+1,e+5);for(s=2;s<4;s++)n[a+s+i*(e+2)]=1,n[a+2+i*(e+s+1)]=1,n[a+4+i*(e+s)]=1,n[a+s+1+i*(e+4)]=1}},_insertTimingGap:function(){var t,e,s=this.width;for(e=0;e<7;e++)this._setMask(7,e),this._setMask(s-8,e),this._setMask(7,e+s-7);for(t=0;t<8;t++)this._setMask(t,7),this._setMask(t+s-8,7),this._setMask(t,s-8)},_insertTimingRowAndColumn:function(){var t,e=this.buffer,s=this.width;for(t=0;t<s-14;t++)1&t?(this._setMask(8+t,6),this._setMask(6,8+t)):(e[8+t+6*s]=1,e[6+s*(8+t)]=1)},_insertVersion:function(){var t,e,s,a,n=this.buffer,i=this._version,o=this.width;if(i>6)for(t=L.BLOCK[i-7],e=17,s=0;s<6;s++)for(a=0;a<3;a++,e--)1&(e>11?i>>e-12:t>>e)?(n[5-s+o*(2-a+o-11)]=1,n[2-a+o-11+o*(5-s)]=1):(this._setMask(5-s,2-a+o-11),this._setMask(2-a+o-11,5-s))},_isMasked:function(t,e){var s=w._getMaskBit(t,e);return 1===this._mask[s]},_pack:function(){var t,e,s,a=1,n=1,i=this.width,o=i-1,r=i-1,l=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(e=0;e<l;e++)for(t=this._stringBuffer[e],s=0;s<8;s++,t<<=1){128&t&&(this.buffer[o+i*r]=1);do{n?o--:(o++,a?0!==r?r--:(o-=2,a=!a,6===o&&(o--,r=9)):r!==i-1?r++:(o-=2,a=!a,6===o&&(o--,r-=8))),n=!n}while(this._isMasked(o,r))}},_reverseMask:function(){var t,e,s=this.width;for(t=0;t<9;t++)this._setMask(t,8);for(t=0;t<8;t++)this._setMask(t+s-8,8),this._setMask(8,t);for(e=0;e<7;e++)this._setMask(8,e+s-7)},_setMask:function(t,e){var s=w._getMaskBit(t,e);this._mask[s]=1},_syncMask:function(){var t,e,s=this.width;for(e=0;e<s;e++)for(t=0;t<=e;t++)this.buffer[t+s*e]&&this._setMask(t,e)}},{_createArray:function(t){var e,s=[];for(e=0;e<t;e++)s[e]=0;return s},_getMaskBit:function(t,e){var s;return t>e&&(s=t,t=e,e=s),s=e,s+=e*e,s>>=1,s+=t,s},_modN:function(t){while(t>=255)t-=255,t=(t>>8)+(255&t);return t},N1:3,N2:3,N3:40,N4:10}),C=w,x=d.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var t=this.element;t.width=t.height=this.qrious.size}}),E=x,A=c.extend((function(t,e,s,a){this.name=t,this.modifiable=Boolean(e),this.defaultValue=s,this._valueTransformer=a}),{transform:function(t){var e=this._valueTransformer;return"function"===typeof e?e(t,this):t}}),y=A,M=c.extend(null,{abs:function(t){return null!=t?Math.abs(t):null},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},noop:function(){},toUpperCase:function(t){return null!=t?t.toUpperCase():null}}),F=M,S=c.extend((function(t){this.options={},t.forEach((function(t){this.options[t.name]=t}),this)}),{exists:function(t){return null!=this.options[t]},get:function(t,e){return S._get(this.options[t],e)},getAll:function(t){var e,s=this.options,a={};for(e in s)F.hasOwn(s,e)&&(a[e]=S._get(s[e],t));return a},init:function(t,e,s){var a,n;for(a in"function"!==typeof s&&(s=F.noop),this.options)F.hasOwn(this.options,a)&&(n=this.options[a],S._set(n,n.defaultValue,e),S._createAccessor(n,e,s));this._setAll(t,e,!0)},set:function(t,e,s){return this._set(t,e,s)},setAll:function(t,e){return this._setAll(t,e)},_set:function(t,e,s,a){var n=this.options[t];if(!n)throw new Error("Invalid option: "+t);if(!n.modifiable&&!a)throw new Error("Option cannot be modified: "+t);return S._set(n,e,s)},_setAll:function(t,e,s){if(!t)return!1;var a,n=!1;for(a in t)F.hasOwn(t,a)&&this._set(a,t[a],e,s)&&(n=!0);return n}},{_createAccessor:function(t,e,s){var a={get:function(){return S._get(t,e)}};t.modifiable&&(a.set=function(a){S._set(t,a,e)&&s(a,t)}),Object.defineProperty(e,t.name,a)},_get:function(t,e){return e["_"+t.name]},_set:function(t,e,s){var a="_"+t.name,n=s[a],i=t.transform(null!=e?e:t.defaultValue);return s[a]=i,i!==n}}),O=S,B=c.extend((function(){this._services={}}),{getService:function(t){var e=this._services[t];if(!e)throw new Error("Service is not being managed with name: "+t);return e},setService:function(t,e){if(this._services[t])throw new Error("Service is already managed with name: "+t);e&&(this._services[t]=e)}}),N=B,P=new O([new y("background",!0,"white"),new y("backgroundAlpha",!0,1,F.abs),new y("element"),new y("foreground",!0,"black"),new y("foregroundAlpha",!0,1,F.abs),new y("level",!0,"L",F.toUpperCase),new y("mime",!0,"image/png"),new y("padding",!0,null,F.abs),new y("size",!0,100,F.abs),new y("value",!0,"")]),T=new N,I=c.extend((function(t){P.init(t,this,this.update.bind(this));var e=P.get("element",this),s=T.getService("element"),a=e&&s.isCanvas(e)?e:s.createCanvas(),n=e&&s.isImage(e)?e:s.createImage();this._canvasRenderer=new m(this,a,!0),this._imageRenderer=new E(this,n,n===e),this.update()}),{get:function(){return P.getAll(this)},set:function(t){P.setAll(t,this)&&this.update()},toDataURL:function(t){return this.canvas.toDataURL(t||this.mime)},update:function(){var t=new C({level:this.level,value:this.value});this._canvasRenderer.render(t),this._imageRenderer.render(t)}},{use:function(t){T.setService(t.getName(),t)}});Object.defineProperties(I.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var R=I,$=R,D=c.extend({getName:function(){}}),X=D,z=X.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(t){},isImage:function(t){}}),U=z,V=U.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(t){return t instanceof HTMLCanvasElement},isImage:function(t){return t instanceof HTMLImageElement}}),H=V;$.use(new H);var W=$;return W}))},6313:function(t,e,s){"use strict";s.d(e,{A:function(){return u}});var a=s(6768),n=s(4232);const i={class:"app-footer"};function o(t,e,s,o,r,l){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("span",null,"© IPPC "+(0,n.v_)((new Date).getFullYear())+" Todos os direitos reservados",1)])}var r={name:"Footer_Comp"},l=s(1241);const c=(0,l.A)(r,[["render",o]]);var u=c},524:function(t,e,s){"use strict";s.d(e,{A:function(){return d}});var a=s(6768);const n={class:"text-center"},i=(0,a.Fv)('<div id="loading-wrapper"><div class="spinner"><div class="line1"></div><div class="line2"></div><div class="line3"></div><div class="line4"></div><div class="line5"></div><div class="line6"></div></div></div>',1),o=[i];function r(t,e,s,i,r,l){return(0,a.uX)(),(0,a.CE)("div",n,o)}var l={name:"loader_view"},c=s(1241);const u=(0,c.A)(l,[["render",r]]);var d=u},8808:function(t,e,s){"use strict";s.d(e,{A:function(){return P}});var a=s(6768),n=s(4232),i=s(7303);const o={class:"page-header"},r=(0,a.Lk)("div",{class:"toggle-sidebar",id:"toggle-sidebar"},[(0,a.Lk)("i",{class:"bi bi-list"})],-1),l=(0,a.Lk)("img",{src:i,class:"logo-sm",alt:"Bootstrap Gallery"},null,-1),c={class:"breadcrumb d-lg-flex d-none"},u={class:"breadcrumb-item"},d=(0,a.Lk)("i",{class:"bi bi-house fs-5"},null,-1),h={class:"breadcrumb-item breadcrumb-active","aria-current":"page"},m={class:"header-actions-container"},f=(0,a.Lk)("span",{class:"lead-icon text-dark"},[(0,a.Lk)("i",{class:"bi bi-person-fill text-secondary"})],-1),p={class:"header-actions"},_={class:"dropdown"},g={id:"userSettings",class:"user-settings","data-toggle":"dropdown","aria-haspopup":"true"},k={class:"user-name d-none d-md-block"},v={class:"avatar"},b=["src"],L=(0,a.Lk)("span",{class:"status online"},null,-1),w={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userSettings"},C={class:"header-profile-actions"},x=(0,a.Lk)("span",{class:"fas fa-user",style:{"margin-right":"10px"}},null,-1),E=(0,a.Lk)("span",{class:"fas fa-bell",style:{"margin-right":"10px"}},null,-1),A=(0,a.Lk)("span",{class:"fas fa-cog",style:{"margin-right":"10px"}},null,-1),y=(0,a.Lk)("span",{class:"fas fa-sign-out-alt",style:{"margin-right":"10px"}},null,-1);function M(t,e,s,i,M,F){const S=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",o,[r,(0,a.bF)(S,{to:"/dashboard",class:"d-lg-none d-md-block"},{default:(0,a.k6)((()=>[l])),_:1}),(0,a.Lk)("ol",c,[(0,a.Lk)("li",u,[d,(0,a.bF)(S,{to:"/dashboard"},{default:(0,a.k6)((()=>[(0,a.eW)("IPPC")])),_:1})]),(0,a.Lk)("li",h,(0,n.v_)(s.page),1)]),(0,a.Lk)("div",m,[(0,a.bF)(S,{to:"/admin/autenticacao/profile",class:"leads d-none d-xl-flex"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(t.user.nivel),1),f])),_:1}),(0,a.Lk)("ul",p,[(0,a.Lk)("li",_,[(0,a.Lk)("a",g,[(0,a.Lk)("span",k,(0,n.v_)(t.user.nome),1),(0,a.Lk)("span",v,[(0,a.Lk)("img",{src:M.url+"/api/mediafiles/"+t.user.foto,alt:"Admin Templates"},null,8,b),L])]),(0,a.Lk)("div",w,[(0,a.Lk)("div",C,[(0,a.bF)(S,{class:"d-flex align-items-center",to:"/admin/autenticacao/profile"},{default:(0,a.k6)((()=>[x,(0,a.eW)(" Meu Perfil")])),_:1}),"Administrador"===t.user.nivel||"IT"===t.user.nivel?((0,a.uX)(),(0,a.Wv)(S,{key:0,class:"d-flex align-items-center",to:"/admin/auth/security-logs"},{default:(0,a.k6)((()=>[E,(0,a.eW)("Reg. de Atividades")])),_:1})):(0,a.Q3)("",!0),"Administrador"===t.user.nivel||"IT"===t.user.nivel?((0,a.uX)(),(0,a.Wv)(S,{key:1,class:"d-flex align-items-center",to:"/admin/configuracao"},{default:(0,a.k6)((()=>[A,(0,a.eW)(" Configuração")])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(S,{class:"d-flex align-items-center",to:"/admin/autenticacao/logout"},{default:(0,a.k6)((()=>[y,(0,a.eW)(" Terminar Sessão")])),_:1})])])])])])])}var F=s(9715),S=s(782),O={name:"Navbar_Comp",props:{page:String},data(){return{userData:{},url:""}},created(){this.url=F.OZ},computed:{...(0,S.aH)(["user"])}},B=s(1241);const N=(0,B.A)(O,[["render",M]]);var P=N},3362:function(t,e,s){"use strict";s.d(e,{A:function(){return E}});var a=s(6768),n=s(5130),i=s(4232),o=s(7303);const r={class:"sidebar-wrapper"},l={class:"sidebar-brand"},c=(0,a.Lk)("img",{src:o,alt:"IPPC"},null,-1),u={class:"sidebar-menu"},d={class:"sidebarMenuScroll",style:{"overflow-y":"auto"}},h={class:"nav-link"},m=(0,a.Lk)("i",{class:"fas fa-chart-pie"},null,-1),f={class:"menu-text"},p={class:"sidebar-submenu"};function _(t,e,s,o,_,g){const k=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("nav",r,[(0,a.Lk)("div",l,[(0,a.bF)(k,{to:"/dashboard",class:"logo"},{default:(0,a.k6)((()=>[c])),_:1})]),(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",h,[(0,a.bF)(k,{to:"/dashboard"},{default:(0,a.k6)((()=>[m,(0,a.eW)(" PÁGINA PRINCIPAL ")])),_:1})]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(_.items,(t=>((0,a.uX)(),(0,a.CE)("li",{key:t.id,class:"sidebar-dropdown"},[(0,a.Lk)("a",{href:"#",onClick:e[0]||(e[0]=(0,n.D$)((t=>g.toggleSubMenu(t)),["prevent"]))},[(0,a.Lk)("i",{class:(0,i.C4)(t.icon)},null,2),(0,a.Lk)("span",f,(0,i.v_)(t.label),1)]),(0,a.Lk)("div",p,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.subItems,(t=>((0,a.uX)(),(0,a.CE)("li",{key:t.id},[(0,a.bF)(k,{to:t.path},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(t.label),1)])),_:2},1032,["to"])])))),128))])])])))),128))])])])])}const g={id:1,label:"AUTENTICAÇÃO",icon:"fas fa-users",subItems:[{id:1,path:"/admin/autenticacao/users",label:"Utilizadores"}]},k={id:1,label:"TESOURARIA",icon:"fas fa-cash-register",subItems:[{id:0,path:"/admin/finances/emolumento-preco",label:"Emolumentos"},{id:2,path:"/admin/finances/despesas",label:"Depesas"},{id:3,path:"/admin/finances/devedores",label:"Devedores"},{id:3,path:"/admin/finances/fluxo-de-caixa",label:"Fluxo de Caixa"}]},v={id:1,label:"GERIR ALUNOS",icon:"fas fa-users",subItems:[{id:1,path:"/admin/estudantes/lista-geral-estudantes",label:"Estudantes"},{id:2,path:"/admin/estudantes/matriculados",label:"Matriculas"}]},b={id:1,label:"GERIR ALUNOS",icon:"fas fa-users",subItems:[{id:1,path:"/admin/estudantes/lista-geral-estudantes",label:"Estudantes"}]};var L=s(782),w={name:"sidebar_comp",data(){return{items:[]}},methods:{toggleSubMenu(t){t.currentTarget.parentElement.classList.toggle("active"),t.currentTarget.nextElementSibling.classList.toggle("active")}},computed:{...(0,L.aH)(["user"])},mounted(){"Administrador"===this.$store.state.user.nivel&&(this.items=[v,k,g]),"IT"===this.$store.state.user.nivel?this.items=[v,k,g]:"Secretaria"===this.$store.state.user.nivel?this.items=[v]:"Tesouraria"===this.$store.state.user.nivel?this.items=[b,k]:"D.Pedagógico"===this.$store.state.user.nivel&&(this.items=[v])}},C=s(1241);const x=(0,C.A)(w,[["render",_]]);var E=x},3546:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return xt}});var a=s(6768),n=s(4232),i=s(5130);const o={class:"page-wrapper"},r={class:"main-container"},l={class:"content-wrapper-scroll"},c={class:"content-wrapper"},u={class:"row"},d={class:"col-12"},h={class:"card"},m={class:"row p-2"},f={class:"col-md-3"},p=(0,a.Lk)("label",null,"Ano Lectivo",-1),_=(0,a.Lk)("br",null,null,-1),g=["value"],k={class:"col-md-3"},v=(0,a.Lk)("label",{class:"text-white"},".",-1),b=(0,a.Lk)("br",null,null,-1),L=(0,a.Lk)("span",{class:"fas fa-search"},null,-1),w={key:0,class:"col-12 mt-0"},C={class:"card"},x={class:"row p-2"},E={class:"col-md-4"},A=(0,a.Lk)("h4",null,"Dados Pessoais",-1),y={class:"m-1 mw-100 text-truncate"},M={class:"m-1"},F={class:"m-1"},S={class:"m-1"},O={class:"m-1"},B={key:0,class:"col-md-12"},N=(0,a.Lk)("h4",null,"Historico de Pagamentos",-1),P=(0,a.Lk)("span",{class:"fas fa-database"},null,-1),T={class:"table table-striped"},I=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"DESCRIÇÃO"),(0,a.Lk)("th",null,"VALOR"),(0,a.Lk)("th",{class:"col-md-5"},"OPÇÕES")])],-1),R=["onClick"],$=["onClick"],D=(0,a.Lk)("span",{class:"fas fa-file-pdf"},null,-1),X=["onClick"],z=(0,a.Lk)("span",{class:"fas fa-trash"},null,-1),U=(0,a.Lk)("span",{class:"fas fa-backward"},null,-1),V={class:"table w-100"},H=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"col-md-2"},"M.PAGAMENTO"),(0,a.Lk)("th",{class:"col-md-2"},"NATUREZA"),(0,a.Lk)("th",{class:"col-md-2"},"EMOLUMENTO"),(0,a.Lk)("th",{class:"col-md-2"},"CURSO"),(0,a.Lk)("th",{class:"col-md-2"},"CLASSE"),(0,a.Lk)("th",{class:"col-md-2"},"PREÇO"),(0,a.Lk)("th",{class:"col-md-2"},"DESCONTO"),(0,a.Lk)("th",{class:"col-md-2"},"MULTA"),(0,a.Lk)("th",{class:"col-md-2"},"REMOVER")])],-1),W=["onUpdate:modelValue"],K=["value"],j=["onUpdate:modelValue","onChange"],q=["value"],G=["onUpdate:modelValue"],Q=["value"],Z=["onUpdate:modelValue"],J=["value"],Y=["onUpdate:modelValue","onChange"],tt=["value"],et=["onUpdate:modelValue"],st=["value"],at=["onUpdate:modelValue"],nt=["onUpdate:modelValue"],it=["onClick"],ot=(0,a.Lk)("span",{class:"fas fa-trash"},null,-1),rt=[ot],lt={class:"d-flex float-end"},ct=(0,a.Lk)("span",{class:"fas fa-plus"},null,-1),ut=(0,a.Lk)("button",{type:"submit",class:"btn btn-sm btn-success mx-2 fw-bold text-uppercase"},[(0,a.Lk)("span",{class:"fas fa-database"}),(0,a.eW)(" Enviar ")],-1);function dt(t,e,s,ot,dt,ht){const mt=(0,a.g2)("Sidebar"),ft=(0,a.g2)("Navbar"),pt=(0,a.g2)("Footer"),_t=(0,a.g2)("Loader");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(mt),(0,a.Lk)("div",r,[(0,a.bF)(ft,{page:"Efectuar Pagamento / "+this.estudante.nome},null,8,["page"]),(0,a.Lk)("div",l,[(0,a.Lk)("div",c,[(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[(0,a.Lk)("div",h,[(0,a.Lk)("div",m,[(0,a.Lk)("div",f,[p,_,(0,a.bo)((0,a.Lk)("select",{class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>dt.filter_data.ano_id=t)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(dt.anos,(t=>((0,a.uX)(),(0,a.CE)("option",{key:t.id,value:t.id},(0,n.v_)(t.nome),9,g)))),128))],512),[[i.u1,dt.filter_data.ano_id]])]),(0,a.Lk)("div",k,[v,b,(0,a.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>ht.searchStudent&&ht.searchStudent(...t)),class:"btn btn-info fw-bold"},[L,(0,a.eW)(" BUSCAR ")])])])])]),dt.showStudent?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("div",C,[(0,a.Lk)("div",x,[(0,a.Lk)("div",E,[A,(0,a.Lk)("p",y,[(0,a.eW)("Nome: "),(0,a.Lk)("b",null,(0,n.v_)(dt.estudante.nome),1)]),(0,a.Lk)("p",M,[(0,a.eW)("Identificação: "),(0,a.Lk)("b",null,(0,n.v_)(dt.estudante.identificacao),1)]),(0,a.Lk)("p",F,[(0,a.eW)("Curso: "),(0,a.Lk)("b",null,(0,n.v_)(dt.curso),1)]),(0,a.Lk)("p",S,[(0,a.eW)("Classe: "),(0,a.Lk)("b",null,(0,n.v_)(dt.classe),1)]),(0,a.Lk)("p",O,[(0,a.eW)("Turma: "),(0,a.Lk)("b",null,(0,n.v_)(dt.turma),1)])]),dt.showHistory?((0,a.uX)(),(0,a.CE)("div",B,[N,(0,a.Lk)("button",{class:"btn btn-primary fw-bold text-uppercase",onClick:e[2]||(e[2]=t=>{dt.showPaymentForm=!0,dt.showHistory=!1})},[P,(0,a.eW)(" Pagar ")]),(0,a.Lk)("table",T,[I,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(dt.pagamentos,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t.id,onClick:e=>ht.selectRow(t),class:(0,n.C4)({selected:t===dt.selectedRow})},[(0,a.Lk)("td",null,(0,n.v_)(t.itensPagos),1),(0,a.Lk)("td",null,(0,n.v_)(ht.numberFormat(t.totalPrice,2,",","."))+"Kz",1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{class:"btn btn-primary text-uppercase fw-bold",onClick:e=>ht.gerarComprovativo(t.id)},[D,(0,a.eW)(" Comprovativo ")],8,$),(0,a.Lk)("button",{class:"btn btn-danger mx-2 text-uppercase fw-bold",onClick:e=>ht.deletePagamento(t.id)},[z,(0,a.eW)(" Anular ")],8,X)])],10,R)))),128))])])])):(0,a.Q3)("",!0),dt.showPaymentForm?((0,a.uX)(),(0,a.CE)("form",{key:1,onSubmit:e[5]||(e[5]=(0,i.D$)(((...t)=>ht.sendData&&ht.sendData(...t)),["prevent"])),class:"col-md-12"},[(0,a.Lk)("button",{class:"btn btn-primary",onClick:e[3]||(e[3]=t=>{dt.showPaymentForm=!1,dt.showHistory=!0})},[U,(0,a.eW)(" Retroceder ")]),(0,a.Lk)("table",V,[H,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(dt.inputs,((e,s)=>((0,a.uX)(),(0,a.CE)("tr",{key:s},[(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>dt.inputs[s].metodo_pagamento=t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(dt.metodos_pagamento,(t=>((0,a.uX)(),(0,a.CE)("option",{key:t,value:t},(0,n.v_)(t),9,K)))),128))],8,W),[[i.u1,dt.inputs[s].metodo_pagamento]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>dt.inputs[s].natureza_id=t,onChange:t=>ht.getEmolumentos(t.target.value,s)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(dt.naturezas,(t=>((0,a.uX)(),(0,a.CE)("option",{key:t.id,value:t.id},(0,n.v_)(t.nome),9,q)))),128))],40,j),[[i.u1,dt.inputs[s].natureza_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>dt.inputs[s].emolumento_id=t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(dt.emolumentos[s],(t=>((0,a.uX)(),(0,a.CE)("option",{key:t.id,value:t.id},(0,n.v_)(t.nome),9,Q)))),128))],8,G),[[i.u1,dt.inputs[s].emolumento_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>dt.inputs[s].curso_id=t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(dt.cursos,(t=>((0,a.uX)(),(0,a.CE)("option",{key:t.id,value:t.id},(0,n.v_)(t.nome),9,J)))),128))],8,Z),[[i.u1,dt.inputs[s].curso_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>dt.inputs[s].classe_id=t,onChange:t=>ht.getEmolumentosPreco(s)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.classes,(t=>((0,a.uX)(),(0,a.CE)("option",{key:t.id,value:t.id},(0,n.v_)(t.nome),9,tt)))),128))],40,Y),[[i.u1,dt.inputs[s].classe_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>dt.inputs[s].preco_id=t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(dt.precos[s],(t=>((0,a.uX)(),(0,a.CE)("option",{key:t.id,value:t.id},(0,n.v_)(ht.numberFormat(t.preco,2,",","."))+"Kz",9,st)))),128))],8,et),[[i.u1,dt.inputs[s].preco_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t=>dt.inputs[s].desconto=t},null,8,at),[[i.Jo,dt.inputs[s].desconto]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t=>dt.inputs[s].multa=t},null,8,nt),[[i.Jo,dt.inputs[s].multa]])]),(0,a.Lk)("td",null,[(0,a.Lk)("button",{type:"button",onClick:t=>ht.removeRow(s),class:"btn btn-danger"},rt,8,it)])])))),128))])]),(0,a.Lk)("div",lt,[(0,a.Lk)("button",{type:"button",onClick:e[4]||(e[4]=(...t)=>ht.addRow&&ht.addRow(...t)),class:"btn btn-sm btn-info fw-bold text-uppercase"},[ct,(0,a.eW)(" Adicionar ")]),ut])],32)):(0,a.Q3)("",!0)])])])):(0,a.Q3)("",!0)])]),(0,a.bF)(pt)]),dt.isLoading?((0,a.uX)(),(0,a.Wv)(_t,{key:0})):(0,a.Q3)("",!0)])])}s(4114);var ht=s(3362),mt=s(8808),ft=s(6313),pt=s(524),_t=s(9715),gt=s(1749),kt=(s(5839),s(6543)),vt=s.n(kt),bt=s(782),Lt={name:"pagamento_view",components:{Sidebar:ht.A,Navbar:mt.A,Footer:ft.A,Loader:pt.A},data(){return{title:"Pagamentos",selectedRow:null,showStudent:!1,showPaymentForm:!1,showHistory:!1,isLoading:!1,filter_data:{ano_id:"",estudante_id:""},estudante:{},registration:{ano_id:null,curso_id:null,sala_id:null,estudante_id:null,periodo_id:null,classe_id:null,estado:"Estudando"},matricula:{},curso:"",classe:"",turma:"",pagamento:{descricao:""},anos:[],cursos:[],periodos:[],inputs:[],naturezas:[],precos:[],emolumentos:[],estudantes:[],pagamentos:[],metodos_pagamento:["Depósito","TPA","Transferência Bancária","Internet Banking"]}},mounted(){this.getAnos(),this.getCursos(),this.getClasses(),this.getNaturezas(),this.getStudent()},methods:{removeRow(t){this.inputs.splice(t,1)},addRow(){this.inputs.push({metodo_pagamento:"",natureza_id:"",emolumento_id:"",classe_id:"",preco_id:"",desconto:0,multa:0})},getNaturezas(){_t.FH.get("/emolumento-natureza/").then((t=>{this.naturezas=t.data})).catch((t=>{console.log(t)}))},numberFormat:_t.jq,getEmolumentosPreco(t){const{ano_id:e}=this.filter_data;_t.FH.get(`/emolumento-preco/ano/${e}/curso/${this.inputs[t].curso_id}/classe/${this.inputs[t].classe_id}/natureza/${this.inputs[t].natureza_id}/emolumento/${this.inputs[t].emolumento_id}`).then((e=>{this.precos[t]=e.data})).catch((t=>{console.log(t)}))},getEmolumentos(t,e){_t.FH.get(`/emolumentos/natureza/${t}`).then((t=>{this.emolumentos[e]=t.data})).catch((t=>{console.log(t)}))},generateComprovativo(t){window.open(`${_t.OZ}/api/documentos/comprovativo-pagamento/${t}`,"_blank")},gerarComprovativo(t){console.log(this.matricula),this.isLoading=!0,_t.FH.get(`/pagamentos/${t}`).then((t=>{if(t.data){this.isLoading=!1;const e=this,s=new gt["default"]({orientation:"landscape",format:"a4"}),a=t.data.ItensPagamentos,n=(a,n,i)=>{s.addImage(`${_t.OZ}/api/mediafiles/castro.jpeg`,"JPEG",a+8,15,25,25),s.setFontSize(10),s.text(n,a+130,18),s.setFontSize(9),s.text("INSTITUTO POLITÉCNICO PRIVADO CASTRO",a+35,18),s.text('"A Luz do Saber"',a+35,22),s.text("NIF: 50002047",a+35,26),s.text("Contactos: +244 939 237 968",a+35,30),s.text("Endereço: Huambo, estrada nacional 260, bairro da Bomba Baixa",a+35,34),s.text("Email: ippc23@gmail.com",a+35,38),s.text("COMPROVATIVO DE PAGAMENTO",a+10,50),s.setFontSize(12),s.text("DADOS DO ESTUDANTE",a+10,58),s.setFontSize(8),s.text(`Estudante: ${e.matricula.Estudante.nome}`,a+10,68),s.text(`Curso: ${e.matricula.Curso.nome}`,a+10,74),s.text(`Turma: ${null===e.matricula.Sala?"N/Matriculado":e.matricula.Sala.nome}`,a+10,80),s.text(`Classe: ${null===e.matricula.Classe?"N/Matriculado":e.matricula.Classe.nome}`,a+10,86);const o=100;let r=o;const l=8;s.setFontSize(9),s.text("Emolumento",a+10,r),s.text("Preço",a+50,r),s.text("Desconto (%)",a+70,r),s.text("Multa (%)",a+100,r),s.text("Subtotal",a+120,r),s.line(a+10,r+2,a+145,r+2),i.forEach((t=>{r+=l;const e=t.EmolumentoPreco.preco,n=t.desconto,i=t.multa,o=e*(n/100),c=e*(i/100),u=e-o+c;s.text(t.Emolumento.nome,a+10,r),s.text((0,_t.jq)(e.toFixed(2),2,",","."),a+50,r),s.text(n.toFixed(2)+"%",a+70,r),s.text(i.toFixed(2)+"%",a+100,r),s.text((0,_t.jq)(u.toFixed(2),2,",","."),a+120,r),s.line(a+10,r+2,a+145,r+2)})),r+=l;const c=i.reduce(((t,e)=>{const s=e.EmolumentoPreco.preco,a=e.desconto,n=e.multa,i=s*(a/100),o=s*(n/100);return t+(s-i+o)}),0),u=i.reduce(((t,e)=>t+e.EmolumentoPreco.preco*(e.desconto/100)),0),d=i.reduce(((t,e)=>t+e.EmolumentoPreco.preco*(e.multa/100)),0),h=c;s.setFontSize(10),s.text("CONTA PARA DEPÓSITO: YETU",a+10,r+3),s.text("Nº DE CONTA: 183361410001",a+10,r+10),s.text("Subtotal:",a+90,r+20),s.text("Descontos:",a+90,r+25),s.text("Multas:",a+90,r+30),s.text("Total:",a+90,r+35),s.text((0,_t.jq)(c.toFixed(2),2,",","."),a+110,r+20),s.text((0,_t.jq)(u.toFixed(2),2,",","."),a+110,r+25),s.text((0,_t.jq)(d.toFixed(2),2,",","."),a+110,r+30),s.text((0,_t.jq)(h.toFixed(2),2,",","."),a+110,r+35);const m=new(vt())({value:`Pagamento: ${t.data.id}`,size:60}),f=m.toDataURL();s.addImage(f,"PNG",a+10,r+13,30,30);const p=new Date,_=`${p.getDate()}/${p.getMonth()+1}/${p.getFullYear()}`;s.setFontSize(8),s.text(`Huambo, aos ${_}`,a+10,r+45),s.text(`O Funcionário: ${this.$store.state.user.nome}`,a+10,r+50),s.text("_______________________________________",a+10,r+55)};n(142,"Comerciante",a),n(0,"Cliente",a),s.output("dataurlnewwindow")}else this.isLoading=!1,this.$swal.fire({title:"Erro",icon:"error",text:"Não foi possível imprimir o documento, por favor tente novamente."})})).catch((t=>{this.isLoading=!1,console.log(t)}))},getAnos(){_t.FH.get("/anos/status/1/").then((t=>{this.anos=t.data})).catch((t=>{console.log(t)}))},getCursos(){_t.FH.get("/cursos/").then((t=>{this.cursos=t.data})).catch((t=>{console.log(t)}))},getSalas(){_t.FH.get("/salas/categoria/1/").then((t=>{this.salas=t.data})).catch((t=>{console.log(t)}))},getClasses(){_t.FH.get("/classes/").then((t=>{this.classes=t.data})).catch((t=>{console.log(t)}))},getPeriodos(){_t.FH.get("/periodos/").then((t=>{this.periodos=t.data})).catch((t=>{console.log(t)}))},getMatricula(t){_t.FH.get(`/matricula/estudante/${t}/estado/Estudando`).then((t=>{null===t.data?(this.curso="N/Atribuido",this.classe="N/Atribuida"):(this.matricula=t.data,this.curso=t.data.Curso.nome,this.classe=t.data.Classe.nome,this.turma=t.data.Sala.nome)})).catch((t=>{console.log(t)}))},getPagamentos(t){_t.FH.get(`/pagamentos/ano/${this.filter_data.ano_id}/estudante/${t}/`).then((t=>{this.pagamentos=t.data,this.showHistory=!0})).catch((t=>{console.log(t)}))},getStudent(){_t.FH.get(`/estudantes/${this.$route.params.estudante_id}`).then((t=>{null!=t.data?(this.estudante=t.data,this.registration.estudante_id=t.data.id,this.showStudent=!0):(this.$swal.fire({title:"Notificação",icon:"warning",text:"Nenhum Estudante Encontrado"}),this.showStudent=!1,this.showPaymentForm=!1)})).catch((t=>{console.log(t)}))},searchStudent(){this.getMatricula(this.$route.params.estudante_id),this.getPagamentos(this.$route.params.estudante_id)},sendData(t){t.preventDefault();const e={...this.pagamento,ano_id:this.filter_data.ano_id,estudante_id:this.estudante.id,user_id:this.$store.state.user.id,nome:this.$store.state.user.nome,itens:this.inputs};_t.FH.post("/pagamentos/",e).then((t=>{t.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:t.data.message,backdrop:!1,icon:"success"}).then((()=>{this.$swal.fire({title:"Mensagem",icon:"question",text:"Deseja retirar o comprovativo ?",confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((e=>{e.isConfirmed&&this.gerarComprovativo(t.data.data.id)}))})),this.showPaymentForm=!1,this.pagamento={},this.searchStudent(),this.inputs=[]):this.$swal.fire({title:"Erro",text:"Não foi possível cadastrar",icon:"error"})})).catch((t=>{console.log(t),this.$swal.fire({title:"Erro",icon:"error",text:t.response.data.message}).then((()=>{this.showPaymentForm=!1}))}))},deletePagamento(t){this.$swal.fire({title:"Notificação",icon:"question",text:"Deseja anular este pagamento ?",confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((e=>{e.isConfirmed&&_t.FH.delete(`/pagamentos/${t}`).then((t=>{t.data.message?(this.$swal.fire({title:t.data.message,icon:"success"}),this.searchStudent()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((t=>{console.log(t)}))}))},selectRow(t){this.selectedRow=t,console.log(t)}},computed:{...(0,bt.aH)(["user"])}},wt=s(1241);const Ct=(0,wt.A)(Lt,[["render",dt]]);var xt=Ct},7303:function(t,e,s){"use strict";t.exports=s.p+"img/castro.e2f36cae.jpeg"}}]);
//# sourceMappingURL=546.ffad9c8c.js.map