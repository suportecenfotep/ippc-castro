"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[401],{3968:function(a,s,e){e.r(s),e.d(s,{default:function(){return Ra}});var l=e(6768),o=e(4232),t=e(5130);const i={class:"page-wrapper"},d={class:"main-container"},n={class:"content-wrapper-scroll"},r={class:"content-wrapper"},c={class:"row"},u={class:"col-12"},b={class:"card"},m={class:"d-flex p-3"},k=(0,l.Lk)("button",{"data-bs-toggle":"modal","data-bs-target":"#addForm",class:"btn btn-primary btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[(0,l.Lk)("span",{class:"fas fa-plus mx-1 fs-5"}),(0,l.eW)(" Adicionar ")],-1),v=(0,l.Lk)("span",{class:"fas fa-trash mx-1 fs-5"},null,-1),L=(0,l.Lk)("span",{class:"fas fa-file-excel mx-1 fs-5"},null,-1),p={class:"card-body pt-0"},h={class:"row"},f={class:"col-md-3"},g=(0,l.Lk)("label",null,"Selecione o ano letivo",-1),F=(0,l.Lk)("br",null,null,-1),_=["value"],w={class:"col-md-3"},y=(0,l.Lk)("label",null,null,-1),C=(0,l.Lk)("br",null,null,-1),x=(0,l.Lk)("span",{class:"fas fa-search"},null,-1),A=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"MÊS"),(0,l.Lk)("th",null,"ESTADO")])],-1),E={class:"modal fade","data-bs-backdrop":"static",id:"addForm"},S={class:"modal-dialog rounded-0"},$={class:"modal-content rounded-0"},D={class:"modal-header"},X={class:"modal-body"},H={class:"row"},U={class:"col-md-12 mb-3"},V=(0,l.Lk)("label",null,"Mês",-1),N=(0,l.Lk)("br",null,null,-1),W=["value"],I={class:"col-md-12 mb-3"},K=(0,l.Lk)("label",null,"Ano Letivo",-1),M=(0,l.Lk)("br",null,null,-1),P=["value"],R={class:"col-md-12 mb-3"},J=(0,l.Lk)("label",null,"Estado",-1),T=(0,l.Lk)("br",null,null,-1),z=(0,l.Lk)("option",{value:"Agendados"},"Agendados",-1),B=(0,l.Lk)("option",{value:"Processados"},"Processados",-1),O=(0,l.Lk)("option",{value:"Cancelados"},"Cancelados",-1),j=[z,B,O],G={class:"modal-footer border-0 pt-0"},q=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),Q={class:"modal fade","data-bs-backdrop":"static",id:"editForm"},Y={class:"modal-dialog rounded-0"},Z={class:"modal-content rounded-0"},aa={class:"modal-header"},sa={class:"modal-body"},ea={class:"row"},la={class:"col-md-12 mb-3"},oa=(0,l.Lk)("label",null,"Mês",-1),ta=(0,l.Lk)("br",null,null,-1),ia=["value"],da={class:"col-md-12 mb-3"},na=(0,l.Lk)("label",null,"Ano Letivo",-1),ra=(0,l.Lk)("br",null,null,-1),ca=["value"],ua={class:"col-md-12 mb-3"},ba=(0,l.Lk)("label",null,"Estado",-1),ma=(0,l.Lk)("br",null,null,-1),ka=(0,l.Lk)("option",{value:"Agendados"},"Agendados",-1),va=(0,l.Lk)("option",{value:"Processados"},"Processados",-1),La=(0,l.Lk)("option",{value:"Cancelados"},"Cancelados",-1),pa=[ka,va,La],ha={class:"modal-footer border-0 pt-0"},fa=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),ga={class:"modal fade","data-bs-backdrop":"static",id:"removeForm"},Fa={class:"modal-dialog rounded-0"},_a={class:"modal-content rounded-0"},wa={class:"modal-header"},ya={class:"modal-body"},Ca={class:"row"},xa={class:"modal-footer border-0 pt-0"},Aa=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function Ea(a,s,e,z,B,O){const ka=(0,l.g2)("Sidebar"),va=(0,l.g2)("Navbar"),La=(0,l.g2)("DataTable"),Ea=(0,l.g2)("Footer");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(ka),(0,l.Lk)("div",d,[(0,l.bF)(va,{page:"Recursos Humanos / Salários"}),(0,l.Lk)("div",n,[(0,l.Lk)("div",r,[(0,l.Lk)("div",c,[(0,l.Lk)("div",u,[(0,l.Lk)("div",b,[(0,l.Lk)("div",m,[k,(0,l.Lk)("button",{onClick:s[0]||(s[0]=(...a)=>O.selectRow&&O.selectRow(...a)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[v,(0,l.eW)(" Excluir ")]),(0,l.Lk)("button",{onClick:s[1]||(s[1]=(...a)=>O.openSalarySheet&&O.openSalarySheet(...a)),class:"btn btn-success text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[L,(0,l.eW)(" Folha Salarial ")])]),(0,l.Lk)("div",p,[(0,l.Lk)("div",h,[(0,l.Lk)("div",f,[g,F,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=a=>B.filter_data.ano_lectivo_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(B.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,o.v_)(a.nome),9,_)))),128))],512),[[t.u1,B.filter_data.ano_lectivo_id]])]),(0,l.Lk)("div",w,[y,C,(0,l.Lk)("button",{onClick:s[3]||(s[3]=(...a)=>O.filterData&&O.filterData(...a)),class:"btn btn-info text-uppercase fw-bold"},[x,(0,l.eW)(" Buscar ")])])]),(0,l.bF)(La,{data:B.salarios,columns:B.columns,options:{select:!0,language:B.language},ref:"table",class:"display table table-bordered table-striped"},{default:(0,l.k6)((()=>[A])),_:1},8,["data","columns","options"])])])])]),(0,l.Lk)("div",E,[(0,l.Lk)("div",S,[(0,l.Lk)("div",$,[(0,l.Lk)("div",D,[(0,l.Lk)("h4",null,(0,o.v_)(B.title),1)]),(0,l.Lk)("div",X,[(0,l.Lk)("div",H,[(0,l.Lk)("div",U,[V,N,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=a=>B.salario.mes=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(B.meses,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a,value:a},(0,o.v_)(a),9,W)))),128))],512),[[t.u1,B.salario.mes]])]),(0,l.Lk)("div",I,[K,M,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=a=>B.salario.ano_lectivo_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(B.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,o.v_)(a.nome),9,P)))),128))],512),[[t.u1,B.salario.ano_lectivo_id]])]),(0,l.Lk)("div",R,[J,T,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[6]||(s[6]=a=>B.salario.estado=a)},j,512),[[t.u1,B.salario.estado]])])])]),(0,l.Lk)("div",G,[q,(0,l.Lk)("button",{onClick:s[7]||(s[7]=(...a)=>O.submitForm&&O.submitForm(...a)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",Q,[(0,l.Lk)("div",Y,[(0,l.Lk)("div",Z,[(0,l.Lk)("div",aa,[(0,l.Lk)("h4",null,(0,o.v_)(B.title),1)]),(0,l.Lk)("div",sa,[(0,l.Lk)("div",ea,[(0,l.Lk)("div",la,[oa,ta,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[8]||(s[8]=a=>B.salario.mes=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(B.meses,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a,value:a},(0,o.v_)(a),9,ia)))),128))],512),[[t.u1,B.salario.mes]])]),(0,l.Lk)("div",da,[na,ra,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[9]||(s[9]=a=>B.salario.ano_lectivo_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(B.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,o.v_)(a.nome),9,ca)))),128))],512),[[t.u1,B.salario.ano_lectivo_id]])]),(0,l.Lk)("div",ua,[ba,ma,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[10]||(s[10]=a=>B.salario.estado=a)},pa,512),[[t.u1,B.salario.estado]])])])]),(0,l.Lk)("div",ha,[fa,(0,l.Lk)("button",{onClick:s[11]||(s[11]=(...a)=>O.submitForm&&O.submitForm(...a)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",ga,[(0,l.Lk)("div",Fa,[(0,l.Lk)("div",_a,[(0,l.Lk)("div",wa,[(0,l.Lk)("h4",null,(0,o.v_)(B.title),1)]),(0,l.Lk)("div",ya,[(0,l.Lk)("div",Ca,[(0,l.Lk)("p",null,[(0,l.eW)(" Deseja excluir "),(0,l.Lk)("b",null,(0,o.v_)(B.salario.mes),1),(0,l.eW)(" definitivamente da base de dados? ")])])]),(0,l.Lk)("div",xa,[Aa,(0,l.Lk)("button",{onClick:s[12]||(s[12]=(...a)=>O.deleteForm&&O.deleteForm(...a)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,l.bF)(Ea)])])])}e(4114);var Sa=e(6587),$a=e.n(Sa),Da=e(3362),Xa=e(8808),Ha=e(6313),Ua=e(9715),Va=e(903),Na=e(9995),Wa=e(3786),Ia=e(782);Va.A.use(Na.A),Va.A.use(Wa.A);var Ka={name:"salario_view",components:{Sidebar:Da.A,Navbar:Xa.A,Footer:Ha.A,DataTable:Va.A},data(){return{title:"Gerenciar Salários",salarios:[],funcionarios:[],anos:[],meses:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],filter_data:{},salario:{},columns:[{data:"mes"},{data:"estado"}],language:Ua.BH}},computed:{...(0,Ia.aH)(["user"])},mounted(){this.getFuncionarios(),this.getAnos()},methods:{getAnos(){Ua.FH.get("/anos/").then((a=>{this.anos=a.data})).catch((a=>{console.log(a)}))},getFuncionarios(){Ua.FH.get("/funcionarios/").then((a=>{this.funcionarios=a.data})).catch((a=>{console.log(a)}))},filterData(){Ua.FH.get(`/salarios/ano/${this.filter_data.ano_lectivo_id}/`).then((a=>{this.salarios=a.data.length>0?a.data:[]})).catch((a=>{console.log(a)}))},submitForm(){this.salario.id>0?Ua.FH.put(`/salarios/${this.salario.id}`,this.salario).then((a=>{!0===a.data.title?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.filterData(),$a()(".btn-secondary").click()):this.$swal.fire({title:"Erro",text:"Não foi possível atualizar",icon:"error"})})).catch((a=>{console.log(a)})):Ua.FH.post("/salarios/",{...this.salario,user_id:this.$store.state.user.id}).then((a=>{!0===a.data.title?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.filterData(),$a()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível cadastrar",icon:"error"})})).catch((a=>{console.log(a)}))},deleteForm(){Ua.FH.delete(`/salarios/${this.salario.id}`).then((a=>{a.data.message?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.filterData(),$a()(".btn-secondary").click(),this.salario={}):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((a=>{console.log(a)}))},selectRow(){const a=this.$refs.table.dt,s=this;a.rows({selected:!0}).every((function(){const a=this.data();s.salario=a}))},openSalarySheet(){const a=this.$refs.table.dt,s=this;a.rows({selected:!0}).every((function(){const a=this.data();s.salario=a})),this.$router.push(`/salary-sheet-manage/${this.salario.id}/`)},clearForm(){this.salario={}}}},Ma=e(1241);const Pa=(0,Ma.A)(Ka,[["render",Ea]]);var Ra=Pa}}]);
//# sourceMappingURL=401.08d2bf5a.js.map