"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[285],{7638:function(o,t,e){e.r(t),e.d(t,{default:function(){return at}});var a=e(6768),l=e(4232),s=e(5130);const n={class:"page-wrapper"},d={class:"main-container"},c={class:"content-wrapper-scroll"},r={class:"content-wrapper"},i={class:"row"},u={class:"col-12"},m={class:"card"},b={class:"d-flex p-3"},k=(0,a.Lk)("button",{"data-bs-toggle":"modal","data-bs-target":"#addForm",class:"btn btn-primary btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[(0,a.Lk)("span",{class:"fas fa-plus mx-1 fs-5"}),(0,a.eW)(" Adicionar ")],-1),L=(0,a.Lk)("span",{class:"fas fa-pencil mx-1 fs-5"},null,-1),p=(0,a.Lk)("span",{class:"fas fa-trash mx-1 fs-5"},null,-1),v=(0,a.Lk)("span",{class:"fas fa-file-pdf mx-1 fs-5"},null,-1),f=(0,a.Lk)("span",{class:"fas fa-file-pdf mx-1 fs-5"},null,-1),h={class:"card-body pt-0"},g={class:"row"},F={class:"col-md-3"},_=(0,a.Lk)("label",null,"Selecione o ano letivo",-1),w=(0,a.Lk)("br",null,null,-1),C=["value"],x={class:"col-md-3"},y=(0,a.Lk)("label",null,null,-1),E=(0,a.Lk)("br",null,null,-1),A=(0,a.Lk)("span",{class:"fas fa-search"},null,-1),R=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"FUNCIONÁRIO"),(0,a.Lk)("th",null,"PREÇO POR TEMPO"),(0,a.Lk)("th",null,"TOTAL DE TEMPOS"),(0,a.Lk)("th",null,"ANO LETIVO"),(0,a.Lk)("th",null,"SALÁRIO BASE"),(0,a.Lk)("th",null,"ESTADO")])],-1),T={class:"modal fade",id:"addForm"},U={class:"modal-dialog rounded-0"},V={class:"modal-content rounded-0"},D={class:"modal-header"},O={class:"modal-body"},X={class:"row"},$={class:"col-md-12 mb-3"},H=(0,a.Lk)("label",null,"Funcionário",-1),S=(0,a.Lk)("br",null,null,-1),I=["value"],N={class:"col-md-12 mb-3"},W=(0,a.Lk)("label",null,"Preço por Tempo",-1),P=(0,a.Lk)("br",null,null,-1),z={class:"col-md-12 mb-3"},K=(0,a.Lk)("label",null,"Total de Tempos",-1),J=(0,a.Lk)("br",null,null,-1),B={class:"col-md-12 mb-3"},j=(0,a.Lk)("label",null,"Ano Letivo",-1),M=(0,a.Lk)("br",null,null,-1),q=["value"],G={class:"col-md-12 mb-3"},Q=(0,a.Lk)("label",null,"Estado",-1),Y=(0,a.Lk)("br",null,null,-1),Z=(0,a.Lk)("option",{value:"Ativo"},"Ativo",-1),oo=(0,a.Lk)("option",{value:"Finalizado"},"Finalizado",-1),to=(0,a.Lk)("option",{value:"Cancelado"},"Cancelado",-1),eo=[Z,oo,to],ao={class:"modal-footer border-0 pt-0"},lo=(0,a.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),so={class:"modal fade",id:"editForm"},no={class:"modal-dialog rounded-0"},co={class:"modal-content rounded-0"},ro={class:"modal-header"},io={class:"modal-body"},uo={class:"row"},mo={class:"col-md-12 mb-3"},bo=(0,a.Lk)("label",null,"Funcionário",-1),ko=(0,a.Lk)("br",null,null,-1),Lo=["value"],po={class:"col-md-12 mb-3"},vo=(0,a.Lk)("label",null,"Preço por Tempo",-1),fo=(0,a.Lk)("br",null,null,-1),ho={class:"col-md-12 mb-3"},go=(0,a.Lk)("label",null,"Total de Tempos",-1),Fo=(0,a.Lk)("br",null,null,-1),_o={class:"col-md-12 mb-3"},wo=(0,a.Lk)("label",null,"Ano Letivo",-1),Co=(0,a.Lk)("br",null,null,-1),xo=["value"],yo={class:"col-md-12 mb-3"},Eo=(0,a.Lk)("label",null,"Estado",-1),Ao=(0,a.Lk)("br",null,null,-1),Ro=(0,a.Lk)("option",{value:"Ativo"},"Ativo",-1),To=(0,a.Lk)("option",{value:"Finalizado"},"Finalizado",-1),Uo=(0,a.Lk)("option",{value:"Cancelado"},"Cancelado",-1),Vo=[Ro,To,Uo],Do={class:"modal-footer border-0 pt-0"},Oo=(0,a.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),Xo={class:"modal fade",id:"removeForm"},$o={class:"modal-dialog rounded-0"},Ho={class:"modal-content rounded-0"},So={class:"modal-header"},Io={class:"modal-body"},No={class:"row"},Wo={class:"modal-footer border-0 pt-0"},Po=(0,a.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function zo(o,t,e,Z,oo,to){const Ro=(0,a.g2)("Sidebar"),To=(0,a.g2)("Navbar"),Uo=(0,a.g2)("DataTable"),zo=(0,a.g2)("Footer");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(Ro),(0,a.Lk)("div",d,[(0,a.bF)(To,{page:"Recursos Humanos / Contratos Docentes"}),(0,a.Lk)("div",c,[(0,a.Lk)("div",r,[(0,a.Lk)("div",i,[(0,a.Lk)("div",u,[(0,a.Lk)("div",m,[(0,a.Lk)("div",b,[k,(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...o)=>to.selectRow&&to.selectRow(...o)),"data-bs-toggle":"modal","data-bs-target":"#editForm",class:"btn btn-info btn-dark btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[L,(0,a.eW)(" Editar ")]),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...o)=>to.selectRow&&to.selectRow(...o)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[p,(0,a.eW)(" Excluir ")]),(0,a.Lk)("button",{style:{background:"black"},onClick:t[2]||(t[2]=(...o)=>to.selectRow&&to.selectRow(...o)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[v,(0,a.eW)(" Contrato ")]),(0,a.Lk)("button",{style:{background:"black"},onClick:t[3]||(t[3]=(...o)=>to.selectRow&&to.selectRow(...o)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[f,(0,a.eW)(" Declaração ")])]),(0,a.Lk)("div",h,[(0,a.Lk)("div",g,[(0,a.Lk)("div",F,[_,w,(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=o=>oo.filter_data.ano_lectivo_id=o)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(oo.anos,(o=>((0,a.uX)(),(0,a.CE)("option",{key:o.id,value:o.id},(0,l.v_)(o.nome),9,C)))),128))],512),[[s.u1,oo.filter_data.ano_lectivo_id]])]),(0,a.Lk)("div",x,[y,E,(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...o)=>to.filterData&&to.filterData(...o)),class:"btn btn-info text-uppercase fw-bold"},[A,(0,a.eW)(" Buscar ")])])]),(0,a.bF)(Uo,{data:oo.contratos,columns:oo.columns,options:{select:!0,language:oo.language},ref:"table",class:"display table table-bordered table-striped"},{default:(0,a.k6)((()=>[R])),_:1},8,["data","columns","options"])])])])]),(0,a.Lk)("div",T,[(0,a.Lk)("div",U,[(0,a.Lk)("div",V,[(0,a.Lk)("div",D,[(0,a.Lk)("h4",null,(0,l.v_)(oo.title),1)]),(0,a.Lk)("div",O,[(0,a.Lk)("div",X,[(0,a.Lk)("div",$,[H,S,(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=o=>oo.contrato.funcionario_id=o)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(oo.funcionarios,(o=>((0,a.uX)(),(0,a.CE)("option",{key:o.id,value:o.id},(0,l.v_)(o.nome),9,I)))),128))],512),[[s.u1,oo.contrato.funcionario_id]])]),(0,a.Lk)("div",N,[W,P,(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=o=>oo.contrato.preco_tempo=o)},null,512),[[s.Jo,oo.contrato.preco_tempo]])]),(0,a.Lk)("div",z,[K,J,(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=o=>oo.contrato.total_tempos=o)},null,512),[[s.Jo,oo.contrato.total_tempos]])]),(0,a.Lk)("div",B,[j,M,(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=o=>oo.contrato.ano_lectivo_id=o)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(oo.anos,(o=>((0,a.uX)(),(0,a.CE)("option",{key:o.id,value:o.id},(0,l.v_)(o.nome),9,q)))),128))],512),[[s.u1,oo.contrato.ano_lectivo_id]])]),(0,a.Lk)("div",G,[Q,Y,(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=o=>oo.contrato.estado=o)},eo,512),[[s.u1,oo.contrato.estado]])])])]),(0,a.Lk)("div",ao,[lo,(0,a.Lk)("button",{onClick:t[11]||(t[11]=(...o)=>to.submitForm&&to.submitForm(...o)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,a.Lk)("div",so,[(0,a.Lk)("div",no,[(0,a.Lk)("div",co,[(0,a.Lk)("div",ro,[(0,a.Lk)("h4",null,(0,l.v_)(oo.title),1)]),(0,a.Lk)("div",io,[(0,a.Lk)("div",uo,[(0,a.Lk)("div",mo,[bo,ko,(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=o=>oo.contrato.funcionario_id=o)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(oo.funcionarios,(o=>((0,a.uX)(),(0,a.CE)("option",{key:o.id,value:o.id},(0,l.v_)(o.nome),9,Lo)))),128))],512),[[s.u1,oo.contrato.funcionario_id]])]),(0,a.Lk)("div",po,[vo,fo,(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=o=>oo.contrato.preco_tempo=o)},null,512),[[s.Jo,oo.contrato.preco_tempo]])]),(0,a.Lk)("div",ho,[go,Fo,(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=o=>oo.contrato.total_tempos=o)},null,512),[[s.Jo,oo.contrato.total_tempos]])]),(0,a.Lk)("div",_o,[wo,Co,(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=o=>oo.contrato.ano_lectivo_id=o)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(oo.anos,(o=>((0,a.uX)(),(0,a.CE)("option",{key:o.id,value:o.id},(0,l.v_)(o.nome),9,xo)))),128))],512),[[s.u1,oo.contrato.ano_lectivo_id]])]),(0,a.Lk)("div",yo,[Eo,Ao,(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":t[16]||(t[16]=o=>oo.contrato.estado=o)},Vo,512),[[s.u1,oo.contrato.estado]])])])]),(0,a.Lk)("div",Do,[Oo,(0,a.Lk)("button",{onClick:t[17]||(t[17]=(...o)=>to.submitForm&&to.submitForm(...o)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,a.Lk)("div",Xo,[(0,a.Lk)("div",$o,[(0,a.Lk)("div",Ho,[(0,a.Lk)("div",So,[(0,a.Lk)("h4",null,(0,l.v_)(oo.title),1)]),(0,a.Lk)("div",Io,[(0,a.Lk)("div",No,[(0,a.Lk)("p",null,[(0,a.eW)(" Deseja excluir "),(0,a.Lk)("b",null,(0,l.v_)(oo.contrato.funcionario_nome),1),(0,a.eW)(" definitivamente da base de dados? ")])])]),(0,a.Lk)("div",Wo,[Po,(0,a.Lk)("button",{onClick:t[18]||(t[18]=(...o)=>to.deleteForm&&to.deleteForm(...o)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,a.bF)(zo)])])])}var Ko=e(6587),Jo=e.n(Ko),Bo=e(7417),jo=e(8808),Mo=e(6313),qo=e(9715),Go=e(903),Qo=e(9995),Yo=e(3786),Zo=e(782);Go.A.use(Qo.A),Go.A.use(Yo.A);var ot={name:"contrato_docente_view",components:{Sidebar:Bo.A,Navbar:jo.A,Footer:Mo.A,DataTable:Go.A},data(){return{title:"Contratos Docentes",selectedRow:null,contratos:[],funcionarios:[],anos:[],columns:[{data:null,render:o=>o.Funcionario.nome},{data:"preco_tempo"},{data:"total_tempos"},{data:null,render:o=>o.AnoLectivo.nome},{data:null,render:o=>(0,qo.jq)(o.preco_tempo*o.total_tempos,2,",",".")},{data:"estado"}],contrato:{},filter_data:{},language:qo.BH}},computed:{...(0,Zo.aH)(["user"])},mounted(){this.getContratos(),this.getFuncionarios(),this.getAnos()},methods:{getAnos(){qo.FH.get("/anos/").then((o=>{this.anos=o.data})).catch((o=>{console.log(o)}))},getFuncionarios(){qo.FH.get("/funcionarios/").then((o=>{this.funcionarios=o.data})).catch((o=>{console.log(o)}))},getContratos(){qo.FH.get("/contratos-docente/").then((o=>{this.contratos=o.data})).catch((o=>{console.log(o)}))},filterData(){qo.FH.get(`/contratos-docente/ano/${this.filter_data.ano_lectivo_id}`).then((o=>{o.data.length>0?this.contratos=o.data:this.contratos=[]})).catch((o=>{console.log(o)}))},submitForm(){this.contrato.id>0?qo.FH.put(`/contratos-docente/${this.contrato.id}`,this.contrato).then((o=>{o.data.message?(this.$swal.fire({title:"Sucesso",text:o.data.message,icon:"success"}),this.getContratos(),Jo()(".btn-secondary").click()):this.$swal.fire({title:"Erro",text:"Não foi possível atualizar",icon:"error"})})).catch((o=>{console.log(o)})):qo.FH.post("/contratos-docente/",{...this.contrato,user_id:this.$store.state.user.id}).then((o=>{o.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:o.data.message,icon:"success"}),this.getContratos(),Jo()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível cadastrar",icon:"error"})})).catch((o=>{console.log(o)}))},deleteForm(){qo.FH.delete(`/contratos-docente/${this.contrato.id}`).then((o=>{o.data.message?(this.$swal.fire({title:"Sucesso",text:o.data.message,icon:"success"}),this.getContratos(),Jo()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((o=>{console.log(o)}))},selectRow(){const o=this.$refs.table.dt,t=this;o.rows({selected:!0}).every((function(){const o=this.data();t.contrato=o}))},clearForm(){this.contrato={}}}},tt=e(1241);const et=(0,tt.A)(ot,[["render",zo]]);var at=et}}]);
//# sourceMappingURL=285.28f6fa26.js.map