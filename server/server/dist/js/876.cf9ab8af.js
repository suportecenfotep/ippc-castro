"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[876],{1876:function(e,a,t){t.r(a),t.d(a,{default:function(){return re}});var s=t(6768),l=t(4232),i=t(5130);const r={class:"page-wrapper"},o={class:"main-container"},n={class:"content-wrapper-scroll"},c={class:"content-wrapper"},d={class:"row"},u={class:"col-12"},b={class:"card"},m={class:"card-body"},g={class:"row mb-2"},k={class:"col-md-3"},p=(0,s.Lk)("label",null,"Selecione a categoria",-1),f=(0,s.Lk)("br",null,null,-1),L=["value"],h={class:"col-md-3"},v=(0,s.Lk)("label",null,"Selecione a subcategoria",-1),_=(0,s.Lk)("br",null,null,-1),C=["value"],E={class:"col-md-3"},F=(0,s.Lk)("label",null,"Selecione a estante",-1),x=(0,s.Lk)("br",null,null,-1),w=["value"],A={class:"col-md-3"},I=(0,s.Lk)("label",null,"Selecione a prateleira",-1),R=(0,s.Lk)("br",null,null,-1),S=["value"],y={class:"col-md-6 d-flex"},$=(0,s.Lk)("label",{class:"text-white"},".",-1),D=(0,s.Lk)("br",null,null,-1),X=(0,s.Lk)("span",{style:{"font-size":"20px"},class:"fas fa-search mx-1"},null,-1),T=(0,s.Lk)("label",{class:"text-white"},".",-1),N=(0,s.Lk)("br",null,null,-1),P=(0,s.Lk)("span",{class:"fas fa-plus mx-1 fs-5"},null,-1),U=(0,s.Lk)("div",null,[(0,s.Lk)("label",{class:"text-white"},"."),(0,s.Lk)("br"),(0,s.Lk)("button",{"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[(0,s.Lk)("span",{class:"fas fa-trash mx-1 fs-5"}),(0,s.eW)(" Excluir ")])],-1),W={id:"myDataTable",class:"table table-striped"},O=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",{class:"bg-secondary"},[(0,s.Lk)("th",null,"RECURSO"),(0,s.Lk)("th",null,"AUTOR"),(0,s.Lk)("th",null,"ISBN"),(0,s.Lk)("th",null,"EDIÇÃO"),(0,s.Lk)("th",null,"EDITORA"),(0,s.Lk)("th",null,"FUNCIONÁRIO"),(0,s.Lk)("th",null,"DATA DE CRIAÇÃO")])],-1),H=["onClick"],M={class:"modal fade",id:"removeForm"},K={class:"modal-dialog rounded-0"},V={class:"modal-content rounded-0"},Y={class:"modal-header"},z={class:"modal-body"},B={class:"row"},j={class:"modal-footer border-0 pt-0"},q=(0,s.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function G(e,a,t,G,Z,J){const Q=(0,s.g2)("Sidebar"),ee=(0,s.g2)("Navbar"),ae=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(Q),(0,s.Lk)("div",o,[(0,s.bF)(ee,{page:"Biblioteca / Distribuição de Recursos"}),(0,s.Lk)("div",n,[(0,s.Lk)("div",c,[(0,s.Lk)("div",d,[(0,s.Lk)("div",u,[(0,s.Lk)("div",b,[(0,s.Lk)("div",m,[(0,s.Lk)("div",g,[(0,s.Lk)("div",k,[p,f,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":a[0]||(a[0]=e=>Z.filter_data.categoria_id=e),onChange:a[1]||(a[1]=(...e)=>J.getSubcategorias&&J.getSubcategorias(...e))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Z.categorias,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,L)))),128))],544),[[i.u1,Z.filter_data.categoria_id]])]),(0,s.Lk)("div",h,[v,_,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":a[2]||(a[2]=e=>Z.filter_data.subcategoria_id=e),onChange:a[3]||(a[3]=(...e)=>J.getEstante&&J.getEstante(...e))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Z.subcategorias,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,C)))),128))],544),[[i.u1,Z.filter_data.subcategoria_id]])]),(0,s.Lk)("div",E,[F,x,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=e=>Z.filter_data.estante_id=e),onChange:a[5]||(a[5]=(...e)=>J.getPrateleira&&J.getPrateleira(...e))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Z.estantes,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,w)))),128))],544),[[i.u1,Z.filter_data.estante_id]])]),(0,s.Lk)("div",A,[I,R,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=e=>Z.filter_data.prateleira_id=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Z.prateleiras,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,S)))),128))],512),[[i.u1,Z.filter_data.prateleira_id]])]),(0,s.Lk)("div",y,[(0,s.Lk)("div",null,[$,D,(0,s.Lk)("button",{onClick:a[7]||(a[7]=(...e)=>J.getRecursos&&J.getRecursos(...e)),class:"btn btn-info btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[X,(0,s.eW)(" Pesquisar ")])]),(0,s.Lk)("div",null,[T,N,(0,s.Lk)("button",{onClick:a[8]||(a[8]=(...e)=>J.createDistribuicao&&J.createDistribuicao(...e)),class:"mx-2 btn btn-primary btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[P,(0,s.eW)(" Inserir ")])]),U])]),(0,s.Lk)("table",W,[O,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Z.recursos,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,onClick:a=>J.selectRow(e),class:(0,l.C4)({selected:e===Z.selectedRow})},[(0,s.Lk)("td",null,(0,l.v_)(e.Recurso.titulo),1),(0,s.Lk)("td",null,(0,l.v_)(e.Recurso.autor),1),(0,s.Lk)("td",null,(0,l.v_)(e.Recurso.isbn),1),(0,s.Lk)("td",null,(0,l.v_)(e.Recurso.edicao),1),(0,s.Lk)("td",null,(0,l.v_)(e.Recurso.editora),1),(0,s.Lk)("td",null,(0,l.v_)(e.Utilizador.nome),1),(0,s.Lk)("td",null,(0,l.v_)(J.moment(e.createdAt).format("DD-MM-YYYY")),1)],10,H)))),128))])])])])])]),(0,s.Lk)("div",M,[(0,s.Lk)("div",K,[(0,s.Lk)("div",V,[(0,s.Lk)("div",Y,[(0,s.Lk)("h4",null,(0,l.v_)(Z.title),1)]),(0,s.Lk)("div",z,[(0,s.Lk)("div",B,[(0,s.Lk)("p",null,[(0,s.eW)(" Deseja excluir "),(0,s.Lk)("b",null,(0,l.v_)(Z.distribuition_resource.nome),1),(0,s.eW)(" definitivamente da base de dados? ")])])]),(0,s.Lk)("div",j,[q,(0,s.Lk)("button",{onClick:a[9]||(a[9]=(...e)=>J.deleteForm&&J.deleteForm(...e)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,s.bF)(ae)])])])}var Z=t(2833),J=t(5424),Q=t(608),ee=t(9148),ae=t.n(ee),te=t(9715),se={name:"distribuicao_recurso_view",components:{Sidebar:Z.A,Navbar:J.A,Footer:Q.A},data(){return{title:"Distribuicao Recurso",dataTable:null,selectedRow:null,subcategorias:[],estantes:[],prateleiras:[],categorias:[],recursos:[],distribuition_resource:{id:null,nome:"",capacidade:"",status:!0},filter_data:{categoria_id:null,subcategoria_id:null,estante_id:null,prateleira_id:null}}},mounted(){this.getCategories()},methods:{getRecursos(){const{categoria_id:e,subcategoria_id:a,estante_id:t,prateleira_id:s}=this.filter_data;te.FH.get(`/distribuicao-recurso/categoria/${e}/subcategoria/${a}/estante/${t}/prateleira/${s}`).then((e=>{this.recursos=e.data})).catch((e=>{console.log(e)}))},getCategories(){te.FH.get("/categoria-recurso/status/1/").then((e=>{this.categorias=e.data})).catch((e=>{console.log(e)}))},getSubcategorias(){const{categoria_id:e}=this.filter_data;te.FH.get(`/subcategoria-recurso/categoria/${e}/`).then((e=>{this.subcategorias=e.data})).catch((e=>{console.log(e)}))},getEstante(){const{categoria_id:e,subcategoria_id:a}=this.filter_data;te.FH.get(`/estante/categoria/${e}/subcategoria/${a}`).then((e=>{this.estantes=e.data})).catch((e=>{console.log(e)}))},getPrateleira(){const{categoria_id:e,subcategoria_id:a,estante_id:t}=this.filter_data;te.FH.get(`/prateleira/categoria/${e}/subcategoria/${a}/estante/${t}/`).then((e=>{this.prateleiras=e.data})).catch((e=>{console.log(e)}))},createDistribuicao(){const{categoria_id:e,subcategoria_id:a,estante_id:t,prateleira_id:s}=this.filter_data;if(""===e||""===a||""===t||""===s)this.$swal.fire({title:"Alerta",icon:"warning",text:"Preencha Todos os campos"});else{const e={...this.filter_data,...this.distribuition_resource,user_id:this.$store.state.user.id};te.FH.post("/distribuicao-recurso/",e).then((e=>{"Sucesso"===e.data.message?this.$swal.fire({title:"Sucesso",text:"Recursos Distribuidos com sucesso",icon:"success"}):this.$swal.fire({title:"Erro: Não foi possível criar",icon:"error"})})).catch((e=>{this.$swal.fire({title:"Erro",text:e.response.data.message,icon:"error"})}))}},deleteForm(){te.FH.delete(`/distribuicao-recurso/${this.distribuition_resource.id}`).then((e=>{e.data.message?this.$swal.fire({title:"Sucesso",text:e.data.message,icon:"success"}):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((e=>{console.log(e)}))},selectRow(e){this.selectedRow=e,this.distribuition_resource=e},clearForm(){this.distribuition_resource={}},moment:ae()},watch:{dataTable:{handler(){this.selectedRow=null},deep:!0}}},le=t(1241);const ie=(0,le.A)(se,[["render",G]]);var re=ie},608:function(e,a,t){t.d(a,{A:function(){return u}});var s=t(6768);const l={class:"app-footer"},i=(0,s.Lk)("span",null,"© Slice 2024",-1),r=[i];function o(e,a,t,i,o,n){return(0,s.uX)(),(0,s.CE)("div",l,r)}var n={name:"Footer_Comp"},c=t(1241);const d=(0,c.A)(n,[["render",o]]);var u=d},5424:function(e,a,t){t.d(a,{A:function(){return D}});var s=t(6768),l=t(4232),i=t(7303);const r={class:"page-header"},o=(0,s.Lk)("div",{class:"toggle-sidebar",id:"toggle-sidebar"},[(0,s.Lk)("i",{class:"bi bi-list"})],-1),n=(0,s.Lk)("img",{src:i,class:"logo-sm",alt:"Bootstrap Gallery"},null,-1),c={class:"breadcrumb d-lg-flex d-none"},d={class:"breadcrumb-item"},u=(0,s.Lk)("i",{class:"bi bi-house fs-5"},null,-1),b={class:"breadcrumb-item breadcrumb-active","aria-current":"page"},m={class:"header-actions-container"},g=(0,s.Fv)('<div class="search-container d-lg-block d-none"><div class="input-group"><input type="text" class="form-control" id="searchAny" placeholder="Pesquisar"><button class="btn" type="button"><i class="bi bi-search"></i></button></div></div>',1),k={class:"header-actions"},p={class:"dropdown"},f={id:"userSettings",class:"user-settings","data-toggle":"dropdown","aria-haspopup":"true"},L={class:"user-name d-none d-md-block"},h={class:"avatar"},v=["src"],_=(0,s.Lk)("span",{class:"status online"},null,-1),C={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userSettings"},E={class:"header-profile-actions"},F=(0,s.Lk)("span",{class:"fas fa-user",style:{"margin-right":"10px"}},null,-1),x=(0,s.Lk)("span",{class:"fas fa-cog",style:{"margin-right":"10px"}},null,-1),w=(0,s.Lk)("span",{class:"fas fa-sign-out-alt",style:{"margin-right":"10px"}},null,-1);function A(e,a,t,i,A,I){const R=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",r,[o,(0,s.bF)(R,{to:"/dashboard",class:"d-lg-none d-md-block"},{default:(0,s.k6)((()=>[n])),_:1}),(0,s.Lk)("ol",c,[(0,s.Lk)("li",d,[u,(0,s.bF)(R,{to:"/dashboard"},{default:(0,s.k6)((()=>[(0,s.eW)("Slice")])),_:1})]),(0,s.Lk)("li",b,(0,l.v_)(t.page),1)]),(0,s.Lk)("div",m,[g,(0,s.Lk)("ul",k,[(0,s.Lk)("li",p,[(0,s.Lk)("a",f,[(0,s.Lk)("span",L,(0,l.v_)(e.user.nome),1),(0,s.Lk)("span",h,[(0,s.Lk)("img",{src:A.url+"/api/mediafiles/"+e.user.foto,alt:"Admin Templates"},null,8,v),_])]),(0,s.Lk)("div",C,[(0,s.Lk)("div",E,[(0,s.bF)(R,{class:"d-flex align-items-center",to:"/admin/autenticacao/profile"},{default:(0,s.k6)((()=>[F,(0,s.eW)(" Meu Perfil")])),_:1}),(0,s.bF)(R,{class:"d-flex align-items-center",to:"/admin/configuracao"},{default:(0,s.k6)((()=>[x,(0,s.eW)(" Configuração")])),_:1}),(0,s.bF)(R,{class:"d-flex align-items-center",to:"/admin/autenticacao/logout"},{default:(0,s.k6)((()=>[w,(0,s.eW)(" Terminar Sessão")])),_:1})])])])])])])}var I=t(9715),R=t(782),S={name:"Navbar_Comp",props:{page:String},data(){return{userData:{},url:""}},created(){this.url=I.OZ},computed:{...(0,R.aH)(["user"])}},y=t(1241);const $=(0,y.A)(S,[["render",A]]);var D=$},2833:function(e,a,t){t.d(a,{A:function(){return F}});var s=t(6768),l=t(5130),i=t(4232),r=t(7303);const o={class:"sidebar-wrapper"},n={class:"sidebar-brand"},c=(0,s.Lk)("img",{src:r,alt:"IPPC"},null,-1),d={class:"sidebar-menu"},u={class:"sidebarMenuScroll",style:{"overflow-y":"auto"}},b={class:"nav-link"},m=(0,s.Lk)("i",{class:"fas fa-home"},null,-1),g={class:"menu-text"},k={class:"sidebar-submenu"};function p(e,a,t,r,p,f){const L=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",o,[(0,s.Lk)("div",n,[(0,s.bF)(L,{to:"/dashboard",class:"logo"},{default:(0,s.k6)((()=>[c])),_:1})]),(0,s.Lk)("div",d,[(0,s.Lk)("div",u,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",b,[(0,s.bF)(L,{to:"/dashboard"},{default:(0,s.k6)((()=>[m,(0,s.eW)(" PÁGINA INICIAL ")])),_:1})]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(p.items,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id,class:"sidebar-dropdown"},[(0,s.Lk)("a",{href:"#",onClick:a[0]||(a[0]=(0,l.D$)((e=>f.toggleSubMenu(e)),["prevent"]))},[(0,s.Lk)("i",{class:(0,i.C4)(e.icon)},null,2),(0,s.Lk)("span",g,(0,i.v_)(e.label),1)]),(0,s.Lk)("div",k,[(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.subItems,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id},[(0,s.bF)(L,{to:e.path},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(e.label),1)])),_:2},1032,["to"])])))),128))])])])))),128))])])])])}const f={id:1,label:"AUTENTICAÇÃO",icon:"fas fa-users",subItems:[{id:1,path:"/admin/autenticacao/users",label:"Utilizadores"}]},L={id:1,label:"TESOURARIA",icon:"fas fa-cash-register",subItems:[{id:1,path:"/admin/finances/emolumento-preco",label:"Emolumentos"},{id:2,path:"/admin/finances/pagamentos",label:"Pagamentos"},{id:3,path:"/admin/finances/despesas",label:"Depesas"},{id:4,path:"/admin/finances/fluxo-de-caixa",label:"Fluxo de Caixa"},{id:5,path:"/admin/finances/devedores",label:"Dívidas"}]},h={id:1,label:"SECRETARIA",icon:"fas fa-user-graduate",subItems:[{id:1,path:"/admin/secretaria/estudante",label:"Estudantes"},{id:3,path:"/admin/secretaria/matricular-estudante",label:"Matricular Estudante"},{id:4,path:"/admin/academico/matriculas",label:"Listas Matriculados"}]};var v=t(782),_={name:"sidebar_comp",data(){return{items:[]}},methods:{toggleSubMenu(e){e.currentTarget.parentElement.classList.toggle("active"),e.currentTarget.nextElementSibling.classList.toggle("active")}},computed:{...(0,v.aH)(["user"])},mounted(){"Administrador"===this.$store.state.user.nivel&&(this.items=[h,L,f]),"IT"===this.$store.state.user.nivel?this.items=[h,L,f]:"Secretaria"===this.$store.state.user.nivel?this.items=[h]:"Tesouraria"===this.$store.state.user.nivel&&(this.items=[L])}},C=t(1241);const E=(0,C.A)(_,[["render",p]]);var F=E},7303:function(e,a,t){e.exports=t.p+"img/castro.e2f36cae.jpeg"}}]);
//# sourceMappingURL=876.cf9ab8af.js.map