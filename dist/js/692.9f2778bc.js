"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[692],{2943:function(o,a,t){t.r(a),t.d(a,{default:function(){return la}});var l=t(6768),e=t(4232),s=t(5130);const n={class:"page-wrapper"},d={class:"main-container"},i={class:"content-wrapper-scroll"},c={class:"content-wrapper"},r={class:"row"},u={class:"col-12"},b={class:"card"},m={class:"d-flex p-3"},k=(0,l.Lk)("button",{"data-bs-toggle":"modal","data-bs-target":"#addForm",class:"btn btn-primary btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[(0,l.Lk)("span",{class:"fas fa-plus mx-1 fs-5"}),(0,l.eW)(" Adicionar ")],-1),L=(0,l.Lk)("span",{class:"fas fa-pencil mx-1 fs-5"},null,-1),v=(0,l.Lk)("span",{class:"fas fa-trash mx-1 fs-5"},null,-1),p=(0,l.Lk)("span",{class:"fas fa-file-pdf mx-1 fs-5"},null,-1),f=(0,l.Lk)("span",{class:"fas fa-file-pdf mx-1 fs-5"},null,-1),h={class:"card-body pt-0"},g={class:"row"},F={class:"col-md-3"},_=(0,l.Lk)("label",null,"Selecione o ano letivo",-1),w=(0,l.Lk)("br",null,null,-1),C=["value"],x={class:"col-md-3"},y=(0,l.Lk)("label",null,null,-1),A=(0,l.Lk)("br",null,null,-1),E=(0,l.Lk)("span",{class:"fas fa-search"},null,-1),R=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"FUNCIONÁRIO"),(0,l.Lk)("th",null,"FUNÇÃO"),(0,l.Lk)("th",null,"SALÁRIO BASE"),(0,l.Lk)("th",null,"ANO LETIVO"),(0,l.Lk)("th",null,"ESTADO")])],-1),U={class:"modal fade","data-bs-backdrop":"static",id:"addForm"},V={class:"modal-dialog rounded-0"},S={class:"modal-content rounded-0"},X={class:"modal-header"},$={class:"modal-body"},H={class:"row"},I={class:"col-md-12 mb-3"},N=(0,l.Lk)("label",null,"Funcionário",-1),D=(0,l.Lk)("br",null,null,-1),W=["value"],O={class:"col-md-12 mb-3"},z=(0,l.Lk)("label",null,"Função",-1),B=(0,l.Lk)("br",null,null,-1),K={class:"col-md-12 mb-3"},J=(0,l.Lk)("label",null,"Salário Base",-1),T=(0,l.Lk)("br",null,null,-1),j={class:"col-md-12 mb-3"},q=(0,l.Lk)("label",null,"Ano Letivo",-1),G=(0,l.Lk)("br",null,null,-1),M=["value"],P={class:"col-md-12 mb-3"},Q=(0,l.Lk)("label",null,"Estado",-1),Y=(0,l.Lk)("br",null,null,-1),Z=(0,l.Lk)("option",{value:"Ativo"},"Ativo",-1),oo=(0,l.Lk)("option",{value:"Finalizado"},"Finalizado",-1),ao=(0,l.Lk)("option",{value:"Cancelado"},"Cancelado",-1),to=[Z,oo,ao],lo={class:"modal-footer border-0 pt-0"},eo=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),so={class:"modal fade","data-bs-backdrop":"static",id:"editForm"},no={class:"modal-dialog rounded-0"},io={class:"modal-content rounded-0"},co={class:"modal-header"},ro={class:"modal-body"},uo={class:"row"},bo={class:"col-md-12 mb-3"},mo=(0,l.Lk)("label",null,"Funcionário",-1),ko=(0,l.Lk)("br",null,null,-1),Lo=["value"],vo={class:"col-md-12 mb-3"},po=(0,l.Lk)("label",null,"Função",-1),fo=(0,l.Lk)("br",null,null,-1),ho={class:"col-md-12 mb-3"},go=(0,l.Lk)("label",null,"Salário Base",-1),Fo=(0,l.Lk)("br",null,null,-1),_o={class:"col-md-12 mb-3"},wo=(0,l.Lk)("label",null,"Ano Letivo",-1),Co=(0,l.Lk)("br",null,null,-1),xo=["value"],yo={class:"col-md-12 mb-3"},Ao=(0,l.Lk)("label",null,"Estado",-1),Eo=(0,l.Lk)("br",null,null,-1),Ro=(0,l.Lk)("option",{value:"Ativo"},"Ativo",-1),Uo=(0,l.Lk)("option",{value:"Finalizado"},"Finalizado",-1),Vo=(0,l.Lk)("option",{value:"Cancelado"},"Cancelado",-1),So=[Ro,Uo,Vo],Xo={class:"modal-footer border-0 pt-0"},$o=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),Ho={class:"modal fade","data-bs-backdrop":"static",id:"removeForm"},Io={class:"modal-dialog rounded-0"},No={class:"modal-content rounded-0"},Do={class:"modal-header"},Wo={class:"modal-body"},Oo={class:"row"},zo={class:"modal-footer border-0 pt-0"},Bo=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function Ko(o,a,t,Z,oo,ao){const Ro=(0,l.g2)("Sidebar"),Uo=(0,l.g2)("Navbar"),Vo=(0,l.g2)("DataTable"),Ko=(0,l.g2)("Footer");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(Ro),(0,l.Lk)("div",d,[(0,l.bF)(Uo,{page:"Recursos Humanos / Contratos Administrativos"}),(0,l.Lk)("div",i,[(0,l.Lk)("div",c,[(0,l.Lk)("div",r,[(0,l.Lk)("div",u,[(0,l.Lk)("div",b,[(0,l.Lk)("div",m,[k,(0,l.Lk)("button",{onClick:a[0]||(a[0]=(...o)=>ao.selectRow&&ao.selectRow(...o)),"data-bs-toggle":"modal","data-bs-target":"#editForm",class:"btn btn-info btn-dark btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[L,(0,l.eW)(" Editar ")]),(0,l.Lk)("button",{onClick:a[1]||(a[1]=(...o)=>ao.selectRow&&ao.selectRow(...o)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[v,(0,l.eW)(" Excluir ")]),(0,l.Lk)("button",{style:{background:"black"},onClick:a[2]||(a[2]=(...o)=>ao.selectRow&&ao.selectRow(...o)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[p,(0,l.eW)(" Contrato ")]),(0,l.Lk)("button",{style:{background:"black"},onClick:a[3]||(a[3]=(...o)=>ao.selectRow&&ao.selectRow(...o)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[f,(0,l.eW)(" Declaração ")])]),(0,l.Lk)("div",h,[(0,l.Lk)("div",g,[(0,l.Lk)("div",F,[_,w,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=o=>oo.filter_data.ano_lectivo_id=o)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(oo.anos,(o=>((0,l.uX)(),(0,l.CE)("option",{key:o.id,value:o.id},(0,e.v_)(o.nome),9,C)))),128))],512),[[s.u1,oo.filter_data.ano_lectivo_id]])]),(0,l.Lk)("div",x,[y,A,(0,l.Lk)("button",{onClick:a[5]||(a[5]=(...o)=>ao.filterData&&ao.filterData(...o)),class:"btn btn-info text-uppercase fw-bold"},[E,(0,l.eW)(" Buscar ")])])]),(0,l.bF)(Vo,{data:oo.contratos,columns:oo.columns,options:{select:!0,language:oo.language},ref:"table",class:"display table table-bordered table-striped"},{default:(0,l.k6)((()=>[R])),_:1},8,["data","columns","options"])])])])]),(0,l.Lk)("div",U,[(0,l.Lk)("div",V,[(0,l.Lk)("div",S,[(0,l.Lk)("div",X,[(0,l.Lk)("h4",null,(0,e.v_)(oo.title),1)]),(0,l.Lk)("div",$,[(0,l.Lk)("div",H,[(0,l.Lk)("div",I,[N,D,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=o=>oo.contrato.funcionario_id=o)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(oo.funcionarios,(o=>((0,l.uX)(),(0,l.CE)("option",{key:o.id,value:o.id},(0,e.v_)(o.nome),9,W)))),128))],512),[[s.u1,oo.contrato.funcionario_id]])]),(0,l.Lk)("div",O,[z,B,(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=o=>oo.contrato.funcao=o)},null,512),[[s.Jo,oo.contrato.funcao]])]),(0,l.Lk)("div",K,[J,T,(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=o=>oo.contrato.salario_base=o)},null,512),[[s.Jo,oo.contrato.salario_base]])]),(0,l.Lk)("div",j,[q,G,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[9]||(a[9]=o=>oo.contrato.ano_lectivo_id=o)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(oo.anos,(o=>((0,l.uX)(),(0,l.CE)("option",{key:o.id,value:o.id},(0,e.v_)(o.nome),9,M)))),128))],512),[[s.u1,oo.contrato.ano_lectivo_id]])]),(0,l.Lk)("div",P,[Q,Y,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=o=>oo.contrato.estado=o)},to,512),[[s.u1,oo.contrato.estado]])])])]),(0,l.Lk)("div",lo,[eo,(0,l.Lk)("button",{onClick:a[11]||(a[11]=(...o)=>ao.submitForm&&ao.submitForm(...o)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",so,[(0,l.Lk)("div",no,[(0,l.Lk)("div",io,[(0,l.Lk)("div",co,[(0,l.Lk)("h4",null,(0,e.v_)(oo.title),1)]),(0,l.Lk)("div",ro,[(0,l.Lk)("div",uo,[(0,l.Lk)("div",bo,[mo,ko,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[12]||(a[12]=o=>oo.contrato.funcionario_id=o)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(oo.funcionarios,(o=>((0,l.uX)(),(0,l.CE)("option",{key:o.id,value:o.id},(0,e.v_)(o.nome),9,Lo)))),128))],512),[[s.u1,oo.contrato.funcionario_id]])]),(0,l.Lk)("div",vo,[po,fo,(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=o=>oo.contrato.funcao=o)},null,512),[[s.Jo,oo.contrato.funcao]])]),(0,l.Lk)("div",ho,[go,Fo,(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=o=>oo.contrato.salario_base=o)},null,512),[[s.Jo,oo.contrato.salario_base]])]),(0,l.Lk)("div",_o,[wo,Co,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[15]||(a[15]=o=>oo.contrato.ano_lectivo_id=o)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(oo.anos,(o=>((0,l.uX)(),(0,l.CE)("option",{key:o.id,value:o.id},(0,e.v_)(o.nome),9,xo)))),128))],512),[[s.u1,oo.contrato.ano_lectivo_id]])]),(0,l.Lk)("div",yo,[Ao,Eo,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[16]||(a[16]=o=>oo.contrato.estado=o)},So,512),[[s.u1,oo.contrato.estado]])])])]),(0,l.Lk)("div",Xo,[$o,(0,l.Lk)("button",{onClick:a[17]||(a[17]=(...o)=>ao.submitForm&&ao.submitForm(...o)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",Ho,[(0,l.Lk)("div",Io,[(0,l.Lk)("div",No,[(0,l.Lk)("div",Do,[(0,l.Lk)("h4",null,(0,e.v_)(oo.title),1)]),(0,l.Lk)("div",Wo,[(0,l.Lk)("div",Oo,[(0,l.Lk)("p",null,[(0,l.eW)(" Deseja excluir "),(0,l.Lk)("b",null,(0,e.v_)(oo.contrato.funcionario_nome),1),(0,l.eW)(" definitivamente da base de dados? ")])])]),(0,l.Lk)("div",zo,[Bo,(0,l.Lk)("button",{onClick:a[18]||(a[18]=(...o)=>ao.deleteForm&&ao.deleteForm(...o)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,l.bF)(Ko)])])])}var Jo=t(6587),To=t.n(Jo),jo=t(3362),qo=t(8808),Go=t(6313),Mo=t(9715),Po=t(903),Qo=t(9995),Yo=t(3786),Zo=t(782);Po.A.use(Qo.A),Po.A.use(Yo.A);var oa={name:"contrato_administrativo_view",components:{Sidebar:jo.A,Navbar:qo.A,Footer:Go.A,DataTable:Po.A},data(){return{title:"Contratos Administrativos",selectedRow:null,contratos:[],funcionarios:[],anos:[],columns:[{data:null,render:o=>o.Funcionario.nome},{data:"funcao"},{data:"salario_base",render:o=>(0,Mo.jq)(o,2,",",".")},{data:null,render:o=>o.AnoLectivo.nome},{data:"estado"}],contrato:{},filter_data:{},language:Mo.BH}},computed:{...(0,Zo.aH)(["user"])},mounted(){this.getContratos(),this.getFuncionarios(),this.getAnos()},methods:{getAnos(){Mo.FH.get("/anos/").then((o=>{this.anos=o.data})).catch((o=>{console.log(o)}))},getFuncionarios(){Mo.FH.get("/funcionarios/").then((o=>{this.funcionarios=o.data})).catch((o=>{console.log(o)}))},getContratos(){Mo.FH.get("/contratos-administrativo/").then((o=>{this.contratos=o.data})).catch((o=>{console.log(o)}))},filterData(){Mo.FH.get(`/contratos-administrativo/ano/${this.filter_data.ano_lectivo_id}`).then((o=>{o.data.length>0?this.contratos=o.data:this.contratos=[]})).catch((o=>{console.log(o)}))},submitForm(){this.contrato.id>0?Mo.FH.put(`/contratos-administrativo/${this.contrato.id}`,this.contrato).then((o=>{o.data.message?(this.$swal.fire({title:"Sucesso",text:o.data.message,icon:"success"}),this.getContratos(),To()(".btn-secondary").click()):this.$swal.fire({title:"Erro",text:"Não foi possível atualizar",icon:"error"})})).catch((o=>{console.log(o)})):Mo.FH.post("/contratos-administrativo/",{...this.contrato,user_id:this.$store.state.user.id}).then((o=>{o.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:o.data.message,icon:"success"}),this.getContratos(),To()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível cadastrar",icon:"error"})})).catch((o=>{console.log(o)}))},deleteForm(){Mo.FH.delete(`/contratos-administrativo/${this.contrato.id}`).then((o=>{o.data.message?(this.$swal.fire({title:"Sucesso",text:o.data.message,icon:"success"}),this.getContratos(),To()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((o=>{console.log(o)}))},selectRow(){const o=this.$refs.table.dt,a=this;o.rows({selected:!0}).every((function(){const o=this.data();a.contrato=o}))},clearForm(){this.contrato={}}}},aa=t(1241);const ta=(0,aa.A)(oa,[["render",Ko]]);var la=ta}}]);
//# sourceMappingURL=692.9f2778bc.js.map