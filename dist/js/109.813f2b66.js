"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[109],{3936:function(e,s,a){a.d(s,{A:function(){return c}});var t=a(6768),l=a(4232);const i={class:"app-footer"};function n(e,s,a,n,o,r){return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("span",null,"© Núcleo Lógico "+(0,l.v_)((new Date).getFullYear())+" Todos os direitos reservados",1)])}var o={name:"Footer_Comp"},r=a(1241);const d=(0,r.A)(o,[["render",n]]);var c=d},3213:function(e,s,a){a.d(s,{A:function(){return $}});var t=a(6768),l=a(4232),i=a(584);const n={class:"page-header"},o=(0,t.Lk)("div",{class:"toggle-sidebar",id:"toggle-sidebar"},[(0,t.Lk)("i",{class:"bi bi-list"})],-1),r=(0,t.Lk)("img",{src:i,class:"logo-sm",alt:"Bootstrap Gallery"},null,-1),d={class:"breadcrumb d-lg-flex d-none"},c={class:"breadcrumb-item"},u=(0,t.Lk)("i",{class:"bi bi-house fs-5"},null,-1),m={class:"breadcrumb-item breadcrumb-active","aria-current":"page"},g={class:"header-actions-container"},k=(0,t.Lk)("span",{class:"lead-icon text-dark"},[(0,t.Lk)("i",{class:"bi bi-person-fill text-secondary"})],-1),p={class:"header-actions"},b={class:"dropdown"},v={id:"userSettings",class:"user-settings","data-toggle":"dropdown","aria-haspopup":"true"},h={class:"user-name d-none d-md-block"},L={class:"avatar"},f=["src"],_=(0,t.Lk)("span",{class:"status online"},null,-1),C={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userSettings"},w={class:"header-profile-actions"},E=(0,t.Lk)("span",{class:"fas fa-user",style:{"margin-right":"10px"}},null,-1),F=(0,t.Lk)("span",{class:"fas fa-bell",style:{"margin-right":"10px"}},null,-1),A=(0,t.Lk)("span",{class:"fas fa-cog",style:{"margin-right":"10px"}},null,-1),I=(0,t.Lk)("span",{class:"fas fa-sign-out-alt",style:{"margin-right":"10px"}},null,-1);function S(e,s,a,i,S,x){const y=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",n,[o,(0,t.bF)(y,{to:"/dashboard",class:"d-lg-none d-md-block"},{default:(0,t.k6)((()=>[r])),_:1}),(0,t.Lk)("ol",d,[(0,t.Lk)("li",c,[u,(0,t.bF)(y,{to:"/dashboard"},{default:(0,t.k6)((()=>[(0,t.eW)("Núcleo Lógico")])),_:1})]),(0,t.Lk)("li",m,(0,l.v_)(a.page),1)]),(0,t.Lk)("div",g,[(0,t.bF)(y,{to:"/admin/autenticacao/profile",class:"leads d-none d-xl-flex"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",null,(0,l.v_)(e.user.nivel),1),k])),_:1}),(0,t.Lk)("ul",p,[(0,t.Lk)("li",b,[(0,t.Lk)("a",v,[(0,t.Lk)("span",h,(0,l.v_)(e.user.nome),1),(0,t.Lk)("span",L,[(0,t.Lk)("img",{src:S.url+"/api/mediafiles/"+e.user.foto,alt:"Admin Templates"},null,8,f),_])]),(0,t.Lk)("div",C,[(0,t.Lk)("div",w,[(0,t.bF)(y,{class:"d-flex align-items-center",to:"/admin/autenticacao/profile"},{default:(0,t.k6)((()=>[E,(0,t.eW)(" Meu Perfil")])),_:1}),"Administrador"===e.user.nivel||"IT"===e.user.nivel?((0,t.uX)(),(0,t.Wv)(y,{key:0,class:"d-flex align-items-center",to:"/admin/auth/security-logs"},{default:(0,t.k6)((()=>[F,(0,t.eW)("Reg. de Atividades")])),_:1})):(0,t.Q3)("",!0),"Administrador"===e.user.nivel||"IT"===e.user.nivel?((0,t.uX)(),(0,t.Wv)(y,{key:1,class:"d-flex align-items-center",to:"/admin/configuracao"},{default:(0,t.k6)((()=>[A,(0,t.eW)(" Configuração")])),_:1})):(0,t.Q3)("",!0),(0,t.bF)(y,{class:"d-flex align-items-center",to:"/admin/autenticacao/logout"},{default:(0,t.k6)((()=>[I,(0,t.eW)(" Terminar Sessão")])),_:1})])])])])])])}var x=a(9715),y=a(782),T={name:"Navbar_Comp",props:{page:String},data(){return{userData:{},url:""}},created(){this.url=x.OZ},computed:{...(0,y.aH)(["user"])}},X=a(1241);const W=(0,X.A)(T,[["render",S]]);var $=W},7532:function(e,s,a){a.d(s,{A:function(){return w}});var t=a(6768),l=a(4232),i=a(5130),n=a(584);const o=e=>((0,t.Qi)("data-v-b949fc3c"),e=e(),(0,t.jt)(),e),r={class:"sidebar-brand"},d=o((()=>(0,t.Lk)("img",{src:n,alt:"IPPC"},null,-1))),c={class:"sidebar-menu"},u={class:"sidebarMenuScroll",style:{"overflow-y":"auto"}},m={class:"nav-link"},g=o((()=>(0,t.Lk)("i",{class:"fas fa-home"},null,-1))),k={class:"menu-text"},p={class:"sidebar-submenu"};function b(e,s,a,n,o,b){const v=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",null,[e.sidebarActive?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"sidebar-overlay d-lg-none",onClick:s[0]||(s[0]=(...e)=>b.closeSidebar&&b.closeSidebar(...e))})):(0,t.Q3)("",!0),(0,t.Lk)("nav",{class:(0,l.C4)(["sidebar-wrapper",{"sidebar-active":e.sidebarActive}])},[(0,t.Lk)("div",r,[(0,t.bF)(v,{to:"/dashboard",class:"logo"},{default:(0,t.k6)((()=>[d])),_:1})]),(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[(0,t.Lk)("ul",null,[(0,t.Lk)("li",m,[(0,t.bF)(v,{to:"/dashboard"},{default:(0,t.k6)((()=>[g,(0,t.eW)(" PÁGINA INICIAL ")])),_:1})]),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(b.filteredItems,(e=>((0,t.uX)(),(0,t.CE)("li",{key:e.id,class:"sidebar-dropdown"},[(0,t.Lk)("a",{href:"#",onClick:s[1]||(s[1]=(0,i.D$)((e=>b.toggleSubMenu(e)),["prevent"]))},[(0,t.Lk)("i",{class:(0,l.C4)(e.icon)},null,2),(0,t.Lk)("span",k,(0,l.v_)(e.label),1)]),(0,t.Lk)("div",p,[(0,t.Lk)("ul",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.subItems,(e=>((0,t.uX)(),(0,t.CE)("li",{key:e.id},[(0,t.bF)(v,{to:e.path},{default:(0,t.k6)((()=>[(0,t.eW)((0,l.v_)(e.label),1)])),_:2},1032,["to"])])))),128))])])])))),128))])])])],2)])}const v=[{id:1,label:"AUTENTICAÇÃO",icon:"fas fa-users",roles:["Administrador","IT"],subItems:[{id:1,path:"/admin/autenticacao/users",label:"Utilizadores"}]},{id:2,label:"TESOURARIA",icon:"fas fa-cash-register",roles:["Administrador","IT","Tesouraria"],subItems:[{id:0,path:"/admin/finances/emolumento-preco",label:"Emolumentos"},{id:2,path:"/admin/finances/fluxo-de-caixa",label:"Fluxo de Caixa"},{id:3,path:"/admin/finances/despesas",label:"Depesas"},{id:4,path:"/admin/finances/devedores",label:"Devedores"}]},{id:3,label:"GERIR ALUNOS",icon:"fas fa-user-graduate",roles:["Administrador","IT","Secretaria","Tesouraria"],subItems:[{id:1,path:"/admin/estudantes/lista-geral-estudantes",label:"Estudantes"},{id:2,path:"/admin/estudantes/matriculados",label:"Matriculas"}]}];var h=v,L=a(782),f={name:"sidebar_comp",computed:{...(0,L.aH)(["user","sidebarActive"]),filteredItems(){const e=this.user?.nivel;return e?h.filter((s=>s.roles.includes(e))):[]}},methods:{toggleSubMenu(e){const s=e.currentTarget.parentElement,a=e.currentTarget.nextElementSibling;s.classList.toggle("active"),a&&a.classList.toggle("active")},closeSidebar(){this.$store.commit("TOGGLE_SIDEBAR")}}},_=a(1241);const C=(0,_.A)(f,[["render",b],["__scopeId","data-v-b949fc3c"]]);var w=C},5405:function(e,s,a){a.r(s),a.d(s,{default:function(){return be}});var t=a(6768),l=a(4232),i=a(5130),n=a.p+"img/avatar.423f019b.svg";const o={class:"page-wrapper"},r={class:"main-container"},d={class:"content-wrapper-scroll"},c={class:"content-wrapper"},u={class:"row"},m={key:0,class:"col-12 mt-0"},g={class:"card"},k={class:"row p-2"},p=(0,t.Lk)("div",{class:"col-md-2 pt-1"},[(0,t.Lk)("img",{src:n,class:"w-100"})],-1),b={class:"col-md-4"},v=(0,t.Lk)("h4",null,"Dados Pessoais",-1),h={class:"m-1"},L={class:"m-1"},f={class:"m-1"},_={class:"m-1"},C={class:"m-1"},w={class:"m-1"},E={class:"col-md-4"},F=(0,t.Lk)("h4",null,"Outras Informações",-1),A={class:"m-1"},I={class:"m-1"},S={class:"m-1"},x={class:"m-1"},y={class:"m-1"},T={class:"m-1"},X={key:1,class:"col-12"},W={class:"card p-2"},$=(0,t.Lk)("div",{class:"card-header p-0"},[(0,t.Lk)("h4",{class:"card-title text-uppercase fw-bold"},"Matricular Estudante")],-1),R={class:"row"},D={class:"col-md-6"},N=(0,t.Lk)("label",null,"Curso",-1),M=(0,t.Lk)("br",null,null,-1),H=["value"],P={class:"col-md-6"},U=(0,t.Lk)("label",null,"Ano",-1),Y=(0,t.Lk)("br",null,null,-1),O=["value"],K={class:"col-md-6"},B=(0,t.Lk)("label",null,"Período",-1),G=(0,t.Lk)("br",null,null,-1),Q=["value"],V={class:"col-md-6"},j=(0,t.Lk)("label",null,"Classe",-1),Z=(0,t.Lk)("br",null,null,-1),q=["value"],z={class:"col-md-12"},J=(0,t.Lk)("label",null,"Turma",-1),ee=(0,t.Lk)("br",null,null,-1),se=["value"],ae={class:"col-md-4 pt-2"},te=(0,t.Lk)("span",{class:"fas fa-database"},null,-1);function le(e,s,a,n,le,ie){const ne=(0,t.g2)("Sidebar"),oe=(0,t.g2)("Navbar"),re=(0,t.g2)("Footer");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.bF)(ne),(0,t.Lk)("div",r,[(0,t.bF)(oe,{page:"Secretaria / Matricular Estudante"}),(0,t.Lk)("div",d,[(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[le.showStudent?((0,t.uX)(),(0,t.CE)("div",m,[(0,t.Lk)("div",g,[(0,t.Lk)("div",k,[p,(0,t.Lk)("div",b,[v,(0,t.Lk)("p",h,[(0,t.eW)("Nome: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.nome),1)]),(0,t.Lk)("p",L,[(0,t.eW)("Identificação: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.identificacao),1)]),(0,t.Lk)("p",f,[(0,t.eW)("Local de Emissão do Bilhete: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.local_emissao_identificacao),1)]),(0,t.Lk)("p",_,[(0,t.eW)("Gênero: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.genero),1)]),(0,t.Lk)("p",C,[(0,t.eW)("Estado Civil: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.estado_civil),1)]),(0,t.Lk)("p",w,[(0,t.eW)("Idade: "),(0,t.Lk)("b",null,(0,l.v_)((new Date).getFullYear()-ie.moment(le.estudante.data_de_nascimento).format("YYYY")),1)])]),(0,t.Lk)("div",E,[F,(0,t.Lk)("p",A,[(0,t.eW)("Língua de Opção: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.lingua_opcao),1)]),(0,t.Lk)("p",I,[(0,t.eW)("Telefone: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.telefone),1)]),(0,t.Lk)("p",S,[(0,t.eW)("Encarregado: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.encarregado),1)]),(0,t.Lk)("p",x,[(0,t.eW)("Contacto: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.contacto_encarregado),1)]),(0,t.Lk)("p",y,[(0,t.eW)("Residência: "),(0,t.Lk)("b",null,(0,l.v_)(le.estudante.residencia),1)]),(0,t.Lk)("p",T,[(0,t.eW)("Data de Nascimento: "),(0,t.Lk)("b",null,(0,l.v_)(ie.moment(le.estudante.data_de_nascimento).format("DD - MM - YYYY")),1)])])])])])):(0,t.Q3)("",!0),le.showRegistration?((0,t.uX)(),(0,t.CE)("div",X,[(0,t.Lk)("div",W,[$,(0,t.Lk)("div",R,[(0,t.Lk)("div",D,[N,M,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":s[0]||(s[0]=e=>le.registration.curso_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(le.cursos,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,H)))),128))],512),[[i.u1,le.registration.curso_id]])]),(0,t.Lk)("div",P,[U,Y,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=e=>le.registration.ano_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(le.anos,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,O)))),128))],512),[[i.u1,le.registration.ano_id]])]),(0,t.Lk)("div",K,[B,G,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":s[2]||(s[2]=e=>le.registration.periodo_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(le.periodos,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,Q)))),128))],512),[[i.u1,le.registration.periodo_id]])]),(0,t.Lk)("div",V,[j,Z,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=e=>le.registration.classe_id=e),onChange:s[4]||(s[4]=(...e)=>ie.getSalas&&ie.getSalas(...e))},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(le.classes,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,q)))),128))],544),[[i.u1,le.registration.classe_id]])]),(0,t.Lk)("div",z,[J,ee,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=e=>le.registration.sala_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(le.salas,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,se)))),128))],512),[[i.u1,le.registration.sala_id]])]),(0,t.Lk)("div",ae,[(0,t.Lk)("button",{onClick:s[6]||(s[6]=(...e)=>ie.submitForm&&ie.submitForm(...e)),class:"btn btn-primary fw-bold"},[te,(0,t.eW)(" MATRICULAR ")])])])])])):(0,t.Q3)("",!0)])]),(0,t.bF)(re)])])])}a(4114);var ie=a(6587),ne=a.n(ie),oe=a(7532),re=a(3213),de=a(3936),ce=a(9715),ue=a(9148),me=a.n(ue),ge={name:"matricula_view",components:{Sidebar:oe.A,Navbar:re.A,Footer:de.A},data(){return{title:"Matricula",dataTable:null,selectedRow:null,showStudent:!1,showRegistration:!1,filter_data:{estudante_id:""},estudante:{},matricula:{},registration:{ano_id:null,curso_id:null,sala_id:null,estudante_id:null,periodo_id:null,classe_id:null,estado:"Estudando"},anos:[],cursos:[],periodos:[],estudantes:[],salas:[],classes:[]}},mounted(){this.getAnos(),this.getCursos(),this.getPeriodos(),this.getClasses(),this.getEstudantes(),this.getStudent()},methods:{getAnos(){ce.FH.get("/anos/status/1/").then((e=>{this.anos=e.data})).catch((e=>{console.log(e)}))},getCursos(){ce.FH.get("/cursos/").then((e=>{this.cursos=e.data})).catch((e=>{console.log(e)}))},getSalas(){const{periodo_id:e,curso_id:s,classe_id:a}=this.registration;ce.FH.get(`/salas/curso/${s}/classe/${a}/periodo/${e}`).then((e=>{this.salas=e.data})).catch((e=>{console.log(e)}))},getClasses(){ce.FH.get("/classes/").then((e=>{this.classes=e.data})).catch((e=>{console.log(e)}))},getPeriodos(){ce.FH.get("/periodos/").then((e=>{this.periodos=e.data})).catch((e=>{console.log(e)}))},getStudent(){ce.FH.get(`/estudantes/${this.$route.params.estudante_id}`).then((e=>{null!=e.data?(this.estudante=e.data,this.registration.estudante_id=e.data.id,this.registration.curso_id=e.data.curso_id,this.showStudent=!0,this.showRegistration=!0):(this.$router.push("/admin/secretaria/estudante"),this.showStudent=!1,this.showRegistration=!1)})).catch((e=>{console.log(e)}))},moment:me(),generatePDF(e){window.open(`${ce.OZ}/api/documentos/boletim-matricula/${e}/`,"_blank")},submitForm(){const e={...this.registration,user_id:this.$store.state.user.id,nome:this.$store.state.user.nome};ce.FH.post("/matricula/",e).then((e=>{e.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:e.data.message,icon:"success"}).then((()=>{this.$swal.fire({title:"Mensagem",icon:"question",text:"Deseja retirar o comprovativo ?",confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((s=>{s.isConfirmed&&this.generatePDF(e.data.data.id)}))})),this.registration={estado:"Estudando"},this.showStudent=!0,this.showRegistration=!0,this.registration={},this.getStudent()):this.$swal.fire({title:"Erro",text:"Não foi possível cadastrar",icon:"error"})})).catch((e=>{console.log(e),this.$swal.fire({title:"Erro",icon:"error",text:e.response.data.message})}))},deleteForm(){ce.FH.delete(`/estudantes/${this.candidate.id}`).then((e=>{e.data.message?(this.$swal.fire({title:e.data.message,icon:"success"}),ne()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((e=>{console.log(e)}))},getEstudantes(){ce.FH.get("/estudantes/").then((e=>this.estudantes=e.data)).catch((e=>{console.log(e)}))},selectRow(e){this.selectedRow=e,this.candidate=e,this.getMaritalState()},clearForm(){this.candidate={}}},watch:{dataTable:{handler(){this.selectedRow=null},deep:!0}}},ke=a(1241);const pe=(0,ke.A)(ge,[["render",le]]);var be=pe},584:function(e,s,a){e.exports=a.p+"img/nl.1c597dfe.png"}}]);
//# sourceMappingURL=109.813f2b66.js.map