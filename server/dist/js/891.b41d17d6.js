"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[891],{6313:function(a,e,s){s.d(e,{A:function(){return d}});var l=s(6768),t=s(4232);const i={class:"app-footer"};function o(a,e,s,o,n,r){return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("span",null,"© IPPC "+(0,t.v_)((new Date).getFullYear())+" Todos os direitos reservados",1)])}var n={name:"Footer_Comp"},r=s(1241);const u=(0,r.A)(n,[["render",o]]);var d=u},8808:function(a,e,s){s.d(e,{A:function(){return D}});var l=s(6768),t=s(4232),i=s(7303);const o={class:"page-header"},n=(0,l.Lk)("div",{class:"toggle-sidebar",id:"toggle-sidebar"},[(0,l.Lk)("i",{class:"bi bi-list"})],-1),r=(0,l.Lk)("img",{src:i,class:"logo-sm",alt:"Bootstrap Gallery"},null,-1),u={class:"breadcrumb d-lg-flex d-none"},d={class:"breadcrumb-item"},c=(0,l.Lk)("i",{class:"bi bi-house fs-5"},null,-1),m={class:"breadcrumb-item breadcrumb-active","aria-current":"page"},p={class:"header-actions-container"},b=(0,l.Lk)("span",{class:"lead-icon text-dark"},[(0,l.Lk)("i",{class:"bi bi-person-fill text-secondary"})],-1),f={class:"header-actions"},h={class:"dropdown"},k={id:"userSettings",class:"user-settings","data-toggle":"dropdown","aria-haspopup":"true"},g={class:"user-name d-none d-md-block"},L={class:"avatar"},v=["src"],S=(0,l.Lk)("span",{class:"status online"},null,-1),x={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userSettings"},I={class:"header-profile-actions"},F=(0,l.Lk)("span",{class:"fas fa-user",style:{"margin-right":"10px"}},null,-1),C=(0,l.Lk)("span",{class:"fas fa-bell",style:{"margin-right":"10px"}},null,-1),w=(0,l.Lk)("span",{class:"fas fa-cog",style:{"margin-right":"10px"}},null,-1),_=(0,l.Lk)("span",{class:"fas fa-sign-out-alt",style:{"margin-right":"10px"}},null,-1);function A(a,e,s,i,A,y){const E=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",o,[n,(0,l.bF)(E,{to:"/dashboard",class:"d-lg-none d-md-block"},{default:(0,l.k6)((()=>[r])),_:1}),(0,l.Lk)("ol",u,[(0,l.Lk)("li",d,[c,(0,l.bF)(E,{to:"/dashboard"},{default:(0,l.k6)((()=>[(0,l.eW)("IPPC")])),_:1})]),(0,l.Lk)("li",m,(0,t.v_)(s.page),1)]),(0,l.Lk)("div",p,[(0,l.bF)(E,{to:"/admin/autenticacao/profile",class:"leads d-none d-xl-flex"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,(0,t.v_)(a.user.nivel),1),b])),_:1}),(0,l.Lk)("ul",f,[(0,l.Lk)("li",h,[(0,l.Lk)("a",k,[(0,l.Lk)("span",g,(0,t.v_)(a.user.nome),1),(0,l.Lk)("span",L,[(0,l.Lk)("img",{src:A.url+"/api/mediafiles/"+a.user.foto,alt:"Admin Templates"},null,8,v),S])]),(0,l.Lk)("div",x,[(0,l.Lk)("div",I,[(0,l.bF)(E,{class:"d-flex align-items-center",to:"/admin/autenticacao/profile"},{default:(0,l.k6)((()=>[F,(0,l.eW)(" Meu Perfil")])),_:1}),"Administrador"===a.user.nivel||"IT"===a.user.nivel?((0,l.uX)(),(0,l.Wv)(E,{key:0,class:"d-flex align-items-center",to:"/admin/auth/security-logs"},{default:(0,l.k6)((()=>[C,(0,l.eW)("Reg. de Atividades")])),_:1})):(0,l.Q3)("",!0),"Administrador"===a.user.nivel||"IT"===a.user.nivel?((0,l.uX)(),(0,l.Wv)(E,{key:1,class:"d-flex align-items-center",to:"/admin/configuracao"},{default:(0,l.k6)((()=>[w,(0,l.eW)(" Configuração")])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(E,{class:"d-flex align-items-center",to:"/admin/autenticacao/logout"},{default:(0,l.k6)((()=>[_,(0,l.eW)(" Terminar Sessão")])),_:1})])])])])])])}var y=s(9715),E=s(782),R={name:"Navbar_Comp",props:{page:String},data(){return{userData:{},url:""}},created(){this.url=y.OZ},computed:{...(0,E.aH)(["user"])}},$=s(1241);const U=(0,$.A)(R,[["render",A]]);var D=U},3362:function(a,e,s){s.d(e,{A:function(){return C}});var l=s(6768),t=s(5130),i=s(4232),o=s(7303);const n={class:"sidebar-wrapper"},r={class:"sidebar-brand"},u=(0,l.Lk)("img",{src:o,alt:"IPPC"},null,-1),d={class:"sidebar-menu"},c={class:"sidebarMenuScroll",style:{"overflow-y":"auto"}},m={class:"nav-link"},p=(0,l.Lk)("i",{class:"fas fa-chart-pie"},null,-1),b={class:"menu-text"},f={class:"sidebar-submenu"};function h(a,e,s,o,h,k){const g=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("nav",n,[(0,l.Lk)("div",r,[(0,l.bF)(g,{to:"/dashboard",class:"logo"},{default:(0,l.k6)((()=>[u])),_:1})]),(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[(0,l.Lk)("ul",null,[(0,l.Lk)("li",m,[(0,l.bF)(g,{to:"/dashboard"},{default:(0,l.k6)((()=>[p,(0,l.eW)(" PÁGINA PRINCIPAL ")])),_:1})]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(h.items,(a=>((0,l.uX)(),(0,l.CE)("li",{key:a.id,class:"sidebar-dropdown"},[(0,l.Lk)("a",{href:"#",onClick:e[0]||(e[0]=(0,t.D$)((a=>k.toggleSubMenu(a)),["prevent"]))},[(0,l.Lk)("i",{class:(0,i.C4)(a.icon)},null,2),(0,l.Lk)("span",b,(0,i.v_)(a.label),1)]),(0,l.Lk)("div",f,[(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.subItems,(a=>((0,l.uX)(),(0,l.CE)("li",{key:a.id},[(0,l.bF)(g,{to:a.path},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(a.label),1)])),_:2},1032,["to"])])))),128))])])])))),128))])])])])}const k={id:1,label:"AUTENTICAÇÃO",icon:"fas fa-users",subItems:[{id:1,path:"/admin/autenticacao/users",label:"Utilizadores"}]},g={id:1,label:"TESOURARIA",icon:"fas fa-cash-register",subItems:[{id:0,path:"/admin/finances/emolumento-preco",label:"Emolumentos"},{id:2,path:"/admin/finances/despesas",label:"Depesas"},{id:3,path:"/admin/finances/devedores",label:"Devedores"},{id:3,path:"/admin/finances/fluxo-de-caixa",label:"Fluxo de Caixa"}]},L={id:1,label:"GERIR ALUNOS",icon:"fas fa-users",subItems:[{id:1,path:"/admin/estudantes/lista-geral-estudantes",label:"Estudantes"},{id:2,path:"/admin/estudantes/matriculados",label:"Matriculas"}]},v={id:1,label:"GERIR ALUNOS",icon:"fas fa-users",subItems:[{id:1,path:"/admin/estudantes/lista-geral-estudantes",label:"Estudantes"},{id:2,path:"/admin/estudantes/matriculados",label:"Matriculas"}]};var S=s(782),x={name:"sidebar_comp",data(){return{items:[]}},methods:{toggleSubMenu(a){a.currentTarget.parentElement.classList.toggle("active"),a.currentTarget.nextElementSibling.classList.toggle("active")}},computed:{...(0,S.aH)(["user"])},mounted(){"Administrador"===this.$store.state.user.nivel&&(this.items=[L,g,k]),"IT"===this.$store.state.user.nivel?this.items=[L,g,k]:"Secretaria"===this.$store.state.user.nivel?this.items=[L]:"Tesouraria"===this.$store.state.user.nivel?this.items=[v,g]:"D.Pedagógico"===this.$store.state.user.nivel&&(this.items=[L])}},I=s(1241);const F=(0,I.A)(x,[["render",h]]);var C=F},8272:function(a,e,s){s.r(e),s.d(e,{default:function(){return K}});var l=s(6768),t=s(4232),i=s(5130);const o={class:"page-wrapper"},n={class:"main-container"},r={class:"content-wrapper-scroll"},u={class:"content-wrapper"},d={class:"row"},c={class:"col-12"},m={class:"card"},p={class:"d-flex p-3"},b=(0,l.Lk)("span",{class:"fas fa-chevron-left mx-1 fs-5"},null,-1),f=(0,l.Lk)("span",{class:"fa fa-file-pdf mx-1 fs-5"},null,-1),h=(0,l.Lk)("span",{class:"fa fa-print mx-1 fs-5"},null,-1),k={class:"card-body pt-0"},g={class:"row"},L={class:"col-md-6"},v=(0,l.Lk)("label",null,"Ano letivo",-1),S=(0,l.Lk)("br",null,null,-1),x=["value"],I={class:"col-md-6"},F=(0,l.Lk)("label",null,"Mês",-1),C=(0,l.Lk)("br",null,null,-1),w=["value"],_={class:"table table-striped table-bordered mt-2"},A=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"FUNCIONÁRIO"),(0,l.Lk)("th",null,"S.BASE"),(0,l.Lk)("th",null,"INSS"),(0,l.Lk)("th",null,"IRT"),(0,l.Lk)("th",null,"FALTAS"),(0,l.Lk)("th",null,"SUBSÍDIOS"),(0,l.Lk)("th",null,"S.LÍQUIDO"),(0,l.Lk)("th",null,"OPÇÕES")])],-1),y={class:"pt-3"},E=["onUpdate:modelValue","onInput"],R=["onUpdate:modelValue","onInput"],$=["onUpdate:modelValue","onInput"],U=["onUpdate:modelValue","onInput"],D={class:"pt-3"},N=["onClick"],T=(0,l.Lk)("span",{class:"fas fa-trash"},null,-1),X=[T],P=(0,l.Lk)("div",{class:"d-flex float-end"},[(0,l.Lk)("button",{type:"submit",class:"btn btn-sm btn-success mx-2 fw-bold text-uppercase"},[(0,l.Lk)("span",{class:"fas fa-database"}),(0,l.eW)(" Atualizar Dados ")])],-1);function W(a,e,s,T,W,O){const V=(0,l.g2)("Sidebar"),B=(0,l.g2)("Navbar"),H=(0,l.g2)("Footer");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(V),(0,l.Lk)("div",n,[(0,l.bF)(B,{page:"Recursos Humanos / Detalhes da Folha Salarial"}),(0,l.Lk)("div",r,[(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[(0,l.Lk)("div",m,[(0,l.Lk)("div",p,[(0,l.Lk)("button",{style:{background:"black"},onClick:e[0]||(e[0]=(...a)=>O.goBack&&O.goBack(...a)),class:"btn text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[b,(0,l.eW)(" Voltar ")]),(0,l.Lk)("button",{onClick:e[1]||(e[1]=(...e)=>a.selectRow&&a.selectRow(...e)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-success text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[f,(0,l.eW)(" Processar ")]),(0,l.Lk)("button",{onClick:e[2]||(e[2]=(...e)=>a.selectRow&&a.selectRow(...e)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[h,(0,l.eW)(" Imprimir ")])]),(0,l.Lk)("div",k,[(0,l.Lk)("div",g,[(0,l.Lk)("div",L,[v,S,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=a=>W.salario.ano_lectivo_id=a),readonly:"",disabled:""},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(W.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,t.v_)(a.nome),9,x)))),128))],512),[[i.u1,W.salario.ano_lectivo_id]])]),(0,l.Lk)("div",I,[F,C,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":e[4]||(e[4]=a=>W.salario.mes=a),readonly:"",disabled:""},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(W.meses,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a,value:a},(0,t.v_)(a),9,w)))),128))],512),[[i.u1,W.salario.mes]])])]),(0,l.Lk)("form",{onSubmit:e[5]||(e[5]=(0,i.D$)(((...a)=>O.sendData&&O.sendData(...a)),["prevent"]))},[(0,l.Lk)("table",_,[A,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(W.folhasSalariais,((a,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:e},[(0,l.Lk)("td",null,(0,t.v_)(a.Funcionario.nome),1),(0,l.Lk)("td",y,[(0,l.Lk)("h6",null,(0,t.v_)(O.numberFormat(W.folhasSalariais[e].salario_base,2,",",".")),1)]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>W.folhasSalariais[e].inss=a,type:"number",class:"form-control",onInput:a=>O.onInputChange(e)},null,40,E),[[i.Jo,W.folhasSalariais[e].inss]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>W.folhasSalariais[e].irt=a,type:"number",class:"form-control",onInput:a=>O.onInputChange(e)},null,40,R),[[i.Jo,W.folhasSalariais[e].irt]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>W.folhasSalariais[e].faltas=a,type:"number",class:"form-control",onInput:a=>O.onInputChange(e)},null,40,$),[[i.Jo,W.folhasSalariais[e].faltas]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a=>W.folhasSalariais[e].subsidios=a,type:"number",class:"form-control",onInput:a=>O.onInputChange(e)},null,40,U),[[i.Jo,W.folhasSalariais[e].subsidios]])]),(0,l.Lk)("td",D,[(0,l.Lk)("h6",null,(0,t.v_)(O.numberFormat(W.folhasSalariais[e].salario_liquido,2,",",".")),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("button",{type:"button",onClick:a=>O.removeRow(e),class:"btn btn-danger"},X,8,N)])])))),128))])]),P],32)])])])])]),(0,l.bF)(H)])])])}var O=s(3362),V=s(8808),B=s(6313),H=s(9715),M=s(782),J={name:"salary_sheet_detail_view",components:{Sidebar:O.A,Navbar:V.A,Footer:B.A},data(){return{title:"Detalhes da Folha",selectedRow:null,folhasSalariais:[],anos:[],meses:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],salario:{}}},computed:{...(0,M.aH)(["user"])},mounted(){this.getFolhasSalariais(),this.getSalarios(),this.getAnos()},methods:{goBack(){this.$router.go(-1)},removeRow(a){this.$swal.fire({title:"Notificação",text:"Deseja Remover este item da lista",icon:"warning",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não"}).then((e=>{e.isConfirmed&&this.deleteForm(this.folhasSalariais[a].id,a)}))},numberFormat:H.jq,getAnos(){H.FH.get("/anos/").then((a=>{this.anos=a.data})).catch((a=>{console.log(a)}))},getSalarios(){H.FH.get(`/salarios/${this.$route.params.id}`).then((a=>{this.salario=a.data})).catch((a=>{console.log(a)}))},getFolhasSalariais(){H.FH.get(`/salarios/salario/${this.$route.params.id}`).then((a=>{this.folhasSalariais=a.data,this.folhasSalariais.forEach(((a,e)=>{this.calcularSalarioLiquido(e)}))})).catch((a=>{console.log(a)}))},deleteForm(a,e){H.FH.delete(`/salarios/folha-salarial/${a}`).then((a=>{!0===a.data.title?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.folhasSalariais.splice(e,1),this.getFolhasSalariais()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((a=>{console.log(a)}))},calcularSalarioLiquido(a){const e=this.folhasSalariais[a].salario_base,s=this.folhasSalariais[a].inss/100,l=this.folhasSalariais[a].irt/100,t=this.folhasSalariais[a].faltas,i=this.folhasSalariais[a].subsidios,o=e-t+i,n=o*s,r=o*l,u=o-n-r;this.folhasSalariais[a].salario_liquido=u},onInputChange(a){this.calcularSalarioLiquido(a)},sendData(){const a={itens:this.folhasSalariais};H.FH.put("/salarios/folha-salarial/update-salarios/all",a).then((a=>{!0===a.data.title?this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}):this.$swal.fire({title:"Erro",text:"Não foi possível atualizar",icon:"error"})})).catch((()=>{this.$swal.fire({title:"Erro",text:"Não foi possível atualizar",icon:"error"})}))}}},q=s(1241);const z=(0,q.A)(J,[["render",W]]);var K=z},7303:function(a,e,s){a.exports=s.p+"img/castro.e2f36cae.jpeg"}}]);
//# sourceMappingURL=891.b41d17d6.js.map