"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[321],{176:function(a,o,t){t.r(o),t.d(o,{default:function(){return to}});var l=t(6768),e=t(4232),s=t(5130);const n={class:"page-wrapper"},d={class:"main-container"},c={class:"content-wrapper-scroll"},r={class:"content-wrapper"},i={class:"row"},u={class:"col-12"},b={class:"card"},m={class:"d-flex p-3"},k=(0,l.Lk)("button",{"data-bs-toggle":"modal","data-bs-target":"#addForm",class:"btn btn-primary btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[(0,l.Lk)("span",{class:"fas fa-plus mx-1 fs-5"}),(0,l.eW)(" Adicionar ")],-1),L=(0,l.Lk)("span",{class:"fas fa-pencil mx-1 fs-5"},null,-1),v=(0,l.Lk)("span",{class:"fas fa-trash mx-1 fs-5"},null,-1),p=(0,l.Lk)("span",{class:"fas fa-file-pdf mx-1 fs-5"},null,-1),f=(0,l.Lk)("span",{class:"fas fa-file-pdf mx-1 fs-5"},null,-1),h={class:"card-body pt-0"},g={class:"row"},F={class:"col-md-3"},x=(0,l.Lk)("label",null,"Selecione o ano letivo",-1),_=(0,l.Lk)("br",null,null,-1),w=["value"],C={class:"col-md-3"},y=(0,l.Lk)("label",null,null,-1),A=(0,l.Lk)("br",null,null,-1),E=(0,l.Lk)("span",{class:"fas fa-search"},null,-1),R=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"FUNCIONÁRIO"),(0,l.Lk)("th",null,"FUNÇÃO"),(0,l.Lk)("th",null,"SALÁRIO BASE"),(0,l.Lk)("th",null,"ANO LETIVO"),(0,l.Lk)("th",null,"ESTADO")])],-1),U={class:"modal fade","data-bs-backdrop":"static",id:"addForm"},V={class:"modal-dialog rounded-0"},S={class:"modal-content rounded-0"},X={class:"modal-header"},$={class:"modal-body"},H={class:"row"},I={class:"col-md-12 mb-3"},N=(0,l.Lk)("label",null,"Funcionário",-1),D=(0,l.Lk)("br",null,null,-1),W=["value"],O={class:"col-md-12 mb-3"},z=(0,l.Lk)("label",null,"Função",-1),B=(0,l.Lk)("br",null,null,-1),K={class:"col-md-12 mb-3"},J=(0,l.Lk)("label",null,"Salário Base",-1),T=(0,l.Lk)("br",null,null,-1),j={class:"col-md-12 mb-3"},q=(0,l.Lk)("label",null,"Ano Letivo",-1),G=(0,l.Lk)("br",null,null,-1),M=["value"],P={class:"col-md-12 mb-3"},Q=(0,l.Lk)("label",null,"Estado",-1),Y=(0,l.Lk)("br",null,null,-1),Z=(0,l.Lk)("option",{value:"Ativo"},"Ativo",-1),aa=(0,l.Lk)("option",{value:"Finalizado"},"Finalizado",-1),oa=(0,l.Lk)("option",{value:"Cancelado"},"Cancelado",-1),ta=[Z,aa,oa],la={class:"modal-footer border-0 pt-0"},ea=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),sa={class:"modal fade","data-bs-backdrop":"static",id:"editForm"},na={class:"modal-dialog rounded-0"},da={class:"modal-content rounded-0"},ca={class:"modal-header"},ra={class:"modal-body"},ia={class:"row"},ua={class:"col-md-12 mb-3"},ba=(0,l.Lk)("label",null,"Funcionário",-1),ma=(0,l.Lk)("br",null,null,-1),ka=["value"],La={class:"col-md-12 mb-3"},va=(0,l.Lk)("label",null,"Função",-1),pa=(0,l.Lk)("br",null,null,-1),fa={class:"col-md-12 mb-3"},ha=(0,l.Lk)("label",null,"Salário Base",-1),ga=(0,l.Lk)("br",null,null,-1),Fa={class:"col-md-12 mb-3"},xa=(0,l.Lk)("label",null,"Ano Letivo",-1),_a=(0,l.Lk)("br",null,null,-1),wa=["value"],Ca={class:"col-md-12 mb-3"},ya=(0,l.Lk)("label",null,"Estado",-1),Aa=(0,l.Lk)("br",null,null,-1),Ea=(0,l.Lk)("option",{value:"Ativo"},"Ativo",-1),Ra=(0,l.Lk)("option",{value:"Finalizado"},"Finalizado",-1),Ua=(0,l.Lk)("option",{value:"Cancelado"},"Cancelado",-1),Va=[Ea,Ra,Ua],Sa={class:"modal-footer border-0 pt-0"},Xa=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),$a={class:"modal fade","data-bs-backdrop":"static",id:"removeForm"},Ha={class:"modal-dialog rounded-0"},Ia={class:"modal-content rounded-0"},Na={class:"modal-header"},Da={class:"modal-body"},Wa={class:"row"},Oa={class:"modal-footer border-0 pt-0"},za=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function Ba(a,o,t,Z,aa,oa){const Ea=(0,l.g2)("Sidebar"),Ra=(0,l.g2)("Navbar"),Ua=(0,l.g2)("DataTable"),Ba=(0,l.g2)("Footer");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(Ea),(0,l.Lk)("div",d,[(0,l.bF)(Ra,{page:"Recursos Humanos / Contratos Auxiliares"}),(0,l.Lk)("div",c,[(0,l.Lk)("div",r,[(0,l.Lk)("div",i,[(0,l.Lk)("div",u,[(0,l.Lk)("div",b,[(0,l.Lk)("div",m,[k,(0,l.Lk)("button",{onClick:o[0]||(o[0]=(...a)=>oa.selectRow&&oa.selectRow(...a)),"data-bs-toggle":"modal","data-bs-target":"#editForm",class:"btn btn-info btn-dark btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[L,(0,l.eW)(" Editar ")]),(0,l.Lk)("button",{onClick:o[1]||(o[1]=(...a)=>oa.selectRow&&oa.selectRow(...a)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[v,(0,l.eW)(" Excluir ")]),(0,l.Lk)("button",{style:{background:"black"},onClick:o[2]||(o[2]=(...a)=>oa.selectRow&&oa.selectRow(...a)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[p,(0,l.eW)(" Contrato ")]),(0,l.Lk)("button",{style:{background:"black"},onClick:o[3]||(o[3]=(...a)=>oa.selectRow&&oa.selectRow(...a)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn text-white btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[f,(0,l.eW)(" Declaração ")])]),(0,l.Lk)("div",h,[(0,l.Lk)("div",g,[(0,l.Lk)("div",F,[x,_,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":o[4]||(o[4]=a=>aa.filter_data.ano_lectivo_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(aa.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,e.v_)(a.nome),9,w)))),128))],512),[[s.u1,aa.filter_data.ano_lectivo_id]])]),(0,l.Lk)("div",C,[y,A,(0,l.Lk)("button",{onClick:o[5]||(o[5]=(...a)=>oa.filterData&&oa.filterData(...a)),class:"btn btn-info text-uppercase fw-bold"},[E,(0,l.eW)(" Buscar ")])])]),(0,l.bF)(Ua,{data:aa.contratos,columns:aa.columns,options:{select:!0,language:aa.language},ref:"table",class:"display table table-bordered table-striped"},{default:(0,l.k6)((()=>[R])),_:1},8,["data","columns","options"])])])])]),(0,l.Lk)("div",U,[(0,l.Lk)("div",V,[(0,l.Lk)("div",S,[(0,l.Lk)("div",X,[(0,l.Lk)("h4",null,(0,e.v_)(aa.title),1)]),(0,l.Lk)("div",$,[(0,l.Lk)("div",H,[(0,l.Lk)("div",I,[N,D,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":o[6]||(o[6]=a=>aa.contrato.funcionario_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(aa.funcionarios,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,e.v_)(a.nome),9,W)))),128))],512),[[s.u1,aa.contrato.funcionario_id]])]),(0,l.Lk)("div",O,[z,B,(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=a=>aa.contrato.funcao=a)},null,512),[[s.Jo,aa.contrato.funcao]])]),(0,l.Lk)("div",K,[J,T,(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=a=>aa.contrato.salario_base=a)},null,512),[[s.Jo,aa.contrato.salario_base]])]),(0,l.Lk)("div",j,[q,G,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":o[9]||(o[9]=a=>aa.contrato.ano_lectivo_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(aa.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,e.v_)(a.nome),9,M)))),128))],512),[[s.u1,aa.contrato.ano_lectivo_id]])]),(0,l.Lk)("div",P,[Q,Y,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":o[10]||(o[10]=a=>aa.contrato.estado=a)},ta,512),[[s.u1,aa.contrato.estado]])])])]),(0,l.Lk)("div",la,[ea,(0,l.Lk)("button",{onClick:o[11]||(o[11]=(...a)=>oa.submitForm&&oa.submitForm(...a)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",sa,[(0,l.Lk)("div",na,[(0,l.Lk)("div",da,[(0,l.Lk)("div",ca,[(0,l.Lk)("h4",null,(0,e.v_)(aa.title),1)]),(0,l.Lk)("div",ra,[(0,l.Lk)("div",ia,[(0,l.Lk)("div",ua,[ba,ma,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":o[12]||(o[12]=a=>aa.contrato.funcionario_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(aa.funcionarios,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,e.v_)(a.nome),9,ka)))),128))],512),[[s.u1,aa.contrato.funcionario_id]])]),(0,l.Lk)("div",La,[va,pa,(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=a=>aa.contrato.funcao=a)},null,512),[[s.Jo,aa.contrato.funcao]])]),(0,l.Lk)("div",fa,[ha,ga,(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=a=>aa.contrato.salario_base=a)},null,512),[[s.Jo,aa.contrato.salario_base]])]),(0,l.Lk)("div",Fa,[xa,_a,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":o[15]||(o[15]=a=>aa.contrato.ano_lectivo_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(aa.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,e.v_)(a.nome),9,wa)))),128))],512),[[s.u1,aa.contrato.ano_lectivo_id]])]),(0,l.Lk)("div",Ca,[ya,Aa,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":o[16]||(o[16]=a=>aa.contrato.estado=a)},Va,512),[[s.u1,aa.contrato.estado]])])])]),(0,l.Lk)("div",Sa,[Xa,(0,l.Lk)("button",{onClick:o[17]||(o[17]=(...a)=>oa.submitForm&&oa.submitForm(...a)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",$a,[(0,l.Lk)("div",Ha,[(0,l.Lk)("div",Ia,[(0,l.Lk)("div",Na,[(0,l.Lk)("h4",null,(0,e.v_)(aa.title),1)]),(0,l.Lk)("div",Da,[(0,l.Lk)("div",Wa,[(0,l.Lk)("p",null,[(0,l.eW)(" Deseja excluir "),(0,l.Lk)("b",null,(0,e.v_)(aa.contrato.funcionario_nome),1),(0,l.eW)(" definitivamente da base de dados? ")])])]),(0,l.Lk)("div",Oa,[za,(0,l.Lk)("button",{onClick:o[18]||(o[18]=(...a)=>oa.deleteForm&&oa.deleteForm(...a)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,l.bF)(Ba)])])])}var Ka=t(6587),Ja=t.n(Ka),Ta=t(3362),ja=t(8808),qa=t(6313),Ga=t(9715),Ma=t(903),Pa=t(9995),Qa=t(3786),Ya=t(782);Ma.A.use(Pa.A),Ma.A.use(Qa.A);var Za={name:"contrato_auxiliar_view",components:{Sidebar:Ta.A,Navbar:ja.A,Footer:qa.A,DataTable:Ma.A},data(){return{title:"Contratos auxiliares",selectedRow:null,contratos:[],funcionarios:[],anos:[],columns:[{data:null,render:a=>a.Funcionario.nome},{data:"funcao"},{data:"salario_base",render:a=>(0,Ga.jq)(a,2,",",".")},{data:null,render:a=>a.AnoLectivo.nome},{data:"estado"}],contrato:{},filter_data:{},language:Ga.BH}},computed:{...(0,Ya.aH)(["user"])},mounted(){this.getContratos(),this.getFuncionarios(),this.getAnos()},methods:{getAnos(){Ga.FH.get("/anos/").then((a=>{this.anos=a.data})).catch((a=>{console.log(a)}))},getFuncionarios(){Ga.FH.get("/funcionarios/grupo/Auxiliar").then((a=>{this.funcionarios=a.data})).catch((a=>{console.log(a)}))},getContratos(){Ga.FH.get("/contratos-auxiliar/").then((a=>{this.contratos=a.data})).catch((a=>{console.log(a)}))},filterData(){Ga.FH.get(`/contratos-auxiliar/ano/${this.filter_data.ano_lectivo_id}`).then((a=>{a.data.length>0?this.contratos=a.data:this.contratos=[]})).catch((a=>{console.log(a)}))},submitForm(){this.contrato.id>0?Ga.FH.put(`/contratos-auxiliar/${this.contrato.id}`,this.contrato).then((a=>{a.data.message?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.getContratos(),Ja()(".btn-secondary").click()):this.$swal.fire({title:"Erro",text:"Não foi possível atualizar",icon:"error"})})).catch((a=>{console.log(a)})):Ga.FH.post("/contratos-auxiliar/",{...this.contrato,user_id:this.$store.state.user.id}).then((a=>{a.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.getContratos(),Ja()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível cadastrar",icon:"error"})})).catch((a=>{console.log(a)}))},deleteForm(){Ga.FH.delete(`/contratos-auxiliar/${this.contrato.id}`).then((a=>{a.data.message?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.getContratos(),Ja()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((a=>{console.log(a)}))},selectRow(){const a=this.$refs.table.dt,o=this;a.rows({selected:!0}).every((function(){const a=this.data();o.contrato=a}))},clearForm(){this.contrato={}}}},ao=t(1241);const oo=(0,ao.A)(Za,[["render",Ba]]);var to=oo}}]);
//# sourceMappingURL=321.0571a28d.js.map