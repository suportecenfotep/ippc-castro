"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[775],{2775:function(a,e,t){t.r(e),t.d(e,{default:function(){return w}});var s=t(6768),i=t(5130),n=t(7303);const o={class:"login-box mt-4"},l={class:"login-form"},r=(0,s.Lk)("img",{src:n,alt:"Vico Admin"},null,-1),c=(0,s.Lk)("div",{class:"login-welcome"},[(0,s.eW)(" Bem vindo, "),(0,s.Lk)("br"),(0,s.eW)(" Por favor insira os seus dados de acesso. ")],-1),d={class:"mb-3"},u=(0,s.Lk)("label",{class:"form-label"},"Utilizador",-1),h={class:"mb-3"},m=(0,s.Lk)("label",{class:"form-label"},"Palavra-Passe",-1),g=(0,s.Fv)('<div class="login-form-actions"><button type="submit" class="btn"><span class="icon"><i class="bi bi-arrow-right-circle"></i></span> Iniciar Sessão </button></div><div class="login-form-footer text-center"><div class="additional-link text-center"> Esqueci a Palavra-Passe? <a href="signup.html"> Redefinir a senha</a></div></div>',2);function f(a,e,t,n,f,p){const k=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("form",{class:"pt-5",onSubmit:e[2]||(e[2]=(0,i.D$)(((...a)=>p.signin&&p.signin(...a)),["prevent"]))},[(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[(0,s.bF)(k,{to:"#",class:"login-logo"},{default:(0,s.k6)((()=>[r])),_:1}),c,(0,s.Lk)("div",d,[u,(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=a=>f.auth.email=a)},null,512),[[i.Jo,f.auth.email]])]),(0,s.Lk)("div",h,[m,(0,s.bo)((0,s.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>f.auth.senha=a)},null,512),[[i.Jo,f.auth.senha]])]),g])])],32)}t(4114);var p=t(9715),k=t(782),v={name:"login_view",data(){return{auth:{email:"",senha:""}}},mounted(){this.checkLicence()},methods:{...(0,k.PY)(["login"]),signin(a){a.preventDefault(),""===this.auth.email||""===this.auth.senha?this.$swal.fire({title:"Alerta",icon:"warning",text:"Preencha Todos os campos"}):p.FH.post("/utilizadores/login",this.auth).then((a=>{console.log(a.data),a.data.token?(localStorage.setItem("usuario",JSON.stringify(a.data)),localStorage.setItem("user",JSON.stringify(a.data.data)),this.login({user:a.data.data,token:a.data.token}),this.$router.push("/dashboard")):this.$swal.fire({title:"Erro: Credenciais inválidas",icon:"warning"})})).catch((a=>{console.log(a)}))},checkLicence(){p.FH.get("/license/read/").then((a=>{console.log(a.data)})).catch((a=>{"Licença não encontrada"===a.response.data.message&&this.$router.push("/licence")}))}}},b=t(1241);const L=(0,b.A)(v,[["render",f]]);var w=L},7303:function(a,e,t){a.exports=t.p+"img/castro.e2f36cae.jpeg"}}]);
//# sourceMappingURL=775.343a9cde.js.map