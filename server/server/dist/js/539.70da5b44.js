"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[539],{8239:function(t,a,e){e.r(a),e.d(a,{default:function(){return xt}});var l=e(6768),s=e(4232),o=e(5130);const n={class:"page-wrapper"},c={class:"main-container"},r={class:"content-wrapper-scroll"},i={class:"content-wrapper"},d={class:"row"},u={class:"col-12"},b={class:"card"},m={class:"card-body"},k={class:"row"},h={class:"col-md-3"},L=(0,l.Lk)("label",{class:"mb-1"},"Selecione o ano",-1),f=(0,l.Lk)("br",null,null,-1),p=["value"],v={class:"col-md-6 px-0 d-flex"},g=(0,l.Lk)("label",{class:"mb-1 text-white"},".",-1),_=(0,l.Lk)("br",null,null,-1),F=(0,l.Lk)("span",{class:"fas fa-search mx-1 fs-5"},null,-1),w=(0,l.Lk)("label",{class:"mb-1 text-white"},".",-1),x=(0,l.Lk)("br",null,null,-1),y=(0,l.Lk)("span",{class:"fas fa-plus mx-1 fs-5"},null,-1),C=(0,l.Lk)("label",{class:"mb-1 text-white"},".",-1),E=(0,l.Lk)("br",null,null,-1),A=(0,l.Lk)("span",{class:"fas fa-pencil mx-1 fs-5"},null,-1),$=(0,l.Lk)("label",{class:"mb-1 text-white"},".",-1),R=(0,l.Lk)("br",null,null,-1),I=(0,l.Lk)("span",{class:"fas fa-trash mx-1 fs-5"},null,-1),T=(0,l.Lk)("thead",{class:"bg-dark"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"NOME"),(0,l.Lk)("th",null,"IDENTIFICAÇÃO"),(0,l.Lk)("th",null,"DURAÇÃO"),(0,l.Lk)("th",null,"INÍCIO"),(0,l.Lk)("th",null,"TÉRMINO"),(0,l.Lk)("th",null,"ESTADO")])],-1),D={class:"modal fade",id:"editForm"},H={class:"modal-dialog rounded-0"},N={class:"modal-content rounded-0"},O={class:"modal-header"},S={class:"modal-body"},U={class:"row"},V={class:"col-md-12 mb-3"},W=(0,l.Lk)("label",null,"Funcionário",-1),X=(0,l.Lk)("br",null,null,-1),J=["value"],q={class:"col-md-12 mb-3"},K=(0,l.Lk)("label",null,"Duração",-1),M=(0,l.Lk)("br",null,null,-1),P={class:"col-md-12 mb-3"},j=(0,l.Lk)("label",null,"Início",-1),z=(0,l.Lk)("br",null,null,-1),B={class:"col-md-12 mb-3"},G=(0,l.Lk)("label",null,"Término",-1),Q=(0,l.Lk)("br",null,null,-1),Y={class:"col-md-4 mb-3"},Z=(0,l.Lk)("label",null,"Estado",-1),tt=(0,l.Lk)("br",null,null,-1),at={class:"modal-footer border-0 pt-0"},et=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),lt={class:"modal fade",id:"removeForm"},st={class:"modal-dialog rounded-0"},ot={class:"modal-content rounded-0"},nt={class:"modal-header"},ct={class:"modal-body"},rt={class:"row"},it={class:"modal-footer border-0 pt-0"},dt=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function ut(t,a,e,ut,bt,mt){const kt=(0,l.g2)("Sidebar"),ht=(0,l.g2)("Navbar"),Lt=(0,l.g2)("router-link"),ft=(0,l.g2)("DataTable"),pt=(0,l.g2)("Footer");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(kt),(0,l.Lk)("div",c,[(0,l.bF)(ht,{page:"Recursos Humanos / Folhas de Remuneração"}),(0,l.Lk)("div",r,[(0,l.Lk)("div",i,[(0,l.Lk)("div",d,[(0,l.Lk)("div",u,[(0,l.Lk)("div",b,[(0,l.Lk)("div",m,[(0,l.Lk)("div",k,[(0,l.Lk)("div",h,[L,f,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[0]||(a[0]=t=>bt.filter_data.ano_id=t)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(bt.anos,(t=>((0,l.uX)(),(0,l.CE)("option",{key:t.id,value:t.id},(0,s.v_)(t.nome),9,p)))),128))],512),[[o.u1,bt.filter_data.ano_id]])]),(0,l.Lk)("div",v,[(0,l.Lk)("div",null,[g,_,(0,l.Lk)("button",{onClick:a[1]||(a[1]=(...t)=>mt.getContracts&&mt.getContracts(...t)),class:"btn btn-info btn-sm fw-bold d-flex align-items-center border-0 text-uppercase"},[F,(0,l.eW)(" Pesquisar ")])]),(0,l.Lk)("div",null,[w,x,(0,l.bF)(Lt,{to:{name:"salario_docentes_add",query:bt.filter_data},class:"btn btn-primary btn-sm fw-bold d-flex align-items-center mx-2 border-0 text-uppercase"},{default:(0,l.k6)((()=>[y,(0,l.eW)(" Adicionar ")])),_:1},8,["to"])]),(0,l.Lk)("div",null,[C,E,(0,l.Lk)("button",{onClick:a[2]||(a[2]=(...t)=>mt.selectRow&&mt.selectRow(...t)),"data-bs-toggle":"modal","data-bs-target":"#editForm",class:"btn btn-info btn-dark btn-sm mx-1 fw-bold d-flex align-items-center border-0 text-uppercase"},[A,(0,l.eW)(" Editar ")])]),(0,l.Lk)("div",null,[$,R,(0,l.Lk)("button",{onClick:a[3]||(a[3]=(...t)=>mt.selectRow&&mt.selectRow(...t)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm mx-1 fw-bold d-flex align-items-center border-0 text-uppercase"},[I,(0,l.eW)(" Excluir ")])])])]),(0,l.bF)(ft,{data:bt.contratos,columns:bt.columns,options:{select:!0,language:bt.language},ref:"table",class:"display table table-bordered table-striped"},{default:(0,l.k6)((()=>[T])),_:1},8,["data","columns","options"])])])])]),(0,l.Lk)("div",D,[(0,l.Lk)("div",H,[(0,l.Lk)("div",N,[(0,l.Lk)("div",O,[(0,l.Lk)("h4",null,(0,s.v_)(bt.title),1)]),(0,l.Lk)("div",S,[(0,l.Lk)("div",U,[(0,l.Lk)("div",V,[W,X,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=t=>bt.contract_teacher.funcionario_id=t)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(bt.funcionarios,(t=>((0,l.uX)(),(0,l.CE)("option",{key:t.id,value:t.id},(0,s.v_)(t.nome),9,J)))),128))],512),[[o.u1,bt.contract_teacher.funcionario_id]])]),(0,l.Lk)("div",q,[K,M,(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=t=>bt.contract_teacher.duracao=t)},null,512),[[o.Jo,bt.contract_teacher.duracao]])]),(0,l.Lk)("div",P,[j,z,(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=t=>bt.contract_teacher.inicio=t)},null,512),[[o.Jo,bt.contract_teacher.inicio]])]),(0,l.Lk)("div",B,[G,Q,(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=t=>bt.contract_teacher.termino=t)},null,512),[[o.Jo,bt.contract_teacher.termino]])]),(0,l.Lk)("div",Y,[Z,tt,(0,l.bo)((0,l.Lk)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":a[8]||(a[8]=t=>bt.contract_teacher.status=t)},null,512),[[o.lH,bt.contract_teacher.status]])])])]),(0,l.Lk)("div",at,[et,(0,l.Lk)("button",{onClick:a[9]||(a[9]=(...t)=>mt.submitForm&&mt.submitForm(...t)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",lt,[(0,l.Lk)("div",st,[(0,l.Lk)("div",ot,[(0,l.Lk)("div",nt,[(0,l.Lk)("h4",null,(0,s.v_)(bt.title),1)]),(0,l.Lk)("div",ct,[(0,l.Lk)("div",rt,[(0,l.Lk)("p",null,[(0,l.eW)(" Deseja excluir "),(0,l.Lk)("b",null,(0,s.v_)(bt.contract_teacher.nome),1),(0,l.eW)(" definitivamente da base de dados? ")])])]),(0,l.Lk)("div",it,[dt,(0,l.Lk)("button",{onClick:a[10]||(a[10]=(...t)=>mt.deleteForm&&mt.deleteForm(...t)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,l.bF)(pt)])])])}var bt=e(6587),mt=e.n(bt),kt=e(2833),ht=e(5424),Lt=e(608),ft=e(9715),pt=e(903),vt=e(9995),gt=e(3786);pt.A.use(vt.A),pt.A.use(gt.A);var _t={name:"contract_employer_view",components:{Sidebar:kt.A,Navbar:ht.A,Footer:Lt.A,DataTable:pt.A},data(){return{title:"Previsão de Féria",dataTable:null,selectedRow:null,contratos:[],funcionarios:[],anos:[],meses:ft.OO,contract_teacher:{id:null,funcionario_id:"",duracao:"",inicio:"",termino:"",status:!0},columns:[{data:"id"},{data:null,render:t=>`${t.Funcionario.nome}`},{data:null,render:t=>`${t.Funcionario.identificacao}`},{data:"duracao"},{data:"inicio"},{data:"termino"},{data:"status",render:t=>t?'<span class="fas fa-check-circle text-success"></span> Em Férias':'<span class="fas fa-check-circle text-danger"></span> Terminado'}],filter_data:{ano_id:"",mes:""},language:ft.BH}},mounted(){this.getAnos()},methods:{getAnos(){ft.FH.get("/anos/").then((t=>{this.anos=t.data})).catch((t=>{console.log(t)}))},getContracts(){const{ano_id:t}=this.filter_data;ft.FH.get(`/ferias/ano/${t}`).then((t=>{this.contratos=t.data})).catch((t=>{console.log(t)}))},submitForm(){const t={...this.contract_teacher,...this.filter_data,user_id:this.$store.state.user.id};this.contract_teacher.id>0?ft.FH.put(`/ferias/${this.contract_teacher.id}`,t).then((t=>{t.data.message?(this.$swal.fire({title:"Sucesso",text:t.data.message,icon:"success"}),this.getContracts(),mt()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível atualizar",icon:"error"})})).catch((t=>{console.log(t)})):ft.FH.post("/ferias/",t).then((t=>{t.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:t.data.message,icon:"success"}),this.contract_teacher={},this.getContracts(),mt()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível cadastrar",icon:"error"})})).catch((t=>{console.log(t),mt()(".btn-secondary").click(),this.clearForm(),this.$swal.fire({title:"Erro",text:t.response.data,icon:"error"})}))},deleteForm(){ft.FH.delete(`/ferias/${this.contract_teacher.id}`).then((t=>{t.data.message&&(this.$swal.fire({title:"Sucesso",text:t.data.message,icon:"success"}),this.getContracts(),mt()(".btn-secondary").click())})).catch((t=>{console.log(t),this.$swal.fire({title:"Erro",text:t.response.data,icon:"error"})}))},selectRow(){const t=this.$refs.table.dt,a=this;t.rows({selected:!0}).every((function(){const t=this.data();a.contract_teacher=t}))},clearForm(){this.contract_teacher={}}},watch:{dataTable:{handler(){this.selectedRow=null},deep:!0}}},Ft=e(1241);const wt=(0,Ft.A)(_t,[["render",ut]]);var xt=wt}}]);
//# sourceMappingURL=539.70da5b44.js.map