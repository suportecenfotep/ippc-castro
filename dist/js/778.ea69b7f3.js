"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[778],{2521:function(e,l,o){o.r(l),o.d(l,{default:function(){return We}});var t=o(6768),a=o(4232),s=o(5130);const n={class:"page-wrapper"},d={class:"main-container"},r={class:"content-wrapper-scroll"},c={class:"content-wrapper"},u={class:"row"},i={class:"col-12"},m={class:"card"},b={class:"d-flex p-3"},k=(0,t.Lk)("span",{class:"fas fa-plus mx-1 fs-5"},null,-1),p=(0,t.Lk)("span",{class:"fas fa-pencil mx-1 fs-5"},null,-1),L=(0,t.Lk)("span",{class:"fas fa-trash mx-1 fs-5"},null,-1),h={class:"card-body"},_={class:"row mb-2"},v={class:"col-md-3"},f=(0,t.Lk)("label",null,"Selecione o Ano",-1),g=(0,t.Lk)("br",null,null,-1),E=["value"],F={class:"col-md-3"},w=(0,t.Lk)("label",null,"Selecione o Curso",-1),x=(0,t.Lk)("br",null,null,-1),y=["value"],C={class:"col-md-3"},$=(0,t.Lk)("label",null,"Selecione a Classe",-1),z=(0,t.Lk)("br",null,null,-1),X=["value"],A={class:"col-md-3"},H=(0,t.Lk)("label",null,"Selecione a Natureza",-1),T=(0,t.Lk)("br",null,null,-1),P=["value"],U={class:"col-md-3 d-flex pt-0"},S=(0,t.Lk)("label",{class:"text-white"},".",-1),V=(0,t.Lk)("br",null,null,-1),N=(0,t.Lk)("span",{style:{"font-size":"22px"},class:"fas fa-search mx-1"},null,-1),D=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",{class:"bg-secondary"},[(0,t.Lk)("th",null,"NOME"),(0,t.Lk)("th",null,"PREÇO"),(0,t.Lk)("th",null,"ESTADO")])],-1),R={class:"modal fade",id:"addForm"},I={class:"modal-dialog rounded-0"},K={class:"modal-content rounded-0"},W={class:"modal-header"},O={class:"modal-body"},j={class:"row"},q={class:"col-md-12 mb-3"},J=(0,t.Lk)("label",null,"Emolumento",-1),Q=(0,t.Lk)("br",null,null,-1),B=["value"],M={class:"col-md-12 mb-3"},Z=(0,t.Lk)("label",null,"Preço",-1),G=(0,t.Lk)("br",null,null,-1),Y={class:"col-md-12 mb-3"},ee=(0,t.Lk)("label",null,"Estado",-1),le=(0,t.Lk)("br",null,null,-1),oe={class:"modal-footer border-0 pt-0"},te=(0,t.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),ae={class:"modal fade",id:"editForm"},se={class:"modal-dialog rounded-0"},ne={class:"modal-content rounded-0"},de={class:"modal-header"},re={class:"modal-body"},ce={class:"row"},ue={class:"col-md-12 mb-3"},ie=(0,t.Lk)("label",null,"Emolumento",-1),me=(0,t.Lk)("br",null,null,-1),be=["value"],ke={class:"col-md-12 mb-3"},pe=(0,t.Lk)("label",null,"Preço",-1),Le=(0,t.Lk)("br",null,null,-1),he={class:"col-md-12 mb-3"},_e=(0,t.Lk)("label",null,"Estado",-1),ve=(0,t.Lk)("br",null,null,-1),fe={class:"modal-footer border-0 pt-0"},ge=(0,t.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),Ee={class:"modal fade",id:"removeForm"},Fe={class:"modal-dialog rounded-0"},we={class:"modal-content rounded-0"},xe={class:"modal-header"},ye={class:"modal-body"},Ce={class:"row"},$e={class:"modal-footer border-0 pt-0"},ze=(0,t.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function Xe(e,l,o,Xe,Ae,He){const Te=(0,t.g2)("Sidebar"),Pe=(0,t.g2)("Navbar"),Ue=(0,t.g2)("DataTable"),Se=(0,t.g2)("Footer");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.bF)(Te),(0,t.Lk)("div",d,[(0,t.bF)(Pe,{page:"Tesouraria / Emolumento Preço"}),(0,t.Lk)("div",r,[(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[(0,t.Lk)("div",i,[(0,t.Lk)("div",m,[(0,t.Lk)("div",b,[(0,t.Lk)("button",{onClick:l[0]||(l[0]=(...e)=>He.clearForm&&He.clearForm(...e)),"data-bs-toggle":"modal","data-bs-target":"#addForm",class:"btn btn-primary btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[k,(0,t.eW)(" Adicionar ")]),Ae.emolumento_preco.length>0?((0,t.uX)(),(0,t.CE)("button",{key:0,onClick:l[1]||(l[1]=(...e)=>He.selectRow&&He.selectRow(...e)),"data-bs-toggle":"modal","data-bs-target":"#editForm",class:"btn btn-info btn-dark btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[p,(0,t.eW)(" Editar ")])):(0,t.Q3)("",!0),Ae.emolumento_preco.length>0?((0,t.uX)(),(0,t.CE)("button",{key:1,onClick:l[2]||(l[2]=(...e)=>He.selectRow&&He.selectRow(...e)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[L,(0,t.eW)(" Excluir ")])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",h,[(0,t.Lk)("div",_,[(0,t.Lk)("div",v,[f,g,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":l[3]||(l[3]=e=>Ae.filter_data.ano_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ae.anos,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.nome),9,E)))),128))],512),[[s.u1,Ae.filter_data.ano_id]])]),(0,t.Lk)("div",F,[w,x,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":l[4]||(l[4]=e=>Ae.filter_data.curso_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ae.cursos,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.nome),9,y)))),128))],512),[[s.u1,Ae.filter_data.curso_id]])]),(0,t.Lk)("div",C,[$,z,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":l[5]||(l[5]=e=>Ae.filter_data.classe_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ae.classes,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.nome),9,X)))),128))],512),[[s.u1,Ae.filter_data.classe_id]])]),(0,t.Lk)("div",A,[H,T,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":l[6]||(l[6]=e=>Ae.filter_data.emolumento_natureza_id=e),onChange:l[7]||(l[7]=(...e)=>He.getEmolumentos&&He.getEmolumentos(...e))},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ae.naturezas,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.nome),9,P)))),128))],544),[[s.u1,Ae.filter_data.emolumento_natureza_id]])]),(0,t.Lk)("div",U,[(0,t.Lk)("div",null,[S,V,(0,t.Lk)("button",{onClick:l[8]||(l[8]=(...e)=>He.getEmolumentosPreco&&He.getEmolumentosPreco(...e)),class:"btn btn-info btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[N,(0,t.eW)(" Pesquisar ")])])])]),(0,t.bF)(Ue,{ref:"table",data:Ae.emolumentos_preco,columns:Ae.columns,options:{select:!0,language:Ae.language},class:"display table table-striped table-bordered"},{default:(0,t.k6)((()=>[D])),_:1},8,["data","columns","options"])])])])]),(0,t.Lk)("div",R,[(0,t.Lk)("div",I,[(0,t.Lk)("div",K,[(0,t.Lk)("div",W,[(0,t.Lk)("h4",null,(0,a.v_)(Ae.title),1)]),(0,t.Lk)("div",O,[(0,t.Lk)("div",j,[(0,t.Lk)("div",q,[J,Q,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":l[9]||(l[9]=e=>Ae.emolumento_preco.emolumento_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ae.emolumentos,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.nome),9,B)))),128))],512),[[s.u1,Ae.emolumento_preco.emolumento_id]])]),(0,t.Lk)("div",M,[Z,G,(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":l[10]||(l[10]=e=>Ae.emolumento_preco.preco=e)},null,512),[[s.Jo,Ae.emolumento_preco.preco]])]),(0,t.Lk)("div",Y,[ee,le,(0,t.bo)((0,t.Lk)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":l[11]||(l[11]=e=>Ae.emolumento_preco.status=e)},null,512),[[s.lH,Ae.emolumento_preco.status]])])])]),(0,t.Lk)("div",oe,[te,(0,t.Lk)("button",{onClick:l[12]||(l[12]=(...e)=>He.submitForm&&He.submitForm(...e)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,t.Lk)("div",ae,[(0,t.Lk)("div",se,[(0,t.Lk)("div",ne,[(0,t.Lk)("div",de,[(0,t.Lk)("h4",null,(0,a.v_)(Ae.title),1)]),(0,t.Lk)("div",re,[(0,t.Lk)("div",ce,[(0,t.Lk)("div",ue,[ie,me,(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":l[13]||(l[13]=e=>Ae.emolumento_preco.emolumento_id=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ae.emolumentos,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.nome),9,be)))),128))],512),[[s.u1,Ae.emolumento_preco.emolumento_id]])]),(0,t.Lk)("div",ke,[pe,Le,(0,t.bo)((0,t.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":l[14]||(l[14]=e=>Ae.emolumento_preco.preco=e)},null,512),[[s.Jo,Ae.emolumento_preco.preco]])]),(0,t.Lk)("div",he,[_e,ve,(0,t.bo)((0,t.Lk)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":l[15]||(l[15]=e=>Ae.emolumento_preco.status=e)},null,512),[[s.lH,Ae.emolumento_preco.status]])])])]),(0,t.Lk)("div",fe,[ge,(0,t.Lk)("button",{onClick:l[16]||(l[16]=(...e)=>He.submitForm&&He.submitForm(...e)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,t.Lk)("div",Ee,[(0,t.Lk)("div",Fe,[(0,t.Lk)("div",we,[(0,t.Lk)("div",xe,[(0,t.Lk)("h4",null,(0,a.v_)(Ae.title),1)]),(0,t.Lk)("div",ye,[(0,t.Lk)("div",Ce,[(0,t.Lk)("p",null,[(0,t.eW)(" Deseja excluir "),(0,t.Lk)("b",null,(0,a.v_)(Ae.emolumento_preco.nome),1),(0,t.eW)(" definitivamente da base de dados? ")])])]),(0,t.Lk)("div",$e,[ze,(0,t.Lk)("button",{onClick:l[17]||(l[17]=(...e)=>He.deleteForm&&He.deleteForm(...e)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,t.bF)(Se)])])])}var Ae=o(6587),He=o.n(Ae),Te=o(7532),Pe=o(3213),Ue=o(3936),Se=o(9715),Ve=o(903),Ne=o(9995),De=o(3786);Ve.A.use(Ne.A),Ve.A.use(De.A);var Re={name:"emolumento_preco_view",components:{Sidebar:Te.A,Navbar:Pe.A,Footer:Ue.A,DataTable:Ve.A},data(){return{title:"Emolumento Preço",dataTable:null,selectedRow:null,emolumentos_preco:[],candidatos:[],anos:[],cursos:[],naturezas:[],emolumentos:[],classes:[],emolumento_preco:{id:null,emolumento_id:"",status:!0},filter_data:{ano_id:"",curso_id:"",emolumento_natureza_id:"",classe_id:""},columns:[{data:null,render:e=>`${e.Emolumento.nome}`},{data:"preco",render:e=>`${(0,Se.jq)(e,2,",",".")}`},{data:"status",render:e=>e?'<span class="fas fa-check-circle text-success"></span> Disponível':'<span class="fas fa-check-circle text-danger"></span> Indisponível'}],language:Se.BH}},mounted(){this.getAnos(),this.getCursos(),this.getClasses(),this.getNaturezas()},beforeUnmount(){this.dataTable&&this.dataTable.destroy()},methods:{numberFormat:Se.jq,gerarLista(){const{ano_id:e,curso_id:l,periodo_id:o,classe_id:t,sala_id:a}=this.filter_data;Se.FH.get(`/lista-estudantes-emolumentos_preco/ano/${e}/curso/${l}/periodo/${o}/classe/${t}/sala/${a}`).then((e=>{e.data.url&&window.open(Se.OZ+"/mediafiles/"+e.data.url,"_blank")})).catch((e=>{console.log(e)}))},getNaturezas(){Se.FH.get("/emolumento-natureza/").then((e=>{this.naturezas=e.data})).catch((e=>{console.log(e)}))},getEmolumentosPreco(){const{ano_id:e,curso_id:l,classe_id:o,emolumento_natureza_id:t}=this.filter_data;Se.FH.get(`/emolumento-preco/ano/${e}/curso/${l}/classe/${o}/natureza/${t}/`).then((e=>{this.emolumentos_preco=e.data})).catch((e=>{console.log(e)}))},getEmolumentos(){const{emolumento_natureza_id:e}=this.filter_data;Se.FH.get(`/emolumentos/natureza/${e}`).then((e=>{this.emolumentos=e.data})).catch((e=>{console.log(e)}))},getAnos(){Se.FH.get("/anos/status/1/").then((e=>{this.anos=e.data})).catch((e=>{console.log(e)}))},getCursos(){Se.FH.get("/cursos/").then((e=>{this.cursos=e.data})).catch((e=>{console.log(e)}))},getClasses(){Se.FH.get("/classes/").then((e=>{this.classes=e.data})).catch((e=>{console.log(e)}))},initDataTable(){this.$nextTick((()=>{this.dataTable=He()("#myDataTable").DataTable({})}))},submitForm(){const e={...this.emolumento_preco,...this.filter_data};this.emolumento_preco.id>0?Se.FH.put(`/emolumento-preco/${this.emolumento_preco.id}`,e).then((e=>{e.data.message?(this.$swal.fire({title:"Sucesso",text:e.data.message,icon:"success"}),this.getEmolumentosPreco(),He()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível atualizar",icon:"error"})})).catch((e=>{this.$swal.fire({title:"Erro",icon:"error",text:e.response.data.message})})):Se.FH.post("/emolumento-preco/",e).then((e=>{e.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:e.data.message,icon:"success"}),this.getEmolumentosPreco(),He()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível cadastrar",icon:"error"})})).catch((e=>{this.$swal.fire({title:"Erro",icon:"error",text:e.response.data.message})}))},deleteForm(){Se.FH.delete(`/emolumento-preco/${this.emolumento_preco.id}`).then((e=>{e.data.message?(this.$swal.fire({title:"Sucesso",text:e.data.message,icon:"success"}),this.getEmolumentosPreco(),He()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((e=>{console.log(e)}))},selectRow(){const e=this.$refs.table.dt,l=this;e.rows({selected:!0}).every((function(){const e=this.data();l.emolumento_preco=e}))},clearForm(){this.emolumento_preco={}}},watch:{dataTable:{handler(){this.selectedRow=null},deep:!0}}},Ie=o(1241);const Ke=(0,Ie.A)(Re,[["render",Xe]]);var We=Ke}}]);
//# sourceMappingURL=778.ea69b7f3.js.map