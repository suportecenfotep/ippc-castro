"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[203],{7127:function(t,a,e){e.r(a),e.d(a,{default:function(){return Rt}});var o=e(6768),l=e(4232),s=e(5130);const n={class:"page-wrapper"},c={class:"main-container"},r={class:"content-wrapper-scroll"},d={class:"content-wrapper"},i={class:"row"},u={class:"col-12"},m={class:"card"},b={class:"d-flex p-3"},k=(0,o.Lk)("span",{class:"fas fa-plus mx-1 fs-5"},null,-1),p=(0,o.Lk)("span",{class:"fas fa-pencil mx-1 fs-5"},null,-1),h=(0,o.Lk)("span",{class:"fas fa-trash mx-1 fs-5"},null,-1),L={class:"card-body"},v={class:"row"},f={class:"col-md-3"},_=(0,o.Lk)("label",{class:"mb-1"},"Selecione o ano",-1),g=(0,o.Lk)("br",null,null,-1),F=["value"],w={class:"col-md-3"},y=(0,o.Lk)("label",{class:"mb-1 text-white"},".",-1),C=(0,o.Lk)("br",null,null,-1),x=(0,o.Lk)("span",{class:"fas fa-search"},null,-1),E=(0,o.Lk)("thead",{class:"bg-dark"},[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"ID"),(0,o.Lk)("th",null,"NOME"),(0,o.Lk)("th",null,"IDENTIFICAÇÃO"),(0,o.Lk)("th",null,"V/TEMPO"),(0,o.Lk)("th",{class:"col-md-1"},"T/SEMANA"),(0,o.Lk)("th",null,"S.BASE"),(0,o.Lk)("th",null,"ESTADO")])],-1),A={class:"modal fade",id:"addForm"},$={class:"modal-dialog rounded-0"},T={class:"modal-content rounded-0"},V={class:"modal-header"},H={class:"modal-body"},S={class:"row"},U={class:"col-md-12 mb-3"},D=(0,o.Lk)("label",null,"Funcionário",-1),I=(0,o.Lk)("br",null,null,-1),R=["value"],N={class:"col-md-12 mb-3"},X=(0,o.Lk)("label",null,"V/Tempo",-1),W=(0,o.Lk)("br",null,null,-1),J={class:"col-md-12 mb-3"},O=(0,o.Lk)("label",null,"Total Tempos",-1),j=(0,o.Lk)("br",null,null,-1),q={class:"col-md-4 mb-3"},z=(0,o.Lk)("label",null,"Estado",-1),K=(0,o.Lk)("br",null,null,-1),M={class:"modal-footer border-0 pt-0"},P=(0,o.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),B={class:"modal fade",id:"editForm"},G={class:"modal-dialog rounded-0"},Q={class:"modal-content rounded-0"},Y={class:"modal-header"},Z={class:"modal-body"},tt={class:"row"},at={class:"col-md-12 mb-3"},et=(0,o.Lk)("label",null,"Funcionário",-1),ot=(0,o.Lk)("br",null,null,-1),lt=["value"],st={class:"col-md-12 mb-3"},nt=(0,o.Lk)("label",null,"V/Tempo",-1),ct=(0,o.Lk)("br",null,null,-1),rt={class:"col-md-12 mb-3"},dt=(0,o.Lk)("label",null,"Total Tempos",-1),it=(0,o.Lk)("br",null,null,-1),ut={class:"col-md-4 mb-3"},mt=(0,o.Lk)("label",null,"Estado",-1),bt=(0,o.Lk)("br",null,null,-1),kt={class:"modal-footer border-0 pt-0"},pt=(0,o.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),ht={class:"modal fade",id:"removeForm"},Lt={class:"modal-dialog rounded-0"},vt={class:"modal-content rounded-0"},ft={class:"modal-header"},_t={class:"modal-body"},gt={class:"row"},Ft={class:"modal-footer border-0 pt-0"},wt=(0,o.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function yt(t,a,e,yt,Ct,xt){const Et=(0,o.g2)("Sidebar"),At=(0,o.g2)("Navbar"),$t=(0,o.g2)("DataTable"),Tt=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(Et),(0,o.Lk)("div",c,[(0,o.bF)(At,{page:"Recursos Humanos / Contrato Professores"}),(0,o.Lk)("div",r,[(0,o.Lk)("div",d,[(0,o.Lk)("div",i,[(0,o.Lk)("div",u,[(0,o.Lk)("div",m,[(0,o.Lk)("div",b,[(0,o.Lk)("button",{onClick:a[0]||(a[0]=(...t)=>xt.clearForm&&xt.clearForm(...t)),"data-bs-toggle":"modal","data-bs-target":"#addForm",class:"btn btn-primary btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[k,(0,o.eW)(" Adicionar ")]),(0,o.Lk)("button",{onClick:a[1]||(a[1]=(...t)=>xt.selectRow&&xt.selectRow(...t)),"data-bs-toggle":"modal","data-bs-target":"#editForm",class:"btn btn-info btn-dark btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[p,(0,o.eW)(" Editar ")]),(0,o.Lk)("button",{onClick:a[2]||(a[2]=(...t)=>xt.selectRow&&xt.selectRow(...t)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[h,(0,o.eW)(" Excluir ")])]),(0,o.Lk)("div",L,[(0,o.Lk)("div",v,[(0,o.Lk)("div",f,[_,g,(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":a[3]||(a[3]=t=>Ct.filter_data.ano_id=t)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ct.anos,(t=>((0,o.uX)(),(0,o.CE)("option",{key:t.id,value:t.id},(0,l.v_)(t.nome),9,F)))),128))],512),[[s.u1,Ct.filter_data.ano_id]])]),(0,o.Lk)("div",w,[y,C,(0,o.Lk)("button",{onClick:a[4]||(a[4]=(...t)=>xt.getContracts&&xt.getContracts(...t)),class:"btn btn-info fw-bold text-uppercase"},[x,(0,o.eW)(" Pesquisar ")])])]),(0,o.bF)($t,{data:Ct.contratos,columns:Ct.columns,options:{select:!0,language:Ct.language},ref:"table",class:"display table table-bordered table-striped"},{default:(0,o.k6)((()=>[E])),_:1},8,["data","columns","options"])])])])]),(0,o.Lk)("div",A,[(0,o.Lk)("div",$,[(0,o.Lk)("div",T,[(0,o.Lk)("div",V,[(0,o.Lk)("h4",null,(0,l.v_)(Ct.title),1)]),(0,o.Lk)("div",H,[(0,o.Lk)("div",S,[(0,o.Lk)("div",U,[D,I,(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=t=>Ct.contract_teacher.funcionario_id=t)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ct.funcionarios,(t=>((0,o.uX)(),(0,o.CE)("option",{key:t.id,value:t.id},(0,l.v_)(t.nome),9,R)))),128))],512),[[s.u1,Ct.contract_teacher.funcionario_id]])]),(0,o.Lk)("div",N,[X,W,(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=t=>Ct.contract_teacher.valor_tempo=t)},null,512),[[s.Jo,Ct.contract_teacher.valor_tempo]])]),(0,o.Lk)("div",J,[O,j,(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=t=>Ct.contract_teacher.total_tempos=t)},null,512),[[s.Jo,Ct.contract_teacher.total_tempos]])]),(0,o.Lk)("div",q,[z,K,(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":a[8]||(a[8]=t=>Ct.contract_teacher.status=t)},null,512),[[s.lH,Ct.contract_teacher.status]])])])]),(0,o.Lk)("div",M,[P,(0,o.Lk)("button",{onClick:a[9]||(a[9]=(...t)=>xt.submitForm&&xt.submitForm(...t)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,o.Lk)("div",B,[(0,o.Lk)("div",G,[(0,o.Lk)("div",Q,[(0,o.Lk)("div",Y,[(0,o.Lk)("h4",null,(0,l.v_)(Ct.title),1)]),(0,o.Lk)("div",Z,[(0,o.Lk)("div",tt,[(0,o.Lk)("div",at,[et,ot,(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=t=>Ct.contract_teacher.funcionario_id=t)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ct.funcionarios,(t=>((0,o.uX)(),(0,o.CE)("option",{key:t.id,value:t.id},(0,l.v_)(t.nome),9,lt)))),128))],512),[[s.u1,Ct.contract_teacher.funcionario_id]])]),(0,o.Lk)("div",st,[nt,ct,(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=t=>Ct.contract_teacher.valor_tempo=t)},null,512),[[s.Jo,Ct.contract_teacher.valor_tempo]])]),(0,o.Lk)("div",rt,[dt,it,(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=t=>Ct.contract_teacher.total_tempos=t)},null,512),[[s.Jo,Ct.contract_teacher.total_tempos]])]),(0,o.Lk)("div",ut,[mt,bt,(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":a[13]||(a[13]=t=>Ct.contract_teacher.status=t)},null,512),[[s.lH,Ct.contract_teacher.status]])])])]),(0,o.Lk)("div",kt,[pt,(0,o.Lk)("button",{onClick:a[14]||(a[14]=(...t)=>xt.submitForm&&xt.submitForm(...t)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,o.Lk)("div",ht,[(0,o.Lk)("div",Lt,[(0,o.Lk)("div",vt,[(0,o.Lk)("div",ft,[(0,o.Lk)("h4",null,(0,l.v_)(Ct.title),1)]),(0,o.Lk)("div",_t,[(0,o.Lk)("div",gt,[(0,o.Lk)("p",null,[(0,o.eW)(" Deseja excluir "),(0,o.Lk)("b",null,(0,l.v_)(Ct.contract_teacher.nome),1),(0,o.eW)(" definitivamente da base de dados? ")])])]),(0,o.Lk)("div",Ft,[wt,(0,o.Lk)("button",{onClick:a[15]||(a[15]=(...t)=>xt.deleteForm&&xt.deleteForm(...t)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,o.bF)(Tt)])])])}var Ct=e(6587),xt=e.n(Ct),Et=e(2833),At=e(5424),$t=e(608),Tt=e(9715),Vt=e(903),Ht=e(9995),St=e(3786);Vt.A.use(Ht.A),Vt.A.use(St.A);var Ut={name:"contract_employer_view",components:{Sidebar:Et.A,Navbar:At.A,Footer:$t.A,DataTable:Vt.A},data(){return{title:"Contrato Docentes",dataTable:null,selectedRow:null,contratos:[],funcionarios:[],generos:[],estadosCivis:[],anos:[],contract_teacher:{id:null,funcionario_id:"",valor_tempo:"",total_tempos:"",status:!0},columns:[{data:"id"},{data:null,render:t=>`${t.Funcionario.nome}`},{data:null,render:t=>`${t.Funcionario.identificacao}`},{data:null,render:t=>`${(0,Tt.jq)(t.valor_tempo,2,",",".")}kz`},{data:"total_tempos"},{data:null,render:t=>`${(0,Tt.jq)(t.total_tempos*t.valor_tempo,2,",",".")}kz`},{data:"status",render:t=>t?'<span class="fas fa-check-circle text-success"></span> Ativo':'<span class="fas fa-check-circle text-danger"></span> Inativo'}],filter_data:{ano_id:""},language:Tt.BH}},mounted(){this.getEmployers(),this.getAnos()},methods:{getAnos(){Tt.FH.get("/anos/").then((t=>{this.anos=t.data})).catch((t=>{console.log(t)}))},getEmployers(){Tt.FH.get("/funcionarios/grupo/Docente").then((t=>{this.funcionarios=t.data})).catch((t=>{console.log(t)}))},getContracts(){const{ano_id:t}=this.filter_data;Tt.FH.get(`/contrato-docentes/ano/${t}`).then((t=>{this.contratos=t.data})).catch((t=>{console.log(t)}))},submitForm(){const t={...this.contract_teacher,...this.filter_data,user_id:this.$store.state.user.id};this.contract_teacher.id>0?Tt.FH.put(`/contrato-docentes/${this.contract_teacher.id}`,t).then((t=>{t.data.message?(this.$swal.fire({title:"Sucesso",text:t.data.message,icon:"success"}),this.getContracts(),xt()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível atualizar",icon:"error"})})).catch((t=>{console.log(t)})):Tt.FH.post("/contrato-docentes/",t).then((t=>{t.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:t.data.message,icon:"success"}),this.contract_teacher={},this.getContracts(),xt()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível cadastrar",icon:"error"})})).catch((t=>{console.log(t),xt()(".btn-secondary").click(),this.clearForm(),this.$swal.fire({title:"Erro",text:t.response.data,icon:"error"})}))},deleteForm(){Tt.FH.delete(`/contrato-docentes/${this.contract_teacher.id}`).then((t=>{t.data.message&&(this.$swal.fire({title:"Sucesso",text:t.data.message,icon:"success"}),this.getContracts(),xt()(".btn-secondary").click())})).catch((t=>{console.log(t),this.$swal.fire({title:"Erro",text:t.response.data,icon:"error"})}))},selectRow(){const t=this.$refs.table.dt,a=this;t.rows({selected:!0}).every((function(){const t=this.data();a.contract_teacher=t}))},clearForm(){this.contract_teacher={}}},watch:{dataTable:{handler(){this.selectedRow=null},deep:!0}}},Dt=e(1241);const It=(0,Dt.A)(Ut,[["render",yt]]);var Rt=It}}]);
//# sourceMappingURL=203.6ecd929a.js.map