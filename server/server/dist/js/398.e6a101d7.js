"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[398],{608:function(e,t,a){a.d(t,{A:function(){return u}});var s=a(6768);const l={class:"app-footer"},i=(0,s.Lk)("span",null,"© Slice 2024",-1),o=[i];function n(e,t,a,i,n,r){return(0,s.uX)(),(0,s.CE)("div",l,o)}var r={name:"Footer_Comp"},d=a(1241);const c=(0,d.A)(r,[["render",n]]);var u=c},5424:function(e,t,a){a.d(t,{A:function(){return y}});var s=a(6768),l=a(4232),i=a(7303);const o={class:"page-header"},n=(0,s.Lk)("div",{class:"toggle-sidebar",id:"toggle-sidebar"},[(0,s.Lk)("i",{class:"bi bi-list"})],-1),r=(0,s.Lk)("img",{src:i,class:"logo-sm",alt:"Bootstrap Gallery"},null,-1),d={class:"breadcrumb d-lg-flex d-none"},c={class:"breadcrumb-item"},u=(0,s.Lk)("i",{class:"bi bi-house fs-5"},null,-1),m={class:"breadcrumb-item breadcrumb-active","aria-current":"page"},h={class:"header-actions-container"},g=(0,s.Fv)('<div class="search-container d-lg-block d-none"><div class="input-group"><input type="text" class="form-control" id="searchAny" placeholder="Pesquisar"><button class="btn" type="button"><i class="bi bi-search"></i></button></div></div>',1),p={class:"header-actions"},_={class:"dropdown"},b={id:"userSettings",class:"user-settings","data-toggle":"dropdown","aria-haspopup":"true"},k={class:"user-name d-none d-md-block"},L={class:"avatar"},v=["src"],f=(0,s.Lk)("span",{class:"status online"},null,-1),C={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userSettings"},E={class:"header-profile-actions"},x=(0,s.Lk)("span",{class:"fas fa-user",style:{"margin-right":"10px"}},null,-1),F=(0,s.Lk)("span",{class:"fas fa-cog",style:{"margin-right":"10px"}},null,-1),w=(0,s.Lk)("span",{class:"fas fa-sign-out-alt",style:{"margin-right":"10px"}},null,-1);function S(e,t,a,i,S,A){const I=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",o,[n,(0,s.bF)(I,{to:"/dashboard",class:"d-lg-none d-md-block"},{default:(0,s.k6)((()=>[r])),_:1}),(0,s.Lk)("ol",d,[(0,s.Lk)("li",c,[u,(0,s.bF)(I,{to:"/dashboard"},{default:(0,s.k6)((()=>[(0,s.eW)("Slice")])),_:1})]),(0,s.Lk)("li",m,(0,l.v_)(a.page),1)]),(0,s.Lk)("div",h,[g,(0,s.Lk)("ul",p,[(0,s.Lk)("li",_,[(0,s.Lk)("a",b,[(0,s.Lk)("span",k,(0,l.v_)(e.user.nome),1),(0,s.Lk)("span",L,[(0,s.Lk)("img",{src:S.url+"/api/mediafiles/"+e.user.foto,alt:"Admin Templates"},null,8,v),f])]),(0,s.Lk)("div",C,[(0,s.Lk)("div",E,[(0,s.bF)(I,{class:"d-flex align-items-center",to:"/admin/autenticacao/profile"},{default:(0,s.k6)((()=>[x,(0,s.eW)(" Meu Perfil")])),_:1}),(0,s.bF)(I,{class:"d-flex align-items-center",to:"/admin/configuracao"},{default:(0,s.k6)((()=>[F,(0,s.eW)(" Configuração")])),_:1}),(0,s.bF)(I,{class:"d-flex align-items-center",to:"/admin/autenticacao/logout"},{default:(0,s.k6)((()=>[w,(0,s.eW)(" Terminar Sessão")])),_:1})])])])])])])}var A=a(9715),I=a(782),$={name:"Navbar_Comp",props:{page:String},data(){return{userData:{},url:""}},created(){this.url=A.OZ},computed:{...(0,I.aH)(["user"])}},T=a(1241);const R=(0,T.A)($,[["render",S]]);var y=R},2833:function(e,t,a){a.d(t,{A:function(){return x}});var s=a(6768),l=a(5130),i=a(4232),o=a(7303);const n={class:"sidebar-wrapper"},r={class:"sidebar-brand"},d=(0,s.Lk)("img",{src:o,alt:"IPPC"},null,-1),c={class:"sidebar-menu"},u={class:"sidebarMenuScroll",style:{"overflow-y":"auto"}},m={class:"nav-link"},h=(0,s.Lk)("i",{class:"fas fa-home"},null,-1),g={class:"menu-text"},p={class:"sidebar-submenu"};function _(e,t,a,o,_,b){const k=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",n,[(0,s.Lk)("div",r,[(0,s.bF)(k,{to:"/dashboard",class:"logo"},{default:(0,s.k6)((()=>[d])),_:1})]),(0,s.Lk)("div",c,[(0,s.Lk)("div",u,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",m,[(0,s.bF)(k,{to:"/dashboard"},{default:(0,s.k6)((()=>[h,(0,s.eW)(" PÁGINA INICIAL ")])),_:1})]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(_.items,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id,class:"sidebar-dropdown"},[(0,s.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,l.D$)((e=>b.toggleSubMenu(e)),["prevent"]))},[(0,s.Lk)("i",{class:(0,i.C4)(e.icon)},null,2),(0,s.Lk)("span",g,(0,i.v_)(e.label),1)]),(0,s.Lk)("div",p,[(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.subItems,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id},[(0,s.bF)(k,{to:e.path},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(e.label),1)])),_:2},1032,["to"])])))),128))])])])))),128))])])])])}const b={id:1,label:"AUTENTICAÇÃO",icon:"fas fa-users",subItems:[{id:1,path:"/admin/autenticacao/users",label:"Utilizadores"}]},k={id:1,label:"TESOURARIA",icon:"fas fa-cash-register",subItems:[{id:1,path:"/admin/finances/emolumento-preco",label:"Emolumentos"},{id:2,path:"/admin/finances/pagamentos",label:"Pagamentos"},{id:3,path:"/admin/finances/despesas",label:"Depesas"},{id:4,path:"/admin/finances/fluxo-de-caixa",label:"Fluxo de Caixa"},{id:5,path:"/admin/finances/devedores",label:"Dívidas"}]},L={id:1,label:"SECRETARIA",icon:"fas fa-user-graduate",subItems:[{id:1,path:"/admin/secretaria/estudante",label:"Estudantes"},{id:3,path:"/admin/secretaria/matricular-estudante",label:"Matricular Estudante"},{id:4,path:"/admin/academico/matriculas",label:"Listas Matriculados"}]};var v=a(782),f={name:"sidebar_comp",data(){return{items:[]}},methods:{toggleSubMenu(e){e.currentTarget.parentElement.classList.toggle("active"),e.currentTarget.nextElementSibling.classList.toggle("active")}},computed:{...(0,v.aH)(["user"])},mounted(){"Administrador"===this.$store.state.user.nivel&&(this.items=[L,k,b]),"IT"===this.$store.state.user.nivel?this.items=[L,k,b]:"Secretaria"===this.$store.state.user.nivel?this.items=[L]:"Tesouraria"===this.$store.state.user.nivel&&(this.items=[k])}},C=a(1241);const E=(0,C.A)(f,[["render",_]]);var x=E},5510:function(e,t,a){a.r(t),a.d(t,{default:function(){return Le}});var s=a(6768),l=a(4232),i=a(5130),o=a.p+"img/avatar.423f019b.svg";const n={class:"page-wrapper"},r={class:"main-container"},d={class:"content-wrapper-scroll"},c={class:"content-wrapper"},u={class:"row"},m={class:"col-12"},h={class:"card"},g={class:"row p-2"},p={class:"col-md-3"},_={class:"col-md-3"},b=(0,s.Lk)("span",{class:"fas fa-search"},null,-1),k={key:0,class:"col-12 mt-0"},L={class:"card"},v={class:"row p-2"},f=(0,s.Lk)("div",{class:"col-md-2 pt-1"},[(0,s.Lk)("img",{src:o,class:"w-100"})],-1),C={class:"col-md-4"},E=(0,s.Lk)("h4",null,"Dados Pessoais",-1),x={class:"m-1"},F={class:"m-1"},w={class:"m-1"},S={class:"m-1"},A={class:"col-md-4"},I=(0,s.Lk)("h4",null,"Informações de Contacto",-1),$={class:"m-1"},T={class:"m-1"},R={class:"m-1"},y={class:"m-1"},N={key:1,class:"col-12"},X={class:"card p-2"},D=(0,s.Lk)("div",{class:"card-header p-0"},[(0,s.Lk)("h4",{class:"card-title text-uppercase fw-bold"},"Matricular Estudante")],-1),M={class:"row"},O={class:"col-md-3"},P=(0,s.Lk)("label",null,"Ano",-1),U=(0,s.Lk)("br",null,null,-1),W=["value"],H={class:"col-md-2"},z=(0,s.Lk)("label",null,"Curso",-1),V=(0,s.Lk)("br",null,null,-1),Y=["value"],B={class:"col-md-2"},K=(0,s.Lk)("label",null,"Período",-1),G=(0,s.Lk)("br",null,null,-1),j=["value"],J={class:"col-md-3"},Q=(0,s.Lk)("label",null,"Classe",-1),q=(0,s.Lk)("br",null,null,-1),Z=["value"],ee={class:"col-md-2"},te=(0,s.Lk)("label",null,"Turma",-1),ae=(0,s.Lk)("br",null,null,-1),se=["value"],le={class:"col-md-4 pt-2"},ie=(0,s.Lk)("span",{class:"fas fa-database"},null,-1);function oe(e,t,a,o,oe,ne){const re=(0,s.g2)("Sidebar"),de=(0,s.g2)("Navbar"),ce=(0,s.g2)("v-select"),ue=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(re),(0,s.Lk)("div",r,[(0,s.bF)(de,{page:"Secretaria / Matricular Estudante"}),(0,s.Lk)("div",d,[(0,s.Lk)("div",c,[(0,s.Lk)("div",u,[(0,s.Lk)("div",m,[(0,s.Lk)("div",h,[(0,s.Lk)("div",g,[(0,s.Lk)("div",p,[(0,s.bF)(ce,{options:oe.estudantes,reduce:e=>e.id,label:"nome",modelValue:oe.filter_data.estudante_id,"onUpdate:modelValue":t[0]||(t[0]=e=>oe.filter_data.estudante_id=e)},null,8,["options","reduce","modelValue"])]),(0,s.Lk)("div",_,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>ne.getStudent&&ne.getStudent(...e)),class:"btn btn-info fw-bold"},[b,(0,s.eW)(" BUSCAR ")])])])])]),oe.showStudent?((0,s.uX)(),(0,s.CE)("div",k,[(0,s.Lk)("div",L,[(0,s.Lk)("div",v,[f,(0,s.Lk)("div",C,[E,(0,s.Lk)("p",x,[(0,s.eW)("Nome: "),(0,s.Lk)("b",null,(0,l.v_)(oe.estudante.nome),1)]),(0,s.Lk)("p",F,[(0,s.eW)("Identificação: "),(0,s.Lk)("b",null,(0,l.v_)(oe.estudante.identificacao),1)]),(0,s.Lk)("p",w,[(0,s.eW)("Gênero: "),(0,s.Lk)("b",null,(0,l.v_)(oe.estudante.genero),1)]),(0,s.Lk)("p",S,[(0,s.eW)("Estado Civil: "),(0,s.Lk)("b",null,(0,l.v_)(oe.estudante.estado_civil),1)])]),(0,s.Lk)("div",A,[I,(0,s.Lk)("p",$,[(0,s.eW)("Telefone: "),(0,s.Lk)("b",null,(0,l.v_)(oe.estudante.telefone),1)]),(0,s.Lk)("p",T,[(0,s.eW)("Encarregado: "),(0,s.Lk)("b",null,(0,l.v_)(oe.estudante.encarregado),1)]),(0,s.Lk)("p",R,[(0,s.eW)("Contacto: "),(0,s.Lk)("b",null,(0,l.v_)(oe.estudante.contacto_encarregado),1)]),(0,s.Lk)("p",y,[(0,s.eW)("Residência: "),(0,s.Lk)("b",null,(0,l.v_)(oe.estudante.residencia),1)])])])])])):(0,s.Q3)("",!0),oe.showRegistration?((0,s.uX)(),(0,s.CE)("div",N,[(0,s.Lk)("div",X,[D,(0,s.Lk)("div",M,[(0,s.Lk)("div",O,[P,U,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>oe.registration.ano_id=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(oe.anos,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,W)))),128))],512),[[i.u1,oe.registration.ano_id]])]),(0,s.Lk)("div",H,[z,V,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>oe.registration.curso_id=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(oe.cursos,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,Y)))),128))],512),[[i.u1,oe.registration.curso_id]])]),(0,s.Lk)("div",B,[K,G,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>oe.registration.periodo_id=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(oe.periodos,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,j)))),128))],512),[[i.u1,oe.registration.periodo_id]])]),(0,s.Lk)("div",J,[Q,q,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>oe.registration.classe_id=e),onChange:t[6]||(t[6]=(...e)=>ne.getSalas&&ne.getSalas(...e))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(oe.classes,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,Z)))),128))],544),[[i.u1,oe.registration.classe_id]])]),(0,s.Lk)("div",ee,[te,ae,(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>oe.registration.sala_id=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(oe.salas,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.nome),9,se)))),128))],512),[[i.u1,oe.registration.sala_id]])]),(0,s.Lk)("div",le,[(0,s.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>ne.submitForm&&ne.submitForm(...e)),class:"btn btn-primary fw-bold"},[ie,(0,s.eW)(" ENVIAR ")])])])])])):(0,s.Q3)("",!0)])]),(0,s.bF)(ue)])])])}var ne=a(6587),re=a.n(ne),de=a(2833),ce=a(5424),ue=a(608),me=a(9715),he=a(1749),ge=(a(5839),a(9148)),pe=a.n(ge),_e={name:"matricula_view",components:{Sidebar:de.A,Navbar:ce.A,Footer:ue.A},data(){return{title:"Matricula",dataTable:null,selectedRow:null,showStudent:!1,showRegistration:!1,filter_data:{estudante_id:""},estudante:{},matricula:{},registration:{ano_id:null,curso_id:null,sala_id:null,estudante_id:null,periodo_id:null,classe_id:null,estado:"Estudando"},anos:[],cursos:[],periodos:[],estudantes:[],salas:[],classes:[]}},mounted(){this.getAnos(),this.getCursos(),this.getPeriodos(),this.getClasses(),this.getEstudantes()},methods:{getAnos(){me.FH.get("/anos/status/1/").then((e=>{this.anos=e.data})).catch((e=>{console.log(e)}))},getCursos(){me.FH.get("/cursos/").then((e=>{this.cursos=e.data})).catch((e=>{console.log(e)}))},getSalas(){const{periodo_id:e,curso_id:t,classe_id:a}=this.registration;me.FH.get(`/salas/curso/${t}/classe/${a}/periodo/${e}`).then((e=>{this.salas=e.data})).catch((e=>{console.log(e)}))},getClasses(){me.FH.get("/classes/").then((e=>{this.classes=e.data})).catch((e=>{console.log(e)}))},getPeriodos(){me.FH.get("/periodos/").then((e=>{this.periodos=e.data})).catch((e=>{console.log(e)}))},getStudent(){me.FH.get(`/estudantes/${this.filter_data.estudante_id}`).then((e=>{null!=e.data?(this.estudante=e.data,this.registration.estudante_id=e.data.id,this.showStudent=!0,this.showRegistration=!0):(this.$swal.fire({title:"Notificação",icon:"warning",text:"Nenhum Estudante Encontrado"}),this.showStudent=!1,this.showRegistration=!1)})).catch((e=>{console.log(e)}))},generatePDF(e){const t=this;me.FH.get("/matricula/"+e.id).then((e=>{console.log(e.data),t.matricula=e.data;const a=new he["default"];a.addImage("http://192.168.1.127:9000/api/mediafiles/castro.jpeg","JPEG",10,15,35,35),a.setFontSize(13),a.text("Operador",170,15),a.setFontSize(12),a.text("INSTITUTO POLITÉCNICO PRIVADO CASTRO",50,18),a.text('"A Luz do Saber"',50,24),a.text("NIF: 50002047",50,32),a.text("Contactos: +244 939 237 968",50,38),a.text("Endereço: Huambo, estrada nacional 260, bairro da Bomba Baixa",50,46),a.text("Email: ippc23@gmail.com",50,54),a.setFontSize(16),a.text(`BOLETIM DE MATRÍCULA Nº ${this.matricula.id} / ${(new Date).getFullYear()}`,14,64),a.setFontSize(12),a.text(`Ano Lectivo: ${this.matricula.AnoLectivo.nome}`,14,72),a.text(`Estudante: ${this.matricula.Estudante.nome}`,14,80),a.text(`Curso: ${this.matricula.Curso.nome}`,14,88),a.text(`Turma: ${this.matricula.Sala.nome}`,14,96),a.text(`Classe: ${this.matricula.Classe.nome}`,14,104),a.text(`O Funcionário: ${this.matricula.User.nome}`,14,112),a.text(`Data: ${pe()(this.matricula.createdAt).format("DD-MM-YYYY")}`,14,120),a.text("_______________________________________________________________________________",14,128),a.addImage("http://192.168.1.127:9000/api/mediafiles/castro.jpeg","JPEG",10,144,35,35),a.setFontSize(13),a.text("Estudante",170,146),a.setFontSize(12),a.text("INSTITUTO POLITÉCNICO PRIVADO CASTRO",50,144),a.text('"A Luz do Saber"',50,152),a.text("NIF: 50002047",50,160),a.text("Contactos: +244 939 237 968",50,168),a.text("Endereço: Huambo, estrada nacional 260, bairro da Bomba Baixa",50,176),a.text("Email: ippc23@gmail.com",50,184),a.setFontSize(16),a.text(`BOLETIM DE MATRÍCULA Nº ${this.matricula.id} / ${(new Date).getFullYear()}`,14,192),a.setFontSize(12),a.text(`Ano Lectivo: ${this.matricula.AnoLectivo.nome}`,14,200),a.text(`Estudante: ${this.matricula.Estudante.nome}`,14,208),a.text(`Curso: ${this.matricula.Curso.nome}`,14,216),a.text(`Turma: ${this.matricula.Sala.nome}`,14,224),a.text(`Classe: ${this.matricula.Classe.nome}`,14,232),a.text(`O Funcionário: ${this.matricula.User.nome}`,14,240),a.text(`Data: ${pe()(this.matricula.createdAt).format("DD-MM-YYYY")}`,14,248),a.text(`Número do Estudante: ${this.matricula.Estudante.numero}`,14,256),a.output("dataurlnewwindow")})).catch((e=>{console.log(e)}))},submitForm(){const e={...this.registration,user_id:this.$store.state.user.id};me.FH.post("/matricula/",e).then((e=>{e.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:e.data.message,icon:"success"}).then((()=>{this.generatePDF(e.data.data)})),this.registration={estado:"Estudando"},this.showStudent=!1,this.showRegistration=!1):this.$swal.fire({title:"Erro",text:"Não foi possível cadastrar",icon:"error"})})).catch((e=>{console.log(e),this.$swal.fire({title:"Erro",icon:"error",text:e.response.data.message}).then((()=>{this.registration={estado:"Estudando"},this.estudante={},this.showStudent=!1,this.showRegistration=!1}))}))},deleteForm(){me.FH.delete(`/estudantes/${this.candidate.id}`).then((e=>{e.data.message?(this.$swal.fire({title:e.data.message,icon:"success"}),re()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((e=>{console.log(e)}))},getEstudantes(){me.FH.get("/estudantes/").then((e=>this.estudantes=e.data)).catch((e=>{console.log(e)}))},selectRow(e){this.selectedRow=e,this.candidate=e,this.getMaritalState()},clearForm(){this.candidate={}}},watch:{dataTable:{handler(){this.selectedRow=null},deep:!0}}},be=a(1241);const ke=(0,be.A)(_e,[["render",oe]]);var Le=ke},7303:function(e,t,a){e.exports=a.p+"img/castro.e2f36cae.jpeg"}}]);
//# sourceMappingURL=398.e6a101d7.js.map