"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[161],{7357:function(a,t,e){e.r(t),e.d(t,{default:function(){return Na}});var l=e(6768),o=e(4232),s=e(5130);const n={class:"page-wrapper"},c={class:"main-container"},r={class:"content-wrapper-scroll"},d={class:"content-wrapper"},i={class:"row"},u={class:"col-12"},b={class:"card"},m={class:"d-flex p-3"},k=(0,l.Lk)("span",{class:"fas fa-plus mx-1 fs-5"},null,-1),h=(0,l.Lk)("span",{class:"fas fa-pencil mx-1 fs-5"},null,-1),L=(0,l.Lk)("span",{class:"fas fa-trash mx-1 fs-5"},null,-1),p={class:"card-body"},f={class:"row"},v={class:"col-md-3"},g=(0,l.Lk)("label",{class:"mb-1"},"Selecione o ano",-1),_=(0,l.Lk)("br",null,null,-1),F=["value"],w={class:"col-md-3"},y=(0,l.Lk)("label",{class:"mb-1 text-white"},".",-1),x=(0,l.Lk)("br",null,null,-1),C=(0,l.Lk)("span",{class:"fas fa-search"},null,-1),E=(0,l.Lk)("thead",{class:"bg-dark"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"NOME"),(0,l.Lk)("th",null,"IDENTIFICAÇÃO"),(0,l.Lk)("th",null,"FUNÇÃO"),(0,l.Lk)("th",null,"S.BASE"),(0,l.Lk)("th",null,"ESTADO")])],-1),A={class:"modal fade",id:"addForm"},$={class:"modal-dialog rounded-0"},S={class:"modal-content rounded-0"},H={class:"modal-header"},U={class:"modal-body"},V={class:"row"},I={class:"col-md-12 mb-3"},R=(0,l.Lk)("label",null,"Funcionário",-1),D=(0,l.Lk)("br",null,null,-1),N=["value"],X={class:"col-md-12 mb-3"},T=(0,l.Lk)("label",null,"Função",-1),W=(0,l.Lk)("br",null,null,-1),B={class:"col-md-12 mb-3"},J=(0,l.Lk)("label",null,"Salario Base",-1),O=(0,l.Lk)("br",null,null,-1),K={class:"col-md-4 mb-3"},j=(0,l.Lk)("label",null,"Estado",-1),q=(0,l.Lk)("br",null,null,-1),z={class:"modal-footer border-0 pt-0"},M=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),P={class:"modal fade",id:"editForm"},G={class:"modal-dialog rounded-0"},Q={class:"modal-content rounded-0"},Y={class:"modal-header"},Z={class:"modal-body"},aa={class:"row"},ta={class:"col-md-12 mb-3"},ea=(0,l.Lk)("label",null,"Funcionário",-1),la=(0,l.Lk)("br",null,null,-1),oa=["value"],sa={class:"col-md-12 mb-3"},na=(0,l.Lk)("label",null,"Função",-1),ca=(0,l.Lk)("br",null,null,-1),ra={class:"col-md-12 mb-3"},da=(0,l.Lk)("label",null,"Salario Base",-1),ia=(0,l.Lk)("br",null,null,-1),ua={class:"col-md-4 mb-3"},ba=(0,l.Lk)("label",null,"Estado",-1),ma=(0,l.Lk)("br",null,null,-1),ka={class:"modal-footer border-0 pt-0"},ha=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1),La={class:"modal fade",id:"removeForm"},pa={class:"modal-dialog rounded-0"},fa={class:"modal-content rounded-0"},va={class:"modal-header"},ga={class:"modal-body"},_a={class:"row"},Fa={class:"modal-footer border-0 pt-0"},wa=(0,l.Lk)("button",{class:"btn btn-secondary rounded-0","data-bs-dismiss":"modal"},"Fechar",-1);function ya(a,t,e,ya,xa,Ca){const Ea=(0,l.g2)("Sidebar"),Aa=(0,l.g2)("Navbar"),$a=(0,l.g2)("DataTable"),Sa=(0,l.g2)("Footer");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(Ea),(0,l.Lk)("div",c,[(0,l.bF)(Aa,{page:"Recursos Humanos / Contratos Administrativos"}),(0,l.Lk)("div",r,[(0,l.Lk)("div",d,[(0,l.Lk)("div",i,[(0,l.Lk)("div",u,[(0,l.Lk)("div",b,[(0,l.Lk)("div",m,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...a)=>Ca.clearForm&&Ca.clearForm(...a)),"data-bs-toggle":"modal","data-bs-target":"#addForm",class:"btn btn-primary btn-sm fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[k,(0,l.eW)(" Adicionar ")]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...a)=>Ca.selectRow&&Ca.selectRow(...a)),"data-bs-toggle":"modal","data-bs-target":"#editForm",class:"btn btn-info btn-dark btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[h,(0,l.eW)(" Editar ")]),(0,l.Lk)("button",{onClick:t[2]||(t[2]=(...a)=>Ca.selectRow&&Ca.selectRow(...a)),"data-bs-toggle":"modal","data-bs-target":"#removeForm",class:"btn btn-danger btn-sm mx-1 fw-bold d-flex align-items-center p-2 rounded-3 border-0 text-uppercase"},[L,(0,l.eW)(" Excluir ")])]),(0,l.Lk)("div",p,[(0,l.Lk)("div",f,[(0,l.Lk)("div",v,[g,_,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=a=>xa.filter_data.ano_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(xa.anos,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,o.v_)(a.nome),9,F)))),128))],512),[[s.u1,xa.filter_data.ano_id]])]),(0,l.Lk)("div",w,[y,x,(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...a)=>Ca.getContracts&&Ca.getContracts(...a)),class:"btn btn-info fw-bold text-uppercase"},[C,(0,l.eW)(" Pesquisar ")])])]),(0,l.bF)($a,{data:xa.contratos,columns:xa.columns,options:{select:!0,language:xa.language},ref:"table",class:"display table table-bordered table-striped"},{default:(0,l.k6)((()=>[E])),_:1},8,["data","columns","options"])])])])]),(0,l.Lk)("div",A,[(0,l.Lk)("div",$,[(0,l.Lk)("div",S,[(0,l.Lk)("div",H,[(0,l.Lk)("h4",null,(0,o.v_)(xa.title),1)]),(0,l.Lk)("div",U,[(0,l.Lk)("div",V,[(0,l.Lk)("div",I,[R,D,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=a=>xa.contract_teacher.funcionario_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(xa.funcionarios,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,o.v_)(a.nome),9,N)))),128))],512),[[s.u1,xa.contract_teacher.funcionario_id]])]),(0,l.Lk)("div",X,[T,W,(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=a=>xa.contract_teacher.funcao=a)},null,512),[[s.Jo,xa.contract_teacher.funcao]])]),(0,l.Lk)("div",B,[J,O,(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=a=>xa.contract_teacher.salario_base=a)},null,512),[[s.Jo,xa.contract_teacher.salario_base]])]),(0,l.Lk)("div",K,[j,q,(0,l.bo)((0,l.Lk)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":t[8]||(t[8]=a=>xa.contract_teacher.status=a)},null,512),[[s.lH,xa.contract_teacher.status]])])])]),(0,l.Lk)("div",z,[M,(0,l.Lk)("button",{onClick:t[9]||(t[9]=(...a)=>Ca.submitForm&&Ca.submitForm(...a)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",P,[(0,l.Lk)("div",G,[(0,l.Lk)("div",Q,[(0,l.Lk)("div",Y,[(0,l.Lk)("h4",null,(0,o.v_)(xa.title),1)]),(0,l.Lk)("div",Z,[(0,l.Lk)("div",aa,[(0,l.Lk)("div",ta,[ea,la,(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=a=>xa.contract_teacher.funcionario_id=a)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(xa.funcionarios,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,o.v_)(a.nome),9,oa)))),128))],512),[[s.u1,xa.contract_teacher.funcionario_id]])]),(0,l.Lk)("div",sa,[na,ca,(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=a=>xa.contract_teacher.funcao=a)},null,512),[[s.Jo,xa.contract_teacher.funcao]])]),(0,l.Lk)("div",ra,[da,ia,(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=a=>xa.contract_teacher.salario_base=a)},null,512),[[s.Jo,xa.contract_teacher.salario_base]])]),(0,l.Lk)("div",ua,[ba,ma,(0,l.bo)((0,l.Lk)("input",{type:"checkbox",class:"form-check","onUpdate:modelValue":t[13]||(t[13]=a=>xa.contract_teacher.status=a)},null,512),[[s.lH,xa.contract_teacher.status]])])])]),(0,l.Lk)("div",ka,[ha,(0,l.Lk)("button",{onClick:t[14]||(t[14]=(...a)=>Ca.submitForm&&Ca.submitForm(...a)),class:"btn btn-primary rounded-0"},"Enviar")])])])]),(0,l.Lk)("div",La,[(0,l.Lk)("div",pa,[(0,l.Lk)("div",fa,[(0,l.Lk)("div",va,[(0,l.Lk)("h4",null,(0,o.v_)(xa.title),1)]),(0,l.Lk)("div",ga,[(0,l.Lk)("div",_a,[(0,l.Lk)("p",null,[(0,l.eW)(" Deseja excluir "),(0,l.Lk)("b",null,(0,o.v_)(xa.contract_teacher.nome),1),(0,l.eW)(" definitivamente da base de dados? ")])])]),(0,l.Lk)("div",Fa,[wa,(0,l.Lk)("button",{onClick:t[15]||(t[15]=(...a)=>Ca.deleteForm&&Ca.deleteForm(...a)),class:"btn btn-primary rounded-0"},"Confirmar")])])])])]),(0,l.bF)(Sa)])])])}var xa=e(6587),Ca=e.n(xa),Ea=e(2833),Aa=e(5424),$a=e(608),Sa=e(9715),Ha=e(903),Ua=e(9995),Va=e(3786);Ha.A.use(Ua.A),Ha.A.use(Va.A);var Ia={name:"contract_employer_view",components:{Sidebar:Ea.A,Navbar:Aa.A,Footer:$a.A,DataTable:Ha.A},data(){return{title:"Contrato Docentes",dataTable:null,selectedRow:null,contratos:[],funcionarios:[],generos:[],estadosCivis:[],anos:[],contract_teacher:{id:null,funcionario_id:"",funcao:"",salario_base:"",status:!0},columns:[{data:"id"},{data:null,render:a=>`${a.Funcionario.nome}`},{data:null,render:a=>`${a.Funcionario.identificacao}`},{data:"funcao"},{data:null,render:a=>`${(0,Sa.jq)(a.salario_base,2,",",".")}kz`},{data:"status",render:a=>a?'<span class="fas fa-check-circle text-success"></span> Ativo':'<span class="fas fa-check-circle text-danger"></span> Inativo'}],filter_data:{ano_id:""},language:Sa.BH}},mounted(){this.getEmployers(),this.getAnos()},methods:{getAnos(){Sa.FH.get("/anos/").then((a=>{this.anos=a.data})).catch((a=>{console.log(a)}))},getEmployers(){Sa.FH.get("/funcionarios/grupo/Administrativo").then((a=>{this.funcionarios=a.data})).catch((a=>{console.log(a)}))},getContracts(){const{ano_id:a}=this.filter_data;Sa.FH.get(`/contrato-administrativos/ano/${a}`).then((a=>{this.contratos=a.data})).catch((a=>{console.log(a)}))},submitForm(){const a={...this.contract_teacher,...this.filter_data,user_id:this.$store.state.user.id};this.contract_teacher.id>0?Sa.FH.put(`/contrato-administrativos/${this.contract_teacher.id}`,a).then((a=>{a.data.message?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.getContracts(),Ca()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível atualizar",icon:"error"})})).catch((a=>{console.log(a)})):Sa.FH.post("/contrato-administrativos/",a).then((a=>{a.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.contract_teacher={},this.getContracts(),Ca()(".btn-secondary").click()):this.$swal.fire({title:"Erro: Não foi possível cadastrar",icon:"error"})})).catch((a=>{console.log(a),Ca()(".btn-secondary").click(),this.clearForm(),this.$swal.fire({title:"Erro",text:a.response.data,icon:"error"})}))},deleteForm(){Sa.FH.delete(`/contrato-administrativos/${this.contract_teacher.id}`).then((a=>{a.data.message&&(this.$swal.fire({title:"Sucesso",text:a.data.message,icon:"success"}),this.getContracts(),Ca()(".btn-secondary").click())})).catch((a=>{console.log(a),this.$swal.fire({title:"Erro",text:a.response.data,icon:"error"})}))},selectRow(){const a=this.$refs.table.dt,t=this;a.rows({selected:!0}).every((function(){const a=this.data();t.contract_teacher=a}))},clearForm(){this.contract_teacher={}}},watch:{dataTable:{handler(){this.selectedRow=null},deep:!0}}},Ra=e(1241);const Da=(0,Ra.A)(Ia,[["render",ya]]);var Na=Da}}]);
//# sourceMappingURL=161.998f3b69.js.map