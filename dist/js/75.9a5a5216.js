(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[75],{6543:function(e){(function(t,s){e.exports=s()})(0,(function(){"use strict";var e=function(){},t=Object.prototype.hasOwnProperty,s=Array.prototype.slice;function a(t,s){var a;return"function"===typeof Object.create?a=Object.create(t):(e.prototype=t,a=new e,e.prototype=null),s&&i(!0,a,s),a}function n(e,t,s,n){var o=this;return"string"!==typeof e&&(n=s,s=t,t=e,e=null),"function"!==typeof t&&(n=s,s=t,t=function(){return o.apply(this,arguments)}),i(!1,t,o,n),t.prototype=a(o.prototype,s),t.prototype.constructor=t,t.class_=e||o.class_,t.super_=o,t}function i(e,a,n){var i,o;n=s.call(arguments,2);for(var r=0,l=n.length;r<l;r++)for(i in o=n[r],o)e&&!t.call(o,i)||(a[i]=o[i])}var o=n;function r(){}r.class_="Nevis",r.super_=Object,r.extend=o;var l=r,c=l,u=c.extend((function(e,t,s){this.qrious=e,this.element=t,this.element.qrious=e,this.enabled=Boolean(s)}),{draw:function(e){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(e){var t=this.qrious,s=t.padding||0,a=Math.floor((t.size-2*s)/e.width);return Math.max(1,a)},getOffset:function(e){var t=this.qrious,s=t.padding;if(null!=s)return s;var a=this.getModuleSize(e),n=Math.floor((t.size-a*e.width)/2);return Math.max(0,n)},render:function(e){this.enabled&&(this.resize(),this.reset(),this.draw(e))},reset:function(){},resize:function(){}}),d=u,h=d.extend({draw:function(e){var t,s,a=this.qrious,n=this.getModuleSize(e),i=this.getOffset(e),o=this.element.getContext("2d");for(o.fillStyle=a.foreground,o.globalAlpha=a.foregroundAlpha,t=0;t<e.width;t++)for(s=0;s<e.width;s++)e.buffer[s*e.width+t]&&o.fillRect(n*t+i,n*s+i,n,n)},reset:function(){var e=this.qrious,t=this.element.getContext("2d"),s=e.size;t.lineWidth=1,t.clearRect(0,0,s,s),t.fillStyle=e.background,t.globalAlpha=e.backgroundAlpha,t.fillRect(0,0,s,s)},resize:function(){var e=this.element;e.width=e.height=this.qrious.size}}),f=h,m=c.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),p=m,g=c.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),v=g,k=c.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),_=k,b=c.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),L=b,w=c.extend((function(e){var t,s,a,n,i,o=e.value.length;this._badness=[],this._level=v.LEVELS[e.level],this._polynomial=[],this._value=e.value,this._version=0,this._stringBuffer=[];while(this._version<40)if(this._version++,a=4*(this._level-1)+16*(this._version-1),n=v.BLOCKS[a++],i=v.BLOCKS[a++],t=v.BLOCKS[a++],s=v.BLOCKS[a],a=t*(n+i)+i-3+(this._version<=9),o<=a)break;this._dataBlock=t,this._eccBlock=s,this._neccBlock1=n,this._neccBlock2=i;var r=this.width=17+4*this._version;this.buffer=w._createArray(r*r),this._ecc=w._createArray(t+(t+s)*(n+i)+i),this._mask=w._createArray((r*(r+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+r*(r-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(o),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()}),{_addAlignment:function(e,t){var s,a=this.buffer,n=this.width;for(a[e+n*t]=1,s=-2;s<2;s++)a[e+s+n*(t-2)]=1,a[e-2+n*(t+s+1)]=1,a[e+2+n*(t+s)]=1,a[e+s+1+n*(t+2)]=1;for(s=0;s<2;s++)this._setMask(e-1,t+s),this._setMask(e+1,t-s),this._setMask(e-s,t-1),this._setMask(e+s,t+1)},_appendData:function(e,t,s,a){var n,i,o,r=this._polynomial,l=this._stringBuffer;for(i=0;i<a;i++)l[s+i]=0;for(i=0;i<t;i++){if(n=_.LOG[l[e+i]^l[s]],255!==n)for(o=1;o<a;o++)l[s+o-1]=l[s+o]^_.EXPONENT[w._modN(n+r[a-o])];else for(o=s;o<s+a;o++)l[o]=l[o+1];l[s+a-1]=255===n?0:_.EXPONENT[w._modN(n+r[0])]}},_appendEccToData:function(){var e,t=0,s=this._dataBlock,a=this._calculateMaxLength(),n=this._eccBlock;for(e=0;e<this._neccBlock1;e++)this._appendData(t,s,a,n),t+=s,a+=n;for(e=0;e<this._neccBlock2;e++)this._appendData(t,s+1,a,n),t+=s+1,a+=n},_applyMask:function(e){var t,s,a,n,i=this.buffer,o=this.width;switch(e){case 0:for(n=0;n<o;n++)for(a=0;a<o;a++)a+n&1||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 1:for(n=0;n<o;n++)for(a=0;a<o;a++)1&n||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 2:for(n=0;n<o;n++)for(t=0,a=0;a<o;a++,t++)3===t&&(t=0),t||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 3:for(s=0,n=0;n<o;n++,s++)for(3===s&&(s=0),t=s,a=0;a<o;a++,t++)3===t&&(t=0),t||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 4:for(n=0;n<o;n++)for(t=0,s=n>>1&1,a=0;a<o;a++,t++)3===t&&(t=0,s=!s),s||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 5:for(s=0,n=0;n<o;n++,s++)for(3===s&&(s=0),t=0,a=0;a<o;a++,t++)3===t&&(t=0),(a&n&1)+!(!t|!s)||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 6:for(s=0,n=0;n<o;n++,s++)for(3===s&&(s=0),t=0,a=0;a<o;a++,t++)3===t&&(t=0),(a&n&1)+(t&&t===s)&1||this._isMasked(a,n)||(i[a+n*o]^=1);break;case 7:for(s=0,n=0;n<o;n++,s++)for(3===s&&(s=0),t=0,a=0;a<o;a++,t++)3===t&&(t=0),(t&&t===s)+(a+n&1)&1||this._isMasked(a,n)||(i[a+n*o]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var e,t,s=this._eccBlock,a=this._polynomial;for(a[0]=1,e=0;e<s;e++){for(a[e+1]=1,t=e;t>0;t--)a[t]=a[t]?a[t-1]^_.EXPONENT[w._modN(_.LOG[a[t]]+e)]:a[t-1];a[0]=_.EXPONENT[w._modN(_.LOG[a[0]]+e)]}for(e=0;e<=s;e++)a[e]=_.LOG[a[e]]},_checkBadness:function(){var e,t,s,a,n,i=0,o=this._badness,r=this.buffer,l=this.width;for(n=0;n<l-1;n++)for(a=0;a<l-1;a++)(r[a+l*n]&&r[a+1+l*n]&&r[a+l*(n+1)]&&r[a+1+l*(n+1)]||!(r[a+l*n]||r[a+1+l*n]||r[a+l*(n+1)]||r[a+1+l*(n+1)]))&&(i+=w.N2);var c=0;for(n=0;n<l;n++){for(s=0,o[0]=0,e=0,a=0;a<l;a++)t=r[a+l*n],e===t?o[s]++:o[++s]=1,e=t,c+=e?1:-1;i+=this._getBadness(s)}c<0&&(c=-c);var u=0,d=c;d+=d<<2,d<<=1;while(d>l*l)d-=l*l,u++;for(i+=u*w.N4,a=0;a<l;a++){for(s=0,o[0]=0,e=0,n=0;n<l;n++)t=r[a+l*n],e===t?o[s]++:o[++s]=1,e=t;i+=this._getBadness(s)}return i},_convertBitStream:function(e){var t,s,a=this._ecc,n=this._version;for(s=0;s<e;s++)a[s]=this._value.charCodeAt(s);var i=this._stringBuffer=a.slice(),o=this._calculateMaxLength();e>=o-2&&(e=o-2,n>9&&e--);var r=e;if(n>9){i[r+2]=0,i[r+3]=0;while(r--)t=i[r],i[r+3]|=255&t<<4,i[r+2]=t>>4;i[2]|=255&e<<4,i[1]=e>>4,i[0]=64|e>>12}else{i[r+1]=0,i[r+2]=0;while(r--)t=i[r],i[r+2]|=255&t<<4,i[r+1]=t>>4;i[1]|=255&e<<4,i[0]=64|e>>4}r=e+3-(n<10);while(r<o)i[r++]=236,i[r++]=17},_getBadness:function(e){var t,s=0,a=this._badness;for(t=0;t<=e;t++)a[t]>=5&&(s+=w.N1+a[t]-5);for(t=3;t<e-1;t+=2)a[t-2]===a[t+2]&&a[t+2]===a[t-1]&&a[t-1]===a[t+1]&&3*a[t-1]===a[t]&&(0===a[t-3]||t+3>e||3*a[t-3]>=4*a[t]||3*a[t+3]>=4*a[t])&&(s+=w.N3);return s},_finish:function(){var e,t;this._stringBuffer=this.buffer.slice();var s=0,a=3e4;for(t=0;t<8;t++){if(this._applyMask(t),e=this._checkBadness(),e<a&&(a=e,s=t),7===s)break;this.buffer=this._stringBuffer.slice()}s!==t&&this._applyMask(s),a=v.FINAL_FORMAT[s+(this._level-1<<3)];var n=this.buffer,i=this.width;for(t=0;t<8;t++,a>>=1)1&a&&(n[i-1-t+8*i]=1,t<6?n[8+i*t]=1:n[8+i*(t+1)]=1);for(t=0;t<7;t++,a>>=1)1&a&&(n[8+i*(i-7+t)]=1,t?n[6-t+8*i]=1:n[7+8*i]=1)},_interleaveBlocks:function(){var e,t,s=this._dataBlock,a=this._ecc,n=this._eccBlock,i=0,o=this._calculateMaxLength(),r=this._neccBlock1,l=this._neccBlock2,c=this._stringBuffer;for(e=0;e<s;e++){for(t=0;t<r;t++)a[i++]=c[e+t*s];for(t=0;t<l;t++)a[i++]=c[r*s+e+t*(s+1)]}for(t=0;t<l;t++)a[i++]=c[r*s+e+t*(s+1)];for(e=0;e<n;e++)for(t=0;t<r+l;t++)a[i++]=c[o+e+t*n];this._stringBuffer=a},_insertAlignments:function(){var e,t,s,a=this._version,n=this.width;if(a>1)for(e=p.BLOCK[a],s=n-7;;){t=n-7;while(t>e-3){if(this._addAlignment(t,s),t<e)break;t-=e}if(s<=e+9)break;s-=e,this._addAlignment(6,s),this._addAlignment(s,6)}},_insertFinders:function(){var e,t,s,a,n=this.buffer,i=this.width;for(e=0;e<3;e++){for(t=0,a=0,1===e&&(t=i-7),2===e&&(a=i-7),n[a+3+i*(t+3)]=1,s=0;s<6;s++)n[a+s+i*t]=1,n[a+i*(t+s+1)]=1,n[a+6+i*(t+s)]=1,n[a+s+1+i*(t+6)]=1;for(s=1;s<5;s++)this._setMask(a+s,t+1),this._setMask(a+1,t+s+1),this._setMask(a+5,t+s),this._setMask(a+s+1,t+5);for(s=2;s<4;s++)n[a+s+i*(t+2)]=1,n[a+2+i*(t+s+1)]=1,n[a+4+i*(t+s)]=1,n[a+s+1+i*(t+4)]=1}},_insertTimingGap:function(){var e,t,s=this.width;for(t=0;t<7;t++)this._setMask(7,t),this._setMask(s-8,t),this._setMask(7,t+s-7);for(e=0;e<8;e++)this._setMask(e,7),this._setMask(e+s-8,7),this._setMask(e,s-8)},_insertTimingRowAndColumn:function(){var e,t=this.buffer,s=this.width;for(e=0;e<s-14;e++)1&e?(this._setMask(8+e,6),this._setMask(6,8+e)):(t[8+e+6*s]=1,t[6+s*(8+e)]=1)},_insertVersion:function(){var e,t,s,a,n=this.buffer,i=this._version,o=this.width;if(i>6)for(e=L.BLOCK[i-7],t=17,s=0;s<6;s++)for(a=0;a<3;a++,t--)1&(t>11?i>>t-12:e>>t)?(n[5-s+o*(2-a+o-11)]=1,n[2-a+o-11+o*(5-s)]=1):(this._setMask(5-s,2-a+o-11),this._setMask(2-a+o-11,5-s))},_isMasked:function(e,t){var s=w._getMaskBit(e,t);return 1===this._mask[s]},_pack:function(){var e,t,s,a=1,n=1,i=this.width,o=i-1,r=i-1,l=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(t=0;t<l;t++)for(e=this._stringBuffer[t],s=0;s<8;s++,e<<=1){128&e&&(this.buffer[o+i*r]=1);do{n?o--:(o++,a?0!==r?r--:(o-=2,a=!a,6===o&&(o--,r=9)):r!==i-1?r++:(o-=2,a=!a,6===o&&(o--,r-=8))),n=!n}while(this._isMasked(o,r))}},_reverseMask:function(){var e,t,s=this.width;for(e=0;e<9;e++)this._setMask(e,8);for(e=0;e<8;e++)this._setMask(e+s-8,8),this._setMask(8,e);for(t=0;t<7;t++)this._setMask(8,t+s-7)},_setMask:function(e,t){var s=w._getMaskBit(e,t);this._mask[s]=1},_syncMask:function(){var e,t,s=this.width;for(t=0;t<s;t++)for(e=0;e<=t;e++)this.buffer[e+s*t]&&this._setMask(e,t)}},{_createArray:function(e){var t,s=[];for(t=0;t<e;t++)s[t]=0;return s},_getMaskBit:function(e,t){var s;return e>t&&(s=e,e=t,t=s),s=t,s+=t*t,s>>=1,s+=e,s},_modN:function(e){while(e>=255)e-=255,e=(e>>8)+(255&e);return e},N1:3,N2:3,N3:40,N4:10}),C=w,E=d.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var e=this.element;e.width=e.height=this.qrious.size}}),x=E,A=c.extend((function(e,t,s,a){this.name=e,this.modifiable=Boolean(t),this.defaultValue=s,this._valueTransformer=a}),{transform:function(e){var t=this._valueTransformer;return"function"===typeof t?t(e,this):e}}),F=A,y=c.extend(null,{abs:function(e){return null!=e?Math.abs(e):null},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},noop:function(){},toUpperCase:function(e){return null!=e?e.toUpperCase():null}}),M=y,S=c.extend((function(e){this.options={},e.forEach((function(e){this.options[e.name]=e}),this)}),{exists:function(e){return null!=this.options[e]},get:function(e,t){return S._get(this.options[e],t)},getAll:function(e){var t,s=this.options,a={};for(t in s)M.hasOwn(s,t)&&(a[t]=S._get(s[t],e));return a},init:function(e,t,s){var a,n;for(a in"function"!==typeof s&&(s=M.noop),this.options)M.hasOwn(this.options,a)&&(n=this.options[a],S._set(n,n.defaultValue,t),S._createAccessor(n,t,s));this._setAll(e,t,!0)},set:function(e,t,s){return this._set(e,t,s)},setAll:function(e,t){return this._setAll(e,t)},_set:function(e,t,s,a){var n=this.options[e];if(!n)throw new Error("Invalid option: "+e);if(!n.modifiable&&!a)throw new Error("Option cannot be modified: "+e);return S._set(n,t,s)},_setAll:function(e,t,s){if(!e)return!1;var a,n=!1;for(a in e)M.hasOwn(e,a)&&this._set(a,e[a],t,s)&&(n=!0);return n}},{_createAccessor:function(e,t,s){var a={get:function(){return S._get(e,t)}};e.modifiable&&(a.set=function(a){S._set(e,a,t)&&s(a,e)}),Object.defineProperty(t,e.name,a)},_get:function(e,t){return t["_"+e.name]},_set:function(e,t,s){var a="_"+e.name,n=s[a],i=e.transform(null!=t?t:e.defaultValue);return s[a]=i,i!==n}}),N=S,O=c.extend((function(){this._services={}}),{getService:function(e){var t=this._services[e];if(!t)throw new Error("Service is not being managed with name: "+e);return t},setService:function(e,t){if(this._services[e])throw new Error("Service is already managed with name: "+e);t&&(this._services[e]=t)}}),B=O,T=new N([new F("background",!0,"white"),new F("backgroundAlpha",!0,1,M.abs),new F("element"),new F("foreground",!0,"black"),new F("foregroundAlpha",!0,1,M.abs),new F("level",!0,"L",M.toUpperCase),new F("mime",!0,"image/png"),new F("padding",!0,null,M.abs),new F("size",!0,100,M.abs),new F("value",!0,"")]),I=new B,P=c.extend((function(e){T.init(e,this,this.update.bind(this));var t=T.get("element",this),s=I.getService("element"),a=t&&s.isCanvas(t)?t:s.createCanvas(),n=t&&s.isImage(t)?t:s.createImage();this._canvasRenderer=new f(this,a,!0),this._imageRenderer=new x(this,n,n===t),this.update()}),{get:function(){return T.getAll(this)},set:function(e){T.setAll(e,this)&&this.update()},toDataURL:function(e){return this.canvas.toDataURL(e||this.mime)},update:function(){var e=new C({level:this.level,value:this.value});this._canvasRenderer.render(e),this._imageRenderer.render(e)}},{use:function(e){I.setService(e.getName(),e)}});Object.defineProperties(P.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var R=P,$=R,z=c.extend({getName:function(){}}),X=z,D=X.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(e){},isImage:function(e){}}),U=D,H=U.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(e){return e instanceof HTMLCanvasElement},isImage:function(e){return e instanceof HTMLImageElement}}),V=H;$.use(new V);var W=$;return W}))},3936:function(e,t,s){"use strict";s.d(t,{A:function(){return u}});var a=s(6768),n=s(4232);const i={class:"app-footer"};function o(e,t,s,o,r,l){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("span",null,"© Núcleo Lógico "+(0,n.v_)((new Date).getFullYear())+" Todos os direitos reservados",1)])}var r={name:"Footer_Comp"},l=s(1241);const c=(0,l.A)(r,[["render",o]]);var u=c},524:function(e,t,s){"use strict";s.d(t,{A:function(){return d}});var a=s(6768);const n={class:"text-center"},i=(0,a.Fv)('<div id="loading-wrapper"><div class="spinner"><div class="line1"></div><div class="line2"></div><div class="line3"></div><div class="line4"></div><div class="line5"></div><div class="line6"></div></div></div>',1),o=[i];function r(e,t,s,i,r,l){return(0,a.uX)(),(0,a.CE)("div",n,o)}var l={name:"loader_view"},c=s(1241);const u=(0,c.A)(l,[["render",r]]);var d=u},3213:function(e,t,s){"use strict";s.d(t,{A:function(){return T}});var a=s(6768),n=s(4232),i=s(584);const o={class:"page-header"},r=(0,a.Lk)("div",{class:"toggle-sidebar",id:"toggle-sidebar"},[(0,a.Lk)("i",{class:"bi bi-list"})],-1),l=(0,a.Lk)("img",{src:i,class:"logo-sm",alt:"Bootstrap Gallery"},null,-1),c={class:"breadcrumb d-lg-flex d-none"},u={class:"breadcrumb-item"},d=(0,a.Lk)("i",{class:"bi bi-house fs-5"},null,-1),h={class:"breadcrumb-item breadcrumb-active","aria-current":"page"},f={class:"header-actions-container"},m=(0,a.Lk)("span",{class:"lead-icon text-dark"},[(0,a.Lk)("i",{class:"bi bi-person-fill text-secondary"})],-1),p={class:"header-actions"},g={class:"dropdown"},v={id:"userSettings",class:"user-settings","data-toggle":"dropdown","aria-haspopup":"true"},k={class:"user-name d-none d-md-block"},_={class:"avatar"},b=["src"],L=(0,a.Lk)("span",{class:"status online"},null,-1),w={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userSettings"},C={class:"header-profile-actions"},E=(0,a.Lk)("span",{class:"fas fa-user",style:{"margin-right":"10px"}},null,-1),x=(0,a.Lk)("span",{class:"fas fa-bell",style:{"margin-right":"10px"}},null,-1),A=(0,a.Lk)("span",{class:"fas fa-cog",style:{"margin-right":"10px"}},null,-1),F=(0,a.Lk)("span",{class:"fas fa-sign-out-alt",style:{"margin-right":"10px"}},null,-1);function y(e,t,s,i,y,M){const S=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",o,[r,(0,a.bF)(S,{to:"/dashboard",class:"d-lg-none d-md-block"},{default:(0,a.k6)((()=>[l])),_:1}),(0,a.Lk)("ol",c,[(0,a.Lk)("li",u,[d,(0,a.bF)(S,{to:"/dashboard"},{default:(0,a.k6)((()=>[(0,a.eW)("Núcleo Lógico")])),_:1})]),(0,a.Lk)("li",h,(0,n.v_)(s.page),1)]),(0,a.Lk)("div",f,[(0,a.bF)(S,{to:"/admin/autenticacao/profile",class:"leads d-none d-xl-flex"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,n.v_)(e.user.nivel),1),m])),_:1}),(0,a.Lk)("ul",p,[(0,a.Lk)("li",g,[(0,a.Lk)("a",v,[(0,a.Lk)("span",k,(0,n.v_)(e.user.nome),1),(0,a.Lk)("span",_,[(0,a.Lk)("img",{src:y.url+"/api/mediafiles/"+e.user.foto,alt:"Admin Templates"},null,8,b),L])]),(0,a.Lk)("div",w,[(0,a.Lk)("div",C,[(0,a.bF)(S,{class:"d-flex align-items-center",to:"/admin/autenticacao/profile"},{default:(0,a.k6)((()=>[E,(0,a.eW)(" Meu Perfil")])),_:1}),"Administrador"===e.user.nivel||"IT"===e.user.nivel?((0,a.uX)(),(0,a.Wv)(S,{key:0,class:"d-flex align-items-center",to:"/admin/auth/security-logs"},{default:(0,a.k6)((()=>[x,(0,a.eW)("Reg. de Atividades")])),_:1})):(0,a.Q3)("",!0),"Administrador"===e.user.nivel||"IT"===e.user.nivel?((0,a.uX)(),(0,a.Wv)(S,{key:1,class:"d-flex align-items-center",to:"/admin/configuracao"},{default:(0,a.k6)((()=>[A,(0,a.eW)(" Configuração")])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(S,{class:"d-flex align-items-center",to:"/admin/autenticacao/logout"},{default:(0,a.k6)((()=>[F,(0,a.eW)(" Terminar Sessão")])),_:1})])])])])])])}var M=s(9715),S=s(782),N={name:"Navbar_Comp",props:{page:String},data(){return{userData:{},url:""}},created(){this.url=M.OZ},computed:{...(0,S.aH)(["user"])}},O=s(1241);const B=(0,O.A)(N,[["render",y]]);var T=B},7532:function(e,t,s){"use strict";s.d(t,{A:function(){return C}});var a=s(6768),n=s(4232),i=s(5130),o=s(584);const r=e=>((0,a.Qi)("data-v-b949fc3c"),e=e(),(0,a.jt)(),e),l={class:"sidebar-brand"},c=r((()=>(0,a.Lk)("img",{src:o,alt:"IPPC"},null,-1))),u={class:"sidebar-menu"},d={class:"sidebarMenuScroll",style:{"overflow-y":"auto"}},h={class:"nav-link"},f=r((()=>(0,a.Lk)("i",{class:"fas fa-home"},null,-1))),m={class:"menu-text"},p={class:"sidebar-submenu"};function g(e,t,s,o,r,g){const v=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",null,[e.sidebarActive?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"sidebar-overlay d-lg-none",onClick:t[0]||(t[0]=(...e)=>g.closeSidebar&&g.closeSidebar(...e))})):(0,a.Q3)("",!0),(0,a.Lk)("nav",{class:(0,n.C4)(["sidebar-wrapper",{"sidebar-active":e.sidebarActive}])},[(0,a.Lk)("div",l,[(0,a.bF)(v,{to:"/dashboard",class:"logo"},{default:(0,a.k6)((()=>[c])),_:1})]),(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",h,[(0,a.bF)(v,{to:"/dashboard"},{default:(0,a.k6)((()=>[f,(0,a.eW)(" PÁGINA INICIAL ")])),_:1})]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(g.filteredItems,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"sidebar-dropdown"},[(0,a.Lk)("a",{href:"#",onClick:t[1]||(t[1]=(0,i.D$)((e=>g.toggleSubMenu(e)),["prevent"]))},[(0,a.Lk)("i",{class:(0,n.C4)(e.icon)},null,2),(0,a.Lk)("span",m,(0,n.v_)(e.label),1)]),(0,a.Lk)("div",p,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.subItems,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},[(0,a.bF)(v,{to:e.path},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.label),1)])),_:2},1032,["to"])])))),128))])])])))),128))])])])],2)])}const v=[{id:1,label:"AUTENTICAÇÃO",icon:"fas fa-users",roles:["Administrador","IT"],subItems:[{id:1,path:"/admin/autenticacao/users",label:"Utilizadores"}]},{id:2,label:"TESOURARIA",icon:"fas fa-cash-register",roles:["Administrador","IT","Tesouraria"],subItems:[{id:0,path:"/admin/finances/emolumento-preco",label:"Emolumentos"},{id:2,path:"/admin/finances/fluxo-de-caixa",label:"Fluxo de Caixa"},{id:3,path:"/admin/finances/despesas",label:"Depesas"},{id:4,path:"/admin/finances/devedores",label:"Devedores"}]},{id:3,label:"GERIR ALUNOS",icon:"fas fa-user-graduate",roles:["Administrador","IT","Secretaria","Tesouraria"],subItems:[{id:1,path:"/admin/estudantes/lista-geral-estudantes",label:"Estudantes"},{id:2,path:"/admin/estudantes/matriculados",label:"Matriculas"}]}];var k=v,_=s(782),b={name:"sidebar_comp",computed:{...(0,_.aH)(["user","sidebarActive"]),filteredItems(){const e=this.user?.nivel;return e?k.filter((t=>t.roles.includes(e))):[]}},methods:{toggleSubMenu(e){const t=e.currentTarget.parentElement,s=e.currentTarget.nextElementSibling;t.classList.toggle("active"),s&&s.classList.toggle("active")},closeSidebar(){this.$store.commit("TOGGLE_SIDEBAR")}}},L=s(1241);const w=(0,L.A)(b,[["render",g],["__scopeId","data-v-b949fc3c"]]);var C=w},9075:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Ae}});var a=s(6768),n=s(4232),i=s(5130);const o={class:"page-wrapper"},r={class:"main-container"},l={class:"content-wrapper-scroll"},c={class:"content-wrapper"},u={class:"row"},d={class:"col-12"},h={class:"card"},f={class:"row p-2"},m={class:"col-md-3"},p=(0,a.Lk)("label",null,"Ano Lectivo",-1),g=(0,a.Lk)("br",null,null,-1),v=["value"],k={class:"col-md-3"},_=(0,a.Lk)("label",{class:"text-white"},".",-1),b=(0,a.Lk)("br",null,null,-1),L=(0,a.Lk)("span",{class:"fas fa-search"},null,-1),w={key:0,class:"col-12 mt-0"},C={class:"card"},E={class:"row p-2"},x={class:"col-md-4"},A=(0,a.Lk)("h4",null,"Dados Pessoais",-1),F={class:"m-1 mw-100 text-truncate"},y={class:"m-1"},M={class:"m-1"},S={class:"m-1"},N={class:"m-1"},O={key:0,class:"col-md-12"},B=(0,a.Lk)("h4",null,"Historico de Pagamentos",-1),T=(0,a.Lk)("span",{class:"fas fa-database"},null,-1),I={class:"table table-striped"},P=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"NÚMERO"),(0,a.Lk)("th",null,"DESCRIÇÃO"),(0,a.Lk)("th",null,"VALOR"),(0,a.Lk)("th",{class:"col-md-5"},"OPÇÕES")])],-1),R=["onClick"],$={class:"align-middle"},z={class:"align-middle fw-bold"},X=["onClick"],D=(0,a.Lk)("span",{class:"fas fa-file-pdf"},null,-1),U=["onClick"],H=(0,a.Lk)("span",{class:"fas fa-trash"},null,-1),V=(0,a.Lk)("span",{class:"fas fa-backward"},null,-1),W={class:"table w-100"},K=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"col-md-2"},"M.PAGAMENTO"),(0,a.Lk)("th",{class:"col-md-2"},"NATUREZA"),(0,a.Lk)("th",{class:"col-md-2"},"EMOLUMENTO"),(0,a.Lk)("th",{class:"col-md-2"},"CURSO"),(0,a.Lk)("th",{class:"col-md-2"},"CLASSE"),(0,a.Lk)("th",{class:"col-md-2"},"PREÇO"),(0,a.Lk)("th",{class:"col-md-2"},"DESCONTO"),(0,a.Lk)("th",{class:"col-md-2"},"MULTA"),(0,a.Lk)("th",{class:"col-md-2"},"REMOVER")])],-1),G=["onUpdate:modelValue"],j=["value"],q=["onUpdate:modelValue","onChange"],Q=["value"],Z=["onUpdate:modelValue"],J=["value"],Y=["onUpdate:modelValue"],ee=["value"],te=["onUpdate:modelValue","onChange"],se=["value"],ae=["onUpdate:modelValue"],ne=["value"],ie=["onUpdate:modelValue"],oe=["onUpdate:modelValue"],re=["onClick"],le=(0,a.Lk)("span",{class:"fas fa-trash"},null,-1),ce=[le],ue={class:"d-flex float-end"},de=(0,a.Lk)("span",{class:"fas fa-plus"},null,-1),he=(0,a.Lk)("button",{type:"submit",class:"btn btn-sm btn-success mx-2 fw-bold text-uppercase"},[(0,a.Lk)("span",{class:"fas fa-database"}),(0,a.eW)(" Enviar ")],-1);function fe(e,t,s,le,fe,me){const pe=(0,a.g2)("Sidebar"),ge=(0,a.g2)("Navbar"),ve=(0,a.g2)("Footer"),ke=(0,a.g2)("Loader");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(pe),(0,a.Lk)("div",r,[(0,a.bF)(ge,{page:"Efectuar Pagamento / "+this.estudante.nome},null,8,["page"]),(0,a.Lk)("div",l,[(0,a.Lk)("div",c,[(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[(0,a.Lk)("div",h,[(0,a.Lk)("div",f,[(0,a.Lk)("div",m,[p,g,(0,a.bo)((0,a.Lk)("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>fe.filter_data.ano_id=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(fe.anos,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.nome),9,v)))),128))],512),[[i.u1,fe.filter_data.ano_id]])]),(0,a.Lk)("div",k,[_,b,(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>me.searchStudent&&me.searchStudent(...e)),class:"btn btn-info fw-bold"},[L,(0,a.eW)(" BUSCAR ")])])])])]),fe.showStudent?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("div",C,[(0,a.Lk)("div",E,[(0,a.Lk)("div",x,[A,(0,a.Lk)("p",F,[(0,a.eW)("Nome: "),(0,a.Lk)("b",null,(0,n.v_)(fe.estudante.nome),1)]),(0,a.Lk)("p",y,[(0,a.eW)("Identificação: "),(0,a.Lk)("b",null,(0,n.v_)(fe.estudante.identificacao),1)]),(0,a.Lk)("p",M,[(0,a.eW)("Curso: "),(0,a.Lk)("b",null,(0,n.v_)(fe.curso),1)]),(0,a.Lk)("p",S,[(0,a.eW)("Classe: "),(0,a.Lk)("b",null,(0,n.v_)(fe.classe),1)]),(0,a.Lk)("p",N,[(0,a.eW)("Turma: "),(0,a.Lk)("b",null,(0,n.v_)(fe.turma),1)])]),fe.showHistory?((0,a.uX)(),(0,a.CE)("div",O,[B,(0,a.Lk)("button",{class:"btn btn-primary fw-bold text-uppercase",onClick:t[2]||(t[2]=e=>{fe.showPaymentForm=!0,fe.showHistory=!1})},[T,(0,a.eW)(" Pagar ")]),(0,a.Lk)("table",I,[P,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(fe.pagamentos,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,onClick:t=>me.selectRow(e),class:(0,n.C4)({selected:e===fe.selectedRow})},[(0,a.Lk)("td",$,(0,n.v_)(e.numero),1),(0,a.Lk)("td",z,(0,n.v_)(e.itensPagos),1),(0,a.Lk)("td",null,(0,n.v_)(me.numberFormat(e.totalPrice,2,",","."))+"Kz",1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{class:"btn btn-primary text-uppercase fw-bold",onClick:t=>me.gerarComprovativo(e.id)},[D,(0,a.eW)(" Comprovativo ")],8,X),(0,a.Lk)("button",{class:"btn btn-danger mx-2 text-uppercase fw-bold",onClick:t=>me.deletePagamento(e.id)},[H,(0,a.eW)(" Anular ")],8,U)])],10,R)))),128))])])])):(0,a.Q3)("",!0),fe.showPaymentForm?((0,a.uX)(),(0,a.CE)("form",{key:1,onSubmit:t[5]||(t[5]=(0,i.D$)(((...e)=>me.sendData&&me.sendData(...e)),["prevent"])),class:"col-md-12"},[(0,a.Lk)("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=e=>{fe.showPaymentForm=!1,fe.showHistory=!0})},[V,(0,a.eW)(" Retroceder ")]),(0,a.Lk)("table",W,[K,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(fe.inputs,((t,s)=>((0,a.uX)(),(0,a.CE)("tr",{key:s},[(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>fe.inputs[s].metodo_pagamento=e},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(fe.metodos_pagamento,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,j)))),128))],8,G),[[i.u1,fe.inputs[s].metodo_pagamento]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>fe.inputs[s].natureza_id=e,onChange:e=>me.getEmolumentos(e.target.value,s)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(fe.naturezas,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.nome),9,Q)))),128))],40,q),[[i.u1,fe.inputs[s].natureza_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>fe.inputs[s].emolumento_id=e},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(fe.emolumentos[s],(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.nome),9,J)))),128))],8,Z),[[i.u1,fe.inputs[s].emolumento_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>fe.inputs[s].curso_id=e},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(fe.cursos,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.nome),9,ee)))),128))],8,Y),[[i.u1,fe.inputs[s].curso_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>fe.inputs[s].classe_id=e,onChange:e=>me.getEmolumentosPreco(s)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.classes,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.nome),9,se)))),128))],40,te),[[i.u1,fe.inputs[s].classe_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>fe.inputs[s].preco_id=e},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(fe.precos[s],(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(me.numberFormat(e.preco,2,",","."))+"Kz",9,ne)))),128))],8,ae),[[i.u1,fe.inputs[s].preco_id]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e=>fe.inputs[s].desconto=e},null,8,ie),[[i.Jo,fe.inputs[s].desconto]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e=>fe.inputs[s].multa=e},null,8,oe),[[i.Jo,fe.inputs[s].multa]])]),(0,a.Lk)("td",null,[(0,a.Lk)("button",{type:"button",onClick:e=>me.removeRow(s),class:"btn btn-danger"},ce,8,re)])])))),128))])]),(0,a.Lk)("div",ue,[(0,a.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>me.addRow&&me.addRow(...e)),class:"btn btn-sm btn-info fw-bold text-uppercase"},[de,(0,a.eW)(" Adicionar ")]),he])],32)):(0,a.Q3)("",!0)])])])):(0,a.Q3)("",!0)])]),(0,a.bF)(ve)]),fe.isLoading?((0,a.uX)(),(0,a.Wv)(ke,{key:0})):(0,a.Q3)("",!0)])])}s(4114);var me=s(7532),pe=s(3213),ge=s(3936),ve=s(524),ke=s(9715),_e=s(1749),be=(s(5839),s(6543)),Le=s.n(be),we=s(782),Ce={name:"pagamento_view",components:{Sidebar:me.A,Navbar:pe.A,Footer:ge.A,Loader:ve.A},data(){return{title:"Pagamentos",selectedRow:null,showStudent:!1,showPaymentForm:!1,showHistory:!1,isLoading:!1,filter_data:{ano_id:"",estudante_id:""},estudante:{},registration:{ano_id:null,curso_id:null,sala_id:null,estudante_id:null,periodo_id:null,classe_id:null,estado:"Estudando"},matricula:{},curso:"",classe:"",turma:"",pagamento:{descricao:""},anos:[],cursos:[],periodos:[],inputs:[],naturezas:[],precos:[],emolumentos:[],estudantes:[],pagamentos:[],metodos_pagamento:["Depósito","TPA","Transferência Bancária","Internet Banking"]}},mounted(){this.getAnos(),this.getCursos(),this.getClasses(),this.getNaturezas(),this.getStudent()},methods:{removeRow(e){this.inputs.splice(e,1)},addRow(){this.inputs.push({metodo_pagamento:"",natureza_id:"",emolumento_id:"",classe_id:"",preco_id:"",desconto:0,multa:0})},getNaturezas(){ke.FH.get("/emolumento-natureza/").then((e=>{this.naturezas=e.data})).catch((e=>{console.log(e)}))},numberFormat:ke.jq,getEmolumentosPreco(e){const{ano_id:t}=this.filter_data;ke.FH.get(`/emolumento-preco/ano/${t}/curso/${this.inputs[e].curso_id}/classe/${this.inputs[e].classe_id}/natureza/${this.inputs[e].natureza_id}/emolumento/${this.inputs[e].emolumento_id}`).then((t=>{this.precos[e]=t.data})).catch((e=>{console.log(e)}))},getEmolumentos(e,t){ke.FH.get(`/emolumentos/natureza/${e}`).then((e=>{this.emolumentos[t]=e.data})).catch((e=>{console.log(e)}))},generateComprovativo(e){window.open(`${ke.OZ}/api/documentos/comprovativo-pagamento/${e}`,"_blank")},gerarComprovativo(e){this.isLoading=!0,ke.FH.get(`/pagamentos/${e}`).then((e=>{if(e.data){this.isLoading=!1;const t=this,s=new _e["default"]({orientation:"landscape",format:"a4"}),a=e.data.ItensPagamentos,n=e.data,i=(e,a,i)=>{s.addImage(`${ke.OZ}/api/mediafiles/castro.jpeg`,"JPEG",e+8,10,20,20),s.setFontSize(8.5),s.setFont(void 0,"bold"),s.text(a,e+132,14),s.setFont(void 0,"normal"),s.setFontSize(7.5),s.text("INSTITUTO POLITÉCNICO PRIVADO CASTRO",e+32,11),s.setFontSize(7),s.text("NIF: 50002047 | Tel: +244 939 237 968",e+32,15),s.text("Huambo, Estrada Nacional 260, Bomba Baixa",e+32,19),s.text("Email: ippc23@gmail.com",e+32,23),s.setFont(void 0,"bold"),s.text("Regime: Regime Simplificado",e+32,27),s.setDrawColor(200),s.line(e+10,32,e+145,32),s.setFont(void 0,"bold"),s.setFontSize(8.5),s.text(`FATURA Nº ${n.numero}`,e+10,40),s.setFontSize(7.5),s.text("DADOS DO ESTUDANTE",e+10,47),s.setFont(void 0,"normal"),s.setFontSize(7),s.text(`Nome: ${t.matricula.Estudante.nome}`,e+10,52),s.text(`Curso: ${t.matricula.Curso.nome} | Turma: ${t.matricula.Sala?.nome||"N/M"} | Classe: ${t.matricula.Classe?.nome||"N/M"}`,e+10,56);const o=65;let r=o;const l=5.5;s.setFillColor(245,245,245),s.rect(e+10,r-4,135,l,"F"),s.rect(e+10,r-4,135,l),s.setFont(void 0,"bold");const c=["Emolumento","Preço","Desc%","Multa%","Subtotal"],u=[e+12,e+70,e+92,e+107,e+122];c.forEach(((e,t)=>s.text(e,u[t],r))),s.setFont(void 0,"normal"),i.slice(0,12).forEach((t=>{r+=l;const a=t.EmolumentoPreco.preco,n=a-a*(t.desconto/100)+a*(t.multa/100);s.rect(e+10,r-4,135,l),s.text(t.Emolumento.nome.substring(0,38),e+12,r),s.text((0,ke.jq)(a.toFixed(2),2,",","."),e+70,r),s.text(t.desconto.toFixed(0)+"%",e+93,r),s.text(t.multa.toFixed(0)+"%",e+108,r),s.text((0,ke.jq)(n.toFixed(2),2,",","."),e+122,r)}));const d=152,h=i.reduce(((e,t)=>{const s=t.EmolumentoPreco.preco;return e+(s-s*(t.desconto/100)+s*(t.multa/100))}),0);s.setFontSize(7),s.text("COORDENADAS BANCÁRIAS: YETU",e+10,d),s.text("Nº CONTA: 183361410001",e+10,d+4),s.setFont(void 0,"bold"),s.setFontSize(8),s.text("Total Geral:",e+95,d+8),s.text(`${(0,ke.jq)(h.toFixed(2),2,",",".")} AOA`,e+115,d+8);const f=20,m=new(Le())({value:`https://www.agt.minfin.gov.ao/|52E9|${n.numero}|${h.toFixed(2)}`,size:100,level:"H"}),p=e+10,g=d+12;s.addImage(m.toDataURL(),"PNG",p,g,f,f);const v=5,k=(f-v)/2;s.addImage(`${ke.OZ}/api/mediafiles/AGT.png`,"PNG",p+k,g+k,v,v),s.setFont(void 0,"normal"),s.setFontSize(6),s.text("52E9-Processado por Programa Certificado nº 330/AGT/2021",e+32,g+18);const _=new Date;s.setFontSize(7);const b=`Huambo, ${_.getDate()}/${_.getMonth()+1}/${_.getFullYear()}`;s.text(b,e+10,d+40),s.text(`Operador: ${this.$store.state.user.nome}`,e+10,d+44),s.setDrawColor(150),s.line(e+10,d+48,e+70,d+48)};i(142,"ORIGINAL",a),i(0,"2ª VIA",a),s.output("dataurlnewwindow")}})).catch((e=>{this.isLoading=!1,console.error(e)}))},getAnos(){ke.FH.get("/anos/status/1/").then((e=>{this.anos=e.data})).catch((e=>{console.log(e)}))},getCursos(){ke.FH.get("/cursos/").then((e=>{this.cursos=e.data})).catch((e=>{console.log(e)}))},getSalas(){ke.FH.get("/salas/categoria/1/").then((e=>{this.salas=e.data})).catch((e=>{console.log(e)}))},getClasses(){ke.FH.get("/classes/").then((e=>{this.classes=e.data})).catch((e=>{console.log(e)}))},getPeriodos(){ke.FH.get("/periodos/").then((e=>{this.periodos=e.data})).catch((e=>{console.log(e)}))},getMatricula(e){ke.FH.get(`/matricula/estudante/${e}/estado/Estudando`).then((e=>{null===e.data?(this.curso="N/Atribuido",this.classe="N/Atribuida"):(this.matricula=e.data,this.curso=e.data.Curso.nome,this.classe=e.data.Classe.nome,this.turma=e.data.Sala.nome)})).catch((e=>{console.log(e)}))},getPagamentos(e){ke.FH.get(`/pagamentos/ano/${this.filter_data.ano_id}/estudante/${e}/`).then((e=>{this.pagamentos=e.data,this.showHistory=!0})).catch((e=>{console.log(e)}))},getStudent(){ke.FH.get(`/estudantes/${this.$route.params.estudante_id}`).then((e=>{null!=e.data?(this.estudante=e.data,this.registration.estudante_id=e.data.id,this.showStudent=!0):(this.$swal.fire({title:"Notificação",icon:"warning",text:"Nenhum Estudante Encontrado"}),this.showStudent=!1,this.showPaymentForm=!1)})).catch((e=>{console.log(e)}))},searchStudent(){this.getMatricula(this.$route.params.estudante_id),this.getPagamentos(this.$route.params.estudante_id)},sendData(e){e.preventDefault();const t={...this.pagamento,ano_id:this.filter_data.ano_id,estudante_id:this.estudante.id,user_id:this.$store.state.user.id,nome:this.$store.state.user.nome,itens:this.inputs};ke.FH.post("/pagamentos/",t).then((e=>{e.data.data.id>0?(this.$swal.fire({title:"Sucesso",text:e.data.message,backdrop:!1,icon:"success"}).then((()=>{this.$swal.fire({title:"Mensagem",icon:"question",text:"Deseja retirar o comprovativo ?",confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&this.gerarComprovativo(e.data.data.id)}))})),this.showPaymentForm=!1,this.pagamento={},this.searchStudent(),this.inputs=[]):this.$swal.fire({title:"Erro",text:"Não foi possível cadastrar",icon:"error"})})).catch((e=>{console.log(e),this.$swal.fire({title:"Erro",icon:"error",text:e.response.data.message}).then((()=>{this.showPaymentForm=!1}))}))},deletePagamento(e){this.$swal.fire({title:"Notificação",icon:"question",text:"Deseja anular este pagamento ?",confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&ke.FH.delete(`/pagamentos/${e}`).then((e=>{e.data.message?(this.$swal.fire({title:e.data.message,icon:"success"}),this.searchStudent()):this.$swal.fire({title:"Erro: Não foi possível excluir",icon:"error"})})).catch((e=>{console.log(e)}))}))},selectRow(e){this.selectedRow=e,console.log(e)}},computed:{...(0,we.aH)(["user"])}},Ee=s(1241);const xe=(0,Ee.A)(Ce,[["render",fe]]);var Ae=xe},584:function(e,t,s){"use strict";e.exports=s.p+"img/nl.1c597dfe.png"}}]);
//# sourceMappingURL=75.9a5a5216.js.map